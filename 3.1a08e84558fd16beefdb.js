(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{399:function(e,t,c){"use strict";c.d(t,"a",(function(){return o})),c.d(t,"e",(function(){return a})),c.d(t,"c",(function(){return r})),c.d(t,"b",(function(){return u})),c.d(t,"d",(function(){return i}));var n=c(16),l=c(350);function o(e){return Object(n.f)(e).l>.32?"#000":"#fff"}function a(e,t){return e.map((e,c)=>[e,t[c]])}function r(e,t){return Array.isArray(e)?e.map(e=>{const c=Object(n.g)(e);return c.opacity=t,c.toString()}):r([e],t)[0]}const s=new WeakMap,b=new l.a(e=>{for(const t of e){const e=s.get(t.target);e&&e(t.contentRect,t)}});function u(e,t){s.set(e,t),b.observe(e)}function i(e){s.delete(e),b.unobserve(e)}},400:function(e,t,c){"use strict";c.d(t,"b",(function(){return u})),c.d(t,"a",(function(){return i})),c.d(t,"c",(function(){return O}));var n=c(66),l=c(352),o=c.n(l),a=c(155),r=c(399),s=c(401),b=c(4);function u(e,t,c,n){let l=t.key;if("count"===t.getType(n)){l+="_".concat(c),t.isCasesOrDeath&&(l+="_".concat(Object(b.i)(t,n)));const o=e.get(l);return[Math.max(.14,o.mean-3*o.std),o.mean+3*o.std]}t.isCasesOrDeath&&(l+="_".concat(Object(b.i)(t,n)));const o=e.get(l);return[Math.max(0,o.mean-3*o.std),o.mean+3*o.std]}function i(e,t,c,l){return"value"===t?function(e,t,c){if("count"===c)return function(e,t){const c=Object(n.c)(t.colorScale).domain(e),l=o()(Math.log10(e[0]),Math.log10(e[1]),7),a=l.map(e=>c(e).toString());return{stops:Object(r.e)(l,a),scale:c}}(e,t);if("prop"===c)return function(e,t){const c=Math.max(e[0],0),l=Math.max(c+.01,e[1]),o=c+(l-c)/2,a=c+(o-c)/2,s=o+(l-o)/2,b=Object(n.b)(t.colorScale).domain(e),u=[c,a,o,s,l],i=u.map(e=>b(e).toString());return{stops:Object(r.e)(u,i),scale:b}}(e,t);return function(e,t){const c=e[0]+(e[1]-e[0])/2,l=e[0]+(c-e[0])/2,o=c+(e[1]-c)/2,a=Object(n.b)(t.colorScale).domain(e),s=[e[0],l,c,o,e[1]],b=s.map(e=>a(e).toString());return{stops:Object(r.e)(s,b),scale:a}}(e,t)}(e,c,l):function(){const e=[[s.a,a.e],[-1,a.a.decreasing],[0,a.a.steady],[1,a.a.increasing]],t=[[s.a,a.e],[-1,a.a.gradientMinMega],[0,a.a.gradientMiddleMega],[1,a.a.gradientMaxMega]];return{stops:e,stopsMega:t}}()}function j(e,t,c){const n=[e],l=(t-e)/c;for(let e=1;e<c;e++)n.push(n[e-1]+l);return n.push(t),n}function O(e,t,c,n,l,r=!1){const s=e?u(e,t,c,l):null;if(!s)return{labels:[],high:"",valueMinMax:[0,0]};const b=function(e,t,c,n){const l=n?5:7;if("count"===e.getType(t)){const e=Math.log10(Math.max(.01,c[0])),t=Math.log10(Math.max(.1,c[1]));return o()(e,t,l)}return"raw"===e.format?(c[0]=Math.max(0,c[0]),j(c[0],c[1],l)):(c[0]=Math.max(0,c[0]),c[1]=Math.min(100,c[1]),j(c[0],c[1],l))}(t,l,s,r);return{low:t.formatValue(0),lowValue:0,lowColor:a.f,labels:b.slice(0,-1).map((e,c)=>({label:t.formatValue(e),value:e,color:n(e),nextColor:n(b[c+1])})),high:"".concat(t.formatValue(s[1]),"+"),highValue:s[1],highColor:n(s[1]),valueMinMax:s}}},401:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return o}));var n=c(155);const l=-100;function o(e){return["case",["==",["to-number",["feature-state","value"],l],l],n.e,["==",["to-number",["feature-state","value"],l],0],n.f,["interpolate",["linear"],["to-number",["feature-state","value"],0],...e.flat()]]}},409:function(e,t,c){"use strict";var n=c(1),l=c(2),o=c(413),a=c(204),r=c(42);c(358);function s(e,t,c){const n=e.slice();return n[19]=t[c],n}function b(e,t,c){const n=e.slice();return n[25]=t[c],n}function u(e,t,c){const n=e.slice();return n[22]=t[c],n}function i(e){let t,c,l,o,a,r=e[25].name+"";return{c(){t=Object(n.u)("option"),c=Object(n.ab)(r),l=Object(n.W)(),Object(n.g)(t,"title",o="function"==typeof e[25].tooltipText?e[25].tooltipText():e[25].tooltipText),t.__value=a=e[25].key,t.value=t.__value},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(t,l)},p(e,l){128&l&&r!==(r=e[25].name+"")&&Object(n.S)(c,r),128&l&&o!==(o="function"==typeof e[25].tooltipText?e[25].tooltipText():e[25].tooltipText)&&Object(n.g)(t,"title",o),128&l&&a!==(a=e[25].key)&&(t.__value=a,t.value=t.__value)},d(e){e&&Object(n.t)(t)}}}function j(e){let t,c,l=e[22].sensors,o=[];for(let t=0;t<l.length;t+=1)o[t]=i(b(e,l,t));return{c(){t=Object(n.u)("optgroup");for(let e=0;e<o.length;e+=1)o[e].c();Object(n.g)(t,"label",c=e[22].label)},m(e,c){Object(n.F)(e,t,c);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,a){if(128&a){let c;for(l=e[22].sensors,c=0;c<l.length;c+=1){const n=b(e,l,c);o[c]?o[c].p(n,a):(o[c]=i(n),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}128&a&&c!==(c=e[22].label)&&Object(n.g)(t,"label",c)},d(e){e&&Object(n.t)(t),Object(n.s)(o,e)}}}function O(e){let t,c,l,o,a=e[19].labelPlural+"";return{c(){t=Object(n.u)("option"),c=Object(n.ab)(a),t.__value=l=e[19].id,t.value=t.__value,t.disabled=o=!e[9].levels.includes(e[19].id)},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c)},p(e,r){1&r&&a!==(a=e[19].labelPlural+"")&&Object(n.S)(c,a),1&r&&l!==(l=e[19].id)&&(t.__value=l,t.value=t.__value),513&r&&o!==(o=!e[9].levels.includes(e[19].id))&&(t.disabled=o)},d(e){e&&Object(n.t)(t)}}}function f(e){let t,c,l,o,a,r;const s=[g,d],b=[];function u(e,t){return null!=e[4]&&0!==e[5].length?0:1}return o=u(e),a=b[o]=s[o](e),{c(){t=Object(n.u)("div"),c=Object(n.u)("span"),c.textContent="on",l=Object(n.W)(),a.c(),Object(n.g)(c,"class","option-title svelte-14r04uz"),Object(n.g)(t,"class","option-wrapper svelte-14r04uz")},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,l),b[o].m(t,null),r=!0},p(e,c){let l=o;o=u(e),o===l?b[o].p(e,c):(Object(n.B)(),Object(n.eb)(b[l],1,1,()=>{b[l]=null}),Object(n.k)(),a=b[o],a||(a=b[o]=s[o](e),a.c()),Object(n.db)(a,1),a.m(t,null))},i(e){r||(Object(n.db)(a),r=!0)},o(e){Object(n.eb)(a),r=!1},d(e){e&&Object(n.t)(t),b[o].d()}}}function d(e){let t,c,l,o,a=e[3](e[4])+"";return{c(){t=Object(n.u)("button"),c=Object(n.ab)(a),Object(n.g)(t,"aria-label","selected date"),Object(n.g)(t,"class","calendar base-font-size svelte-14r04uz")},m(a,r){Object(n.F)(a,t,r),Object(n.e)(t,c),l||(o=Object(n.H)(t,"",e[11]),l=!0)},p(e,t){24&t&&a!==(a=e[3](e[4])+"")&&Object(n.S)(c,a)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),l=!1,o()}}}function g(e){let t,c,l;function a(t){e[14].call(null,t)}let s={start:Object(r.h)(e[5][0]),end:Object(r.h)(e[5][1]),formattedSelected:e[3](e[4]),$$slots:{default:[p]},$$scope:{ctx:e}};return void 0!==e[4]&&(s.selected=e[4]),t=new o.a({props:s}),n.i.push(()=>Object(n.h)(t,"selected",a)),{c(){Object(n.n)(t.$$.fragment)},m(e,c){Object(n.I)(t,e,c),l=!0},p(e,l){const o={};32&l&&(o.start=Object(r.h)(e[5][0])),32&l&&(o.end=Object(r.h)(e[5][1])),24&l&&(o.formattedSelected=e[3](e[4])),268435480&l&&(o.$$scope={dirty:l,ctx:e}),!c&&16&l&&(c=!0,o.selected=e[4],Object(n.c)(()=>c=!1)),t.$set(o)},i(e){l||(Object(n.db)(t.$$.fragment,e),l=!0)},o(e){Object(n.eb)(t.$$.fragment,e),l=!1},d(e){Object(n.r)(t,e)}}}function p(e){let t,c,l,o,a=e[3](e[4])+"";return{c(){t=Object(n.u)("button"),c=Object(n.ab)(a),Object(n.g)(t,"aria-label","selected date"),Object(n.g)(t,"class","calendar base-font-size svelte-14r04uz")},m(a,r){Object(n.F)(a,t,r),Object(n.e)(t,c),l||(o=Object(n.H)(t,"",e[10]),l=!0)},p(e,t){24&t&&a!==(a=e[3](e[4])+"")&&Object(n.S)(c,a)},d(e){e&&Object(n.t)(t),l=!1,o()}}}function h(e){let t,c,l,o,a,r,b,i,d,g,p,h,m,v,$,x=e[7],M=[];for(let t=0;t<x.length;t+=1)M[t]=j(u(e,x,t));let w=e[0],y=[];for(let t=0;t<w.length;t+=1)y[t]=O(s(e,w,t));let _=e[2]&&f(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),l=Object(n.u)("span"),l.textContent="Displaying",o=Object(n.W)(),a=Object(n.u)("select");for(let e=0;e<M.length;e+=1)M[e].c();r=Object(n.W)(),b=Object(n.u)("div"),i=Object(n.u)("span"),i.textContent="for",d=Object(n.W)(),g=Object(n.u)("select");for(let e=0;e<y.length;e+=1)y[e].c();p=Object(n.W)(),_&&_.c(),Object(n.g)(l,"class","option-title svelte-14r04uz"),Object(n.g)(a,"id","option-indicator"),Object(n.g)(a,"aria-label","indicator options"),Object(n.g)(a,"class","indicators base-font-size svelte-14r04uz"),void 0===e[6]&&Object(n.d)(()=>e[12].call(a)),Object(n.g)(c,"class","option-wrapper svelte-14r04uz"),Object(n.g)(i,"class","option-title svelte-14r04uz"),Object(n.g)(g,"id","option-geo-level"),Object(n.g)(g,"aria-label","geographic level"),Object(n.g)(g,"class","geo-level base-font-size svelte-14r04uz"),void 0===e[8]&&Object(n.d)(()=>e[13].call(g)),Object(n.g)(b,"class","option-wrapper svelte-14r04uz"),Object(n.g)(t,"class",h="options base-font-size container-bg container-style "+e[1]+" svelte-14r04uz")},m(s,u){Object(n.F)(s,t,u),Object(n.e)(t,c),Object(n.e)(c,l),Object(n.e)(c,o),Object(n.e)(c,a);for(let e=0;e<M.length;e+=1)M[e].m(a,null);Object(n.Q)(a,e[6]),Object(n.e)(t,r),Object(n.e)(t,b),Object(n.e)(b,i),Object(n.e)(b,d),Object(n.e)(b,g);for(let e=0;e<y.length;e+=1)y[e].m(g,null);Object(n.Q)(g,e[8]),Object(n.e)(t,p),_&&_.m(t,null),m=!0,v||($=[Object(n.H)(a,"change",e[12]),Object(n.H)(g,"change",e[13])],v=!0)},p(e,[c]){if(128&c){let t;for(x=e[7],t=0;t<x.length;t+=1){const n=u(e,x,t);M[t]?M[t].p(n,c):(M[t]=j(n),M[t].c(),M[t].m(a,null))}for(;t<M.length;t+=1)M[t].d(1);M.length=x.length}if(192&c&&Object(n.Q)(a,e[6]),513&c){let t;for(w=e[0],t=0;t<w.length;t+=1){const n=s(e,w,t);y[t]?y[t].p(n,c):(y[t]=O(n),y[t].c(),y[t].m(g,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=w.length}257&c&&Object(n.Q)(g,e[8]),e[2]?_?(_.p(e,c),4&c&&Object(n.db)(_,1)):(_=f(e),_.c(),Object(n.db)(_,1),_.m(t,null)):_&&(Object(n.B)(),Object(n.eb)(_,1,1,()=>{_=null}),Object(n.k)()),(!m||2&c&&h!==(h="options base-font-size container-bg container-style "+e[1]+" svelte-14r04uz"))&&Object(n.g)(t,"class",h)},i(e){m||(Object(n.db)(_),m=!0)},o(e){Object(n.eb)(_),m=!1},d(e){e&&Object(n.t)(t),Object(n.s)(M,e),Object(n.s)(y,e),_&&_.d(),v=!1,Object(n.O)($)}}}function m(e,t,c){let o,s,b,u,i,j;Object(n.l)(e,l.t,e=>c(15,o=e)),Object(n.l)(e,l.g,e=>c(16,s=e)),Object(n.l)(e,l.F,e=>c(17,b=e)),Object(n.l)(e,l.n,e=>c(6,u=e)),Object(n.l)(e,l.j,e=>c(8,i=e)),Object(n.l)(e,l.o,e=>c(9,j=e));let O,f,d,g,p,{levels:h=l.v}=t,{className:m=""}=t,{showDate:v=!0}=t;return e.$$set=e=>{"levels"in e&&c(0,h=e.levels),"className"in e&&c(1,m=e.className),"showDate"in e&&c(2,v=e.showDate)},e.$$.update=()=>{32768&e.$$.dirty&&c(3,O=o?Object(a.a)("%x"):Object(a.a)("%B %-d, %Y")),65536&e.$$.dirty&&c(4,f=Object(r.h)(s)),16&e.$$.dirty&&void 0!==f&&l.g.set(Object(r.b)(f)),131136&e.$$.dirty&&null!==b&&c(5,d=b.get(u)),1&e.$$.dirty&&c(18,g=new Set(h.map(e=>e.id))),262144&e.$$.dirty&&c(7,p=l.r.map(e=>({label:e.label,sensors:e.sensors.filter(e=>e.levels.some(e=>g.has(e)))})).filter(e=>e.sensors.length>0))},c(5,d=[]),[h,m,v,O,f,d,u,p,i,j,function(t){Object(n.j)(e,t)},function(t){Object(n.j)(e,t)},function(){u=Object(n.R)(this),l.n.set(u),c(7,p),c(18,g),c(0,h)},function(){i=Object(n.R)(this),l.j.set(i),c(0,h)},function(e){f=e,c(4,f),c(16,s)}]}class v extends n.b{constructor(e){super(),Object(n.E)(this,e,m,h,n.P,{levels:0,className:1,showDate:2})}}t.a=v}}]);