(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{397:function(e,t,c){"use strict";c.r(t);var l=c(1),n=c(455),b=c(86),s=c(3),o=c(6),i=c(211),a=c(335),j=c(456),O=c(459),r=c(161),h=c(454);c(387);function f(e,t,c){const l=e.slice();return l[13]=t[c],l[15]=c,l}function d(e){let t,c,n,b,s;return c=new a.a({}),{c(){t=Object(l.v)("button"),Object(l.o)(c.$$.fragment),Object(l.h)(t,"title","Show sensor description"),Object(l.h)(t,"class","pg-button pg-button-circle info svelte-15wnlt9")},m(o,i){Object(l.G)(o,t,i),Object(l.J)(c,t,null),n=!0,b||(s=Object(l.I)(t,"click",e[9]),b=!0)},p:l.K,i(e){n||(Object(l.db)(c.$$.fragment,e),n=!0)},o(e){Object(l.eb)(c.$$.fragment,e),n=!1},d(e){e&&Object(l.u)(t),Object(l.s)(c),b=!1,s()}}}function g(e){let t,c,n,b,s,o,i,a,j=e[13].displayName+"",O=(null!=e[5][e[15]]?e[0].formatValue(e[5][e[15]]):"?")+"",r=0===e[15]&&function(e){let t,c,n,b,s=e[8](e[6]?e[6]:e[1])+"";return{c(){t=Object(l.v)("td"),c=Object(l.ab)("on "),n=Object(l.ab)(s),Object(l.h)(t,"class","hint svelte-15wnlt9"),Object(l.h)(t,"rowspan",b=e[4].length)},m(e,b){Object(l.G)(e,t,b),Object(l.f)(t,c),Object(l.f)(t,n)},p(e,c){66&c&&s!==(s=e[8](e[6]?e[6]:e[1])+"")&&Object(l.T)(n,s),16&c&&b!==(b=e[4].length)&&Object(l.h)(t,"rowspan",b)},d(e){e&&Object(l.u)(t)}}}(e);return{c(){t=Object(l.v)("tr"),c=Object(l.v)("td"),n=Object(l.ab)(j),b=Object(l.W)(),s=Object(l.v)("td"),o=Object(l.ab)(O),i=Object(l.W)(),r&&r.c(),a=Object(l.W)(),Object(l.h)(c,"class","legend svelte-15wnlt9"),Object(l.V)(c,"--color",0===e[15]?"grey":e[13].color),Object(l.h)(s,"class","key-fact svelte-15wnlt9")},m(e,j){Object(l.G)(e,t,j),Object(l.f)(t,c),Object(l.f)(c,n),Object(l.f)(t,b),Object(l.f)(t,s),Object(l.f)(s,o),Object(l.f)(t,i),r&&r.m(t,null),Object(l.f)(t,a)},p(e,t){16&t&&j!==(j=e[13].displayName+"")&&Object(l.T)(n,j),16&t&&Object(l.V)(c,"--color",0===e[15]?"grey":e[13].color),33&t&&O!==(O=(null!=e[5][e[15]]?e[0].formatValue(e[5][e[15]]):"?")+"")&&Object(l.T)(o,O),0===e[15]&&r.p(e,t)},d(e){e&&Object(l.u)(t),r&&r.d()}}}function u(e){let t,c,n,b,s,o,i,a,r,h,u,m,p,v,$,w,T,y=("function"==typeof e[0].mapTitleText?e[0].mapTitleText():e[0].name)+"",x=e[0].description&&d(e),V=e[4],k=[];for(let t=0;t<V.length;t+=1)k[t]=g(f(e,V,t));return $=new O.a({props:{data:e[7].data,spec:e[7].spec,noDataText:e[7].noDataText,signals:{currentDate:e[1],highlightTimeValue:e[3]},signalListeners:["highlight"],tooltip:j.a,tooltipProps:{sensor:e[0]}}}),$.$on("signal",(function(){Object(l.H)(e[2])&&e[2].apply(this,arguments)})),{c(){t=Object(l.v)("section"),c=Object(l.v)("div"),n=Object(l.v)("div"),b=Object(l.v)("h4"),s=Object(l.ab)(y),o=Object(l.W)(),i=Object(l.v)("div"),x&&x.c(),a=Object(l.W)(),r=Object(l.v)("table"),h=Object(l.v)("colgroup"),h.innerHTML='<col class="locationCol svelte-15wnlt9"/> \n      <col class="valueCol svelte-15wnlt9"/> \n      <col class="dateCol svelte-15wnlt9"/>',u=Object(l.W)(),m=Object(l.v)("tbody");for(let e=0;e<k.length;e+=1)k[e].c();p=Object(l.W)(),v=Object(l.v)("main"),Object(l.o)($.$$.fragment),Object(l.h)(b,"class","svelte-15wnlt9"),Object(l.h)(n,"class","bounds svelte-15wnlt9"),Object(l.h)(i,"class","toolbar svelte-15wnlt9"),Object(l.h)(c,"class","header svelte-15wnlt9"),Object(l.h)(r,"class","key svelte-15wnlt9"),Object(l.cb)(r,"single",1===e[4].length),Object(l.h)(v,"class","vega-wrapper svelte-15wnlt9"),Object(l.h)(t,"class","card container-bg container-style svelte-15wnlt9"),Object(l.h)(t,"data-testid",w="sensor-"+e[0].key)},m(e,j){Object(l.G)(e,t,j),Object(l.f)(t,c),Object(l.f)(c,n),Object(l.f)(n,b),Object(l.f)(b,s),Object(l.f)(c,o),Object(l.f)(c,i),x&&x.m(i,null),Object(l.f)(t,a),Object(l.f)(t,r),Object(l.f)(r,h),Object(l.f)(r,u),Object(l.f)(r,m);for(let e=0;e<k.length;e+=1)k[e].m(m,null);Object(l.f)(t,p),Object(l.f)(t,v),Object(l.J)($,v,null),T=!0},p(c,[n]){if(e=c,(!T||1&n)&&y!==(y=("function"==typeof e[0].mapTitleText?e[0].mapTitleText():e[0].name)+"")&&Object(l.T)(s,y),e[0].description?x?(x.p(e,n),1&n&&Object(l.db)(x,1)):(x=d(e),x.c(),Object(l.db)(x,1),x.m(i,null)):x&&(Object(l.C)(),Object(l.eb)(x,1,1,()=>{x=null}),Object(l.l)()),371&n){let t;for(V=e[4],t=0;t<V.length;t+=1){const c=f(e,V,t);k[t]?k[t].p(c,n):(k[t]=g(c),k[t].c(),k[t].m(m,null))}for(;t<k.length;t+=1)k[t].d(1);k.length=V.length}16&n&&Object(l.cb)(r,"single",1===e[4].length);const b={};128&n&&(b.data=e[7].data),128&n&&(b.spec=e[7].spec),128&n&&(b.noDataText=e[7].noDataText),10&n&&(b.signals={currentDate:e[1],highlightTimeValue:e[3]}),1&n&&(b.tooltipProps={sensor:e[0]}),$.$set(b),(!T||1&n&&w!==(w="sensor-"+e[0].key))&&Object(l.h)(t,"data-testid",w)},i(e){T||(Object(l.db)(x),Object(l.db)($.$$.fragment,e),T=!0)},o(e){Object(l.eb)(x),Object(l.eb)($.$$.fragment,e),T=!1},d(e){e&&Object(l.u)(t),x&&x.d(),Object(l.t)(k,e),Object(l.s)($)}}}function m(e,t,c){let n;Object(l.m)(e,s.G,e=>c(12,n=e));const b=Object(i.a)("%m/%d/%Y");let{sensor:o}=t,{date:a}=t,{onHighlight:j}=t,{highlightTimeValue:O}=t,f=n[0],d=n[1],{selections:g=[]}=t,u=g.map(()=>null);let m,p;return e.$$set=e=>{"sensor"in e&&c(0,o=e.sensor),"date"in e&&c(1,a=e.date),"onHighlight"in e&&c(2,j=e.onHighlight),"highlightTimeValue"in e&&c(3,O=e.highlightTimeValue),"selections"in e&&c(4,g=e.selections)},e.$$.update=()=>{if(8&e.$$.dirty&&c(6,m=null!=O?Object(r.f)(O):null),7168&e.$$.dirty&&(f.getTime()!==n[0].getTime()&&c(10,f=n[0]),d.getTime()!==n[1].getTime()&&c(11,d=n[1])),3089&e.$$.dirty&&c(7,p=Object(h.c)(o,g,f,d)),210&e.$$.dirty){const e=Object(r.d)(m||a);Promise.resolve(p.data).then(t=>{c(5,u=g.map(c=>{const l=t.find(t=>String(t.time_value)===e&&t.geo_value===c.info.propertyId);return l?l.value:null}))})}},[o,a,j,O,g,u,m,p,b,()=>{s.j.set(o)}]}class p extends l.b{constructor(e){super(),Object(l.F)(this,e,m,u,l.Q,{sensor:0,date:1,onHighlight:2,highlightTimeValue:3,selections:4})}}var v=p,$=c(61);c(388);function w(e,t,c){const l=e.slice();return l[9]=t[c],l}function T(e,t){let c,n,b;return n=new v({props:{sensor:t[9],date:t[2],selections:t[0],onHighlight:h.b,highlightTimeValue:t[3]}}),{key:e,first:null,c(){c=Object(l.w)(),Object(l.o)(n.$$.fragment),this.first=c},m(e,t){Object(l.G)(e,c,t),Object(l.J)(n,e,t),b=!0},p(e,t){const c={};4&t&&(c.date=e[2]),1&t&&(c.selections=e[0]),8&t&&(c.highlightTimeValue=e[3]),n.$set(c)},i(e){b||(Object(l.db)(n.$$.fragment,e),b=!0)},o(e){Object(l.eb)(n.$$.fragment,e),b=!1},d(e){e&&Object(l.u)(c),Object(l.s)(n,e)}}}function y(e){let t,c,s,i,a,j,O=[],r=new Map;c=new n.a({props:{className:"search-container container-bg container-style",placeholder:e[1]?"Compare with...":"Search for a location...",items:b.d,selectedItems:e[0],labelFieldName:"displayName",maxItemsToShowInList:"5",colorFieldName:"color",filterItem:e[4],maxSelections:Math.min($.g.length+1,4)}}),c.$on("add",e[5]),c.$on("remove",e[6]),c.$on("change",e[7]);let h=o.k;const f=e=>e[9].key;for(let t=0;t<h.length;t+=1){let c=w(e,h,t),l=f(c);r.set(l,O[t]=T(l,c))}return{c(){t=Object(l.v)("div"),Object(l.o)(c.$$.fragment),s=Object(l.W)(),i=Object(l.v)("div"),a=Object(l.v)("div");for(let e=0;e<O.length;e+=1)O[e].c();Object(l.h)(a,"class","card-grid svelte-vf7n7w"),Object(l.h)(i,"class","grid-wrapper svelte-vf7n7w"),Object(l.h)(t,"class","root base-font-size svelte-vf7n7w")},m(e,n){Object(l.G)(e,t,n),Object(l.J)(c,t,null),Object(l.f)(t,s),Object(l.f)(t,i),Object(l.f)(i,a);for(let e=0;e<O.length;e+=1)O[e].m(a,null);j=!0},p(e,[t]){const n={};if(2&t&&(n.placeholder=e[1]?"Compare with...":"Search for a location..."),1&t&&(n.selectedItems=e[0]),c.$set(n),13&t){const c=o.k;Object(l.C)(),O=Object(l.fb)(O,t,f,1,e,c,r,a,l.N,T,null,w),Object(l.l)()}},i(e){if(!j){Object(l.db)(c.$$.fragment,e);for(let e=0;e<h.length;e+=1)Object(l.db)(O[e]);j=!0}},o(e){Object(l.eb)(c.$$.fragment,e);for(let e=0;e<O.length;e+=1)Object(l.eb)(O[e]);j=!1},d(e){e&&Object(l.u)(t),Object(l.s)(c);for(let e=0;e<O.length;e+=1)O[e].d()}}}function x(e,t,c){let n,b,o,i;Object(l.m)(e,s.m,e=>c(0,n=e)),Object(l.m)(e,s.o,e=>c(1,b=e)),Object(l.m)(e,s.i,e=>c(2,o=e)),Object(l.m)(e,s.u,e=>c(3,i=e));let a;return e.$$.update=()=>{1&e.$$.dirty&&(a=new Set(n.map(e=>e.info.level)))},[n,b,o,i,function(e){return 0===a.size||a.has(e.level)},e=>Object(s.b)(e.detail),e=>Object(s.A)(e.detail.info),e=>Object(s.C)(e.detail)]}class V extends l.b{constructor(e){super(),Object(l.F)(this,e,x,y,l.Q,{})}}t.default=V}}]);