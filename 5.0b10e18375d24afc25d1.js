(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{378:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(2),o=c(411),a=c(408),s=c(409),l=c(158),r=c(402),b=c(359),u=c(157),O=c(116),j=c(351),d=c(4),p=c(406),g=c(403);c(360);function h(e){let t,c,i;return c=new p.a({props:{data:e[0].data,spec:e[0].spec,noDataText:e[1],signals:{currentDate:e[5],highlightTimeValue:e[2]},signalListeners:["highlight"],eventListeners:["click"],tooltip:g.a,tooltipProps:{sensor:e[0].sensor}}}),c.$on("click",(function(){Object(n.G)(e[3])&&e[3].apply(this,arguments)})),c.$on("signal",(function(){Object(n.G)(e[4])&&e[4].apply(this,arguments)})),{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"class","single-sensor-chart vega-wrapper svelte-1dx38td")},m(e,o){Object(n.F)(e,t,o),Object(n.I)(c,t,null),i=!0},p(t,[n]){e=t;const i={};1&n&&(i.data=e[0].data),1&n&&(i.spec=e[0].spec),2&n&&(i.noDataText=e[1]),36&n&&(i.signals={currentDate:e[5],highlightTimeValue:e[2]}),1&n&&(i.tooltipProps={sensor:e[0].sensor}),c.$set(i)},i(e){i||(Object(n.db)(c.$$.fragment,e),i=!0)},o(e){Object(n.eb)(c.$$.fragment,e),i=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c)}}}function m(e,t,c){let o;Object(n.l)(e,i.h,e=>c(5,o=e));let{s:a}=t,{noDataText:s}=t,{highlightTimeValue:l}=t,{onClick:r}=t,{onHighlight:b}=t;return e.$$set=e=>{"s"in e&&c(0,a=e.s),"noDataText"in e&&c(1,s=e.noDataText),"highlightTimeValue"in e&&c(2,l=e.highlightTimeValue),"onClick"in e&&c(3,r=e.onClick),"onHighlight"in e&&c(4,b=e.onHighlight)},[a,s,l,r,b,o]}class f extends n.b{constructor(e){super(),Object(n.E)(this,e,m,h,n.P,{s:0,noDataText:1,highlightTimeValue:2,onClick:3,onHighlight:4})}}var v=f,y=c(328),$=c(410);c(361);const{Boolean:_}=n.A;function w(e,t,c){const n=e.slice();return n[23]=t[c],n}function S(e){let t,c,i,o,a;function s(...t){return e[11](e[23],...t)}return c=new y.a({}),{c(){t=Object(n.u)("button"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"title","Show sensor description"),Object(n.g)(t,"class","pg-button info svelte-ad8szz")},m(e,l){Object(n.F)(e,t,l),Object(n.I)(c,t,null),i=!0,o||(a=Object(n.H)(t,"click",s),o=!0)},p(t,c){e=t},i(e){i||(Object(n.db)(c.$$.fragment,e),i=!0)},o(e){Object(n.eb)(c.$$.fragment,e),i=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c),o=!1,a()}}}function x(e){let t,c,i,o,a,s,l,r,u,O,j,d,p,g,h,m,f=("function"==typeof e[23].sensor.mapTitleText?e[23].sensor.mapTitleText():e[23].sensor.name)+"";function y(...t){return e[10](e[23],...t)}let $=e[23].sensor.longDescription&&S(e);function _(...t){return e[12](e[23],...t)}return O=new b.a({}),d=new v({props:{s:e[23],noDataText:e[3],highlightTimeValue:e[1],onClick:e[7],onHighlight:e[6]}}),{c(){t=Object(n.u)("li"),c=Object(n.u)("div"),i=Object(n.u)("button"),o=Object(n.ab)(f),s=Object(n.W)(),l=Object(n.u)("div"),$&&$.c(),r=Object(n.W)(),u=Object(n.u)("button"),Object(n.n)(O.$$.fragment),j=Object(n.W)(),Object(n.n)(d.$$.fragment),p=Object(n.W)(),Object(n.g)(i,"class","title-button svelte-ad8szz"),Object(n.g)(i,"title",a="function"==typeof e[23].sensor.tooltipText?e[23].sensor.tooltipText():e[23].sensor.tooltipText),Object(n.g)(u,"class","pg-button svelte-ad8szz"),Object(n.g)(u,"title","Show as detail view"),Object(n.cb)(u,"hidden",!e[2]),Object(n.cb)(u,"active",e[0]===e[23].sensor),Object(n.g)(l,"class","toolbar svelte-ad8szz"),Object(n.g)(c,"class","header svelte-ad8szz"),Object(n.g)(t,"class","svelte-ad8szz"),Object(n.cb)(t,"selected",e[5]===e[23].sensor.key)},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,o),Object(n.e)(c,s),Object(n.e)(c,l),$&&$.m(l,null),Object(n.e)(l,r),Object(n.e)(l,u),Object(n.I)(O,u,null),Object(n.e)(t,j),Object(n.I)(d,t,null),Object(n.e)(t,p),g=!0,h||(m=[Object(n.H)(i,"click",Object(n.N)(y)),Object(n.H)(u,"click",Object(n.X)(_))],h=!0)},p(c,s){e=c,(!g||16&s)&&f!==(f=("function"==typeof e[23].sensor.mapTitleText?e[23].sensor.mapTitleText():e[23].sensor.name)+"")&&Object(n.S)(o,f),(!g||16&s&&a!==(a="function"==typeof e[23].sensor.tooltipText?e[23].sensor.tooltipText():e[23].sensor.tooltipText))&&Object(n.g)(i,"title",a),e[23].sensor.longDescription?$?($.p(e,s),16&s&&Object(n.db)($,1)):($=S(e),$.c(),Object(n.db)($,1),$.m(l,r)):$&&(Object(n.B)(),Object(n.eb)($,1,1,()=>{$=null}),Object(n.k)()),4&s&&Object(n.cb)(u,"hidden",!e[2]),17&s&&Object(n.cb)(u,"active",e[0]===e[23].sensor);const b={};16&s&&(b.s=e[23]),8&s&&(b.noDataText=e[3]),2&s&&(b.highlightTimeValue=e[1]),d.$set(b),48&s&&Object(n.cb)(t,"selected",e[5]===e[23].sensor.key)},i(e){g||(Object(n.db)($),Object(n.db)(O.$$.fragment,e),Object(n.db)(d.$$.fragment,e),g=!0)},o(e){Object(n.eb)($),Object(n.eb)(O.$$.fragment,e),Object(n.eb)(d.$$.fragment,e),g=!1},d(e){e&&Object(n.t)(t),$&&$.d(),Object(n.r)(O),Object(n.r)(d),h=!1,Object(n.O)(m)}}}function k(e){let t,c,i=e[4],o=[];for(let t=0;t<i.length;t+=1)o[t]=x(w(e,i,t));const a=e=>Object(n.eb)(o[e],1,1,()=>{o[e]=null});return{c(){t=Object(n.u)("ul");for(let e=0;e<o.length;e+=1)o[e].c();Object(n.g)(t,"class","root svelte-ad8szz")},m(e,i){Object(n.F)(e,t,i);for(let e=0;e<o.length;e+=1)o[e].m(t,null);c=!0},p(e,[c]){if(255&c){let s;for(i=e[4],s=0;s<i.length;s+=1){const a=w(e,i,s);o[s]?(o[s].p(a,c),Object(n.db)(o[s],1)):(o[s]=x(a),o[s].c(),Object(n.db)(o[s],1),o[s].m(t,null))}for(Object(n.B)(),s=i.length;s<o.length;s+=1)a(s);Object(n.k)()}},i(e){if(!c){for(let e=0;e<i.length;e+=1)Object(n.db)(o[e]);c=!0}},o(e){o=o.filter(_);for(let e=0;e<o.length;e+=1)Object(n.eb)(o[e]);c=!1},d(e){e&&Object(n.t)(t),Object(n.s)(o,e)}}}function P(e,t,c){let o,a;Object(n.l)(e,i.C,e=>c(17,o=e)),Object(n.l)(e,i.n,e=>c(5,a=e));let{detail:s=null}=t,{levels:l=d.f}=t,r=o[0],b=o[1];function p(e,t,c,n){return Promise.all(t.map(t=>{const i=t.info;return i.level===d.g.id?[]:Object(u.c)(e,i.level,i.propertyId,c,n,!1,{geo_value:i.propertyId}).then(u.a).then(e=>e.map(e=>(e.displayName=i.displayName,e)))})).then(e=>e.flat())}let{selections:g=[]}=t,h=null;const m=Object(j.a)(e=>{c(1,h=e)},10);let f,v,y,_,w,S,x,k;return e.$$set=e=>{"detail"in e&&c(0,s=e.detail),"levels"in e&&c(8,l=e.levels),"selections"in e&&c(9,g=e.selections)},e.$$.update=()=>{256&e.$$.dirty&&c(15,f=new Set(l.map(e=>e.id))),32768&e.$$.dirty&&c(16,v=i.z.filter(e=>e.levels.some(e=>f.has(e)))),155648&e.$$.dirty&&(r.getTime()!==o[0].getTime()&&c(13,r=o[0]),b.getTime()!==o[1].getTime()&&c(14,b=o[1])),512&e.$$.dirty&&c(18,y=g.length>0?g[0].info:null),512&e.$$.dirty&&c(2,_=g.length>0),512&e.$$.dirty&&c(19,w=g.length>1),262144&e.$$.dirty&&c(20,S=Boolean(y)&&y.level===d.g.id),1048580&e.$$.dirty&&c(3,x=_?S?"Please select a county":"No data available":"No location selected"),1925632&e.$$.dirty&&c(4,k=v.map(e=>({sensor:e,data:w?p(e,g,r,b):y&&!S?Object(u.c)(e,y.level,y.propertyId,r,b,!1,{geo_value:y.propertyId}).then(u.a).then(e=>e.map(e=>(e.displayName=y.displayName,e))):[],spec:Object($.a)(e,g,[r,b])})))},[s,h,_,x,k,a,function(e){const t=e.detail.value,c=t&&Array.isArray(t._vgsid_)?t._vgsid_[0]:null;if(!c)return void m(null);const n=e.detail.view.data("data_0").find(e=>e._vgsid_===c);m(n?n.time_value:null)},function(e){const t=e.detail.item;t&&t.isVoronoi&&(Object(O.a)("side-panel","set-date",t.datum.datum.time_value),i.g.set(t.datum.datum.time_value))},l,g,e=>{Object(O.a)("side-panel","set-sensor",e.sensor.key),i.n.set(e.sensor.key)},e=>{i.i.set(e.sensor)},e=>{Object(O.a)("side-panel",s===e.sensor?"hide-detail":"show-detail",e.sensor.key),c(0,s=s===e.sensor?null:e.sensor)}]}class L extends n.b{constructor(e){super(),Object(n.E)(this,e,P,k,n.P,{detail:0,levels:8,selections:9})}}var F=L,D=c(42),E=c(404),z=c(156),C=c(405);c(362);function R(e){let t,c,i,o,a;return c=new y.a({}),{c(){t=Object(n.u)("button"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"title","Show sensor description"),Object(n.g)(t,"class","pg-button pg-button-circle info svelte-i1uckk")},m(s,l){Object(n.F)(s,t,l),Object(n.I)(c,t,null),i=!0,o||(a=Object(n.H)(t,"click",e[11]),o=!0)},p:n.J,i(e){i||(Object(n.db)(c.$$.fragment,e),i=!0)},o(e){Object(n.eb)(c.$$.fragment,e),i=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c),o=!1,a()}}}function V(e){let t,c,i,o,a,s,l,r,b,u,O=e[0].name.toLowerCase()+"";return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.W)(),o=Object(n.u)("div"),o.textContent="7-day average",a=Object(n.W)(),s=Object(n.u)("div"),l=Object(n.W)(),r=Object(n.u)("div"),b=Object(n.ab)("daily new COVID-19 "),u=Object(n.ab)(O),Object(n.g)(c,"class","legend-avg svelte-i1uckk"),Object(n.g)(s,"class","legend-avg legend-count svelte-i1uckk"),Object(n.g)(t,"class","legend svelte-i1uckk")},m(e,O){Object(n.F)(e,t,O),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.e)(t,s),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(r,u)},p(e,t){1&t&&O!==(O=e[0].name.toLowerCase()+"")&&Object(n.S)(u,O)},d(e){e&&Object(n.t)(t)}}}function T(e){let t,c,i,o,a,s,r,b,u,O,j,d,h,m,f,v,y,$,_,w,S,x,k,P=e[0].name+"",L=(e[4]?e[1].map(A).join(", "):"Unknown")+"",F=e[0].longDescription&&R(e);h=new l.a({}),v=new p.a({props:{data:e[6],spec:e[7],patchSpec:E.d,noDataText:e[5],signals:{currentDate:e[8]},tooltip:g.a,tooltipProps:{sensor:e[0]}}});let D=e[0].isCasesOrDeath&&V(e);return w=new C.a({props:{center:!0,sensor:e[0]}}),{c(){t=Object(n.u)("div"),c=Object(n.u)("h4"),i=Object(n.ab)(P),o=Object(n.ab)(" in "),a=Object(n.ab)(L),s=Object(n.W)(),r=Object(n.u)("div"),b=Object(n.u)("h5"),u=Object(n.ab)(e[3]),O=Object(n.W)(),F&&F.c(),j=Object(n.W)(),d=Object(n.u)("button"),Object(n.n)(h.$$.fragment),m=Object(n.W)(),f=Object(n.u)("div"),Object(n.n)(v.$$.fragment),y=Object(n.W)(),D&&D.c(),$=Object(n.W)(),_=Object(n.u)("div"),Object(n.n)(w.$$.fragment),Object(n.g)(b,"class","svelte-i1uckk"),Object(n.g)(d,"class","pg-button close svelte-i1uckk"),Object(n.g)(d,"title","Close this detail view"),Object(n.g)(t,"class","header svelte-i1uckk"),Object(n.g)(f,"class","single-sensor-chart vega-wrapper svelte-i1uckk"),Object(n.g)(_,"class","encoding svelte-i1uckk")},m(l,p){Object(n.F)(l,t,p),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,o),Object(n.e)(c,a),Object(n.e)(t,s),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(b,u),Object(n.e)(r,O),F&&F.m(r,null),Object(n.e)(t,j),Object(n.e)(t,d),Object(n.I)(h,d,null),e[12](d),Object(n.F)(l,m,p),Object(n.F)(l,f,p),Object(n.I)(v,f,null),Object(n.F)(l,y,p),D&&D.m(l,p),Object(n.F)(l,$,p),Object(n.F)(l,_,p),Object(n.I)(w,_,null),S=!0,x||(k=[Object(n.H)(window,"keydown",e[10]),Object(n.H)(d,"click",e[13])],x=!0)},p(e,[t]){(!S||1&t)&&P!==(P=e[0].name+"")&&Object(n.S)(i,P),(!S||18&t)&&L!==(L=(e[4]?e[1].map(A).join(", "):"Unknown")+"")&&Object(n.S)(a,L),(!S||8&t)&&Object(n.S)(u,e[3]),e[0].longDescription?F?(F.p(e,t),1&t&&Object(n.db)(F,1)):(F=R(e),F.c(),Object(n.db)(F,1),F.m(r,null)):F&&(Object(n.B)(),Object(n.eb)(F,1,1,()=>{F=null}),Object(n.k)());const c={};64&t&&(c.data=e[6]),128&t&&(c.spec=e[7]),32&t&&(c.noDataText=e[5]),256&t&&(c.signals={currentDate:e[8]}),1&t&&(c.tooltipProps={sensor:e[0]}),v.$set(c),e[0].isCasesOrDeath?D?D.p(e,t):(D=V(e),D.c(),D.m($.parentNode,$)):D&&(D.d(1),D=null);const o={};1&t&&(o.sensor=e[0]),w.$set(o)},i(e){S||(Object(n.db)(F),Object(n.db)(h.$$.fragment,e),Object(n.db)(v.$$.fragment,e),Object(n.db)(w.$$.fragment,e),S=!0)},o(e){Object(n.eb)(F),Object(n.eb)(h.$$.fragment,e),Object(n.eb)(v.$$.fragment,e),Object(n.eb)(w.$$.fragment,e),S=!1},d(c){c&&Object(n.t)(t),F&&F.d(),Object(n.r)(h),e[12](null),c&&Object(n.t)(m),c&&Object(n.t)(f),Object(n.r)(v),c&&Object(n.t)(y),D&&D.d(c),c&&Object(n.t)($),c&&Object(n.t)(_),Object(n.r)(w),x=!1,Object(n.O)(k)}}}const A=e=>e.info.displayName;function M(e,t,c){let o,a,s;Object(n.l)(e,i.A,e=>c(14,o=e)),Object(n.l)(e,i.C,e=>c(18,a=e)),Object(n.l)(e,i.h,e=>c(8,s=e));const l=Object(z.a)();let{sensor:r}=t;let{selections:b=[]}=t;let j=null;Object(z.c)(()=>{j&&j.focus()});let p,g,h,m,f,v,y,$;return e.$$set=e=>{"sensor"in e&&c(0,r=e.sensor),"selections"in e&&c(1,b=e.selections)},e.$$.update=()=>{16385&e.$$.dirty&&c(3,p="function"==typeof r.mapTitleText?r.mapTitleText(o):r.mapTitleText),2&e.$$.dirty&&c(15,g=b.length>0?b[0].info:null),2&e.$$.dirty&&c(4,h=b.length>0),2&e.$$.dirty&&c(16,m=b.length>1),32768&e.$$.dirty&&c(17,f=Boolean(g)&&g.level===d.g.id),131088&e.$$.dirty&&c(5,v=h?f?"Please select a county":"No data available":"No location selected"),229379&e.$$.dirty&&c(6,y=m?function(e,t){return Promise.all(t.map(t=>{const c=t.info;return c.level===d.g.id?[]:Object(u.c)(e,c.level,c.propertyId,void 0,void 0,!1,{geo_value:c.propertyId}).then(u.a).then(e=>e.map(e=>(e.displayName=c.displayName,e)))})).then(e=>e.flat())}(r,b):g&&!f?Object(u.c)(r,g.level,g.propertyId,void 0,void 0,!1,{geo_value:g.propertyId}).then(u.a):[]),278531&e.$$.dirty&&c(7,$=Object(E.c)(r,Object(d.i)(r,o),b,a))},[r,b,j,p,h,v,y,$,s,l,function(e){"Escape"!==e.key&&"Esc"!==e.key||(Object(O.a)("detail-view","close","keyboard"),l("close"))},()=>{i.i.set(r)},function(e){n.i[e?"unshift":"push"](()=>{j=e,c(2,j)})},()=>{Object(O.a)("detail-view","close","button"),l("close")}]}class I extends n.b{constructor(e){super(),Object(n.E)(this,e,M,T,n.P,{sensor:0,selections:1})}}var W=I,N=c(412),B=c(155),H=c(82);c(363);function Z(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function U(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function J(e,t,c){const n=e.slice();return n[16]=t[c],n}function Y(e,t,c){const n=e.slice();return n[19]=t[c],n}function q(e){let t,c,i,o,a,s,l,r,b,u,O=e[19].displayName+"",j=e[6].formatValue(e[19].value)+"";function d(...t){return e[12](e[19],...t)}function p(...t){return e[13](e[19],...t)}return{c(){t=Object(n.u)("li"),c=Object(n.u)("button"),i=Object(n.ab)(O),o=Object(n.ab)(" ("),a=Object(n.ab)(j),s=Object(n.ab)(")"),r=Object(n.W)(),Object(n.g)(c,"class","button svelte-2y5ysn"),c.disabled=l=!e[19].info||e[1].some(d),Object(n.g)(t,"class","svelte-2y5ysn")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,o),Object(n.e)(c,a),Object(n.e)(c,s),Object(n.e)(t,r),b||(u=Object(n.H)(c,"click",p),b=!0)},p(t,o){e=t,8&o&&O!==(O=e[19].displayName+"")&&Object(n.S)(i,O),72&o&&j!==(j=e[6].formatValue(e[19].value)+"")&&Object(n.S)(a,j),10&o&&l!==(l=!e[19].info||e[1].some(d))&&(c.disabled=l)},d(e){e&&Object(n.t)(t),b=!1,u()}}}function G(e){let t,c,i,o,a=e[5].reverse(),s=[];for(let t=0;t<a.length;t+=1)s[t]=X(J(e,a,t));let l=0===e[5].length&&K(e);return{c(){t=Object(n.u)("h5"),t.textContent="Select from recent locations",c=Object(n.W)(),i=Object(n.u)("ul");for(let e=0;e<s.length;e+=1)s[e].c();o=Object(n.W)(),l&&l.c(),Object(n.g)(i,"class","svelte-2y5ysn"),Object(n.cb)(i,"empty",0===e[5].length)},m(e,a){Object(n.F)(e,t,a),Object(n.F)(e,c,a),Object(n.F)(e,i,a);for(let e=0;e<s.length;e+=1)s[e].m(i,null);Object(n.e)(i,o),l&&l.m(i,null)},p(e,t){if(160&t){let c;for(a=e[5].reverse(),c=0;c<a.length;c+=1){const n=J(e,a,c);s[c]?s[c].p(n,t):(s[c]=X(n),s[c].c(),s[c].m(i,o))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}0===e[5].length?l||(l=K(e),l.c(),l.m(i,null)):l&&(l.d(1),l=null),32&t&&Object(n.cb)(i,"empty",0===e[5].length)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c),e&&Object(n.t)(i),Object(n.s)(s,e),l&&l.d()}}}function X(e){let t,c,i,o,a,s=e[16].displayName+"";function l(...t){return e[14](e[16],...t)}return{c(){t=Object(n.u)("li"),c=Object(n.u)("button"),i=Object(n.ab)(s),Object(n.g)(c,"class","button svelte-2y5ysn"),Object(n.g)(t,"class","svelte-2y5ysn")},m(e,s){Object(n.F)(e,t,s),Object(n.e)(t,c),Object(n.e)(c,i),o||(a=Object(n.H)(c,"click",l),o=!0)},p(t,c){e=t,32&c&&s!==(s=e[16].displayName+"")&&Object(n.S)(i,s)},d(e){e&&Object(n.t)(t),o=!1,a()}}}function K(e){let t;return{c(){t=Object(n.u)("li"),t.textContent="No recent locations founds",Object(n.g)(t,"class","svelte-2y5ysn")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function Q(e){let t,c,i,o,a,s,l,b,u,O,j,d,p,g,h,m,f,v,y,$=e[6].name+"";o=new r.a({props:{className:"container-bg",placeholder:"Search by name...",selectedItem:(e[4],null),items:e[4],labelFieldName:"displayName",maxItemsToShowInList:"5"}}),o.$on("change",e[10]);let _=e[3],w=[];for(let t=0;t<_.length;t+=1)w[t]=q(Y(e,_,t));let S=e[5].length>0&&G(e);return{c(){t=Object(n.u)("section"),c=Object(n.u)("h4"),c.textContent="Add Another",i=Object(n.W)(),Object(n.n)(o.$$.fragment),a=Object(n.W)(),s=Object(n.u)("p"),l=Object(n.u)("button"),b=Object(n.ab)("Select on map"),u=Object(n.W)(),O=Object(n.u)("h5"),j=Object(n.ab)("Select from Top for "),d=Object(n.u)("span"),p=Object(n.ab)($),g=Object(n.W)(),h=Object(n.u)("ol");for(let e=0;e<w.length;e+=1)w[e].c();m=Object(n.W)(),S&&S.c(),Object(n.g)(c,"class","svelte-2y5ysn"),Object(n.g)(l,"class","pg-button pg-text-button svelte-2y5ysn"),Object(n.g)(l,"aria-pressed",e[0]),Object(n.cb)(l,"selected",e[0]),Object(n.g)(s,"id","select-on-map"),Object(n.g)(s,"class","svelte-2y5ysn"),Object(n.g)(d,"class","current svelte-2y5ysn"),Object(n.g)(h,"class","svelte-2y5ysn"),Object(n.cb)(h,"loading",e[2]),Object(n.g)(t,"class","container-bg container-style root svelte-2y5ysn")},m(r,$){Object(n.F)(r,t,$),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.I)(o,t,null),Object(n.e)(t,a),Object(n.e)(t,s),Object(n.e)(s,l),Object(n.e)(l,b),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,j),Object(n.e)(O,d),Object(n.e)(d,p),Object(n.e)(t,g),Object(n.e)(t,h);for(let e=0;e<w.length;e+=1)w[e].m(h,null);Object(n.e)(t,m),S&&S.m(t,null),f=!0,v||(y=Object(n.H)(l,"click",e[11]),v=!0)},p(e,[c]){const i={};if(16&c&&(i.selectedItem=(e[4],null)),16&c&&(i.items=e[4]),o.$set(i),(!f||1&c)&&Object(n.g)(l,"aria-pressed",e[0]),1&c&&Object(n.cb)(l,"selected",e[0]),(!f||64&c)&&$!==($=e[6].name+"")&&Object(n.S)(p,$),202&c){let t;for(_=e[3],t=0;t<_.length;t+=1){const n=Y(e,_,t);w[t]?w[t].p(n,c):(w[t]=q(n),w[t].c(),w[t].m(h,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=_.length}4&c&&Object(n.cb)(h,"loading",e[2]),e[5].length>0?S?S.p(e,c):(S=G(e),S.c(),S.m(t,null)):S&&(S.d(1),S=null)},i(e){f||(Object(n.db)(o.$$.fragment,e),f=!0)},o(e){Object(n.eb)(o.$$.fragment,e),f=!1},d(e){e&&Object(n.t)(t),Object(n.r)(o),Object(n.s)(w,e),S&&S.d(),v=!1,y()}}}function ee(e,t,c){let o,a;Object(n.l)(e,i.w,e=>c(15,o=e)),Object(n.l)(e,i.o,e=>c(6,a=e));const s=Object(z.a)();let{mapData:l}=t,{regionSearchList:r}=t,{pickMapMode:b=!1}=t,{selections:u=[]}=t,O=!0,j=[];let p,g;return e.$$set=e=>{"mapData"in e&&c(8,l=e.mapData),"regionSearchList"in e&&c(9,r=e.regionSearchList),"pickMapMode"in e&&c(0,b=e.pickMapMode),"selections"in e&&c(1,u=e.selections)},e.$$.update=()=>{514&e.$$.dirty&&c(4,p=r.filter(e=>e.level!==d.g.id&&!u.some(t=>t.info.id===e.id))),32770&e.$$.dirty&&c(5,g=o.filter(e=>!u.some(t=>t.info.id===e.id))),256&e.$$.dirty&&(c(2,O=!0),l.then(e=>{c(2,O=!1),c(3,j=e.map(e=>{const t=Object(H.b)(e.geo_value);return function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(c),!0).forEach((function(t){U(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({displayName:t?t.displayName:e.geo_value,info:t},e)}).sort((e,t)=>e.value!==t.value?e.value<t.value?1:-1:e.displayName.localeCompare(t.displayName)).slice(0,10))}))},[b,u,O,j,p,g,a,s,l,r,e=>{e.detail&&s("add",e.detail)},()=>c(0,b=!b),(e,t)=>t.info.id===e.info.id,e=>s("add",e.info),e=>s("add",e)]}class te extends n.b{constructor(e){super(),Object(n.E)(this,e,ee,Q,n.P,{mapData:8,regionSearchList:9,pickMapMode:0,selections:1})}}var ce=te;c(364);function ne(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function ie(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(c),!0).forEach((function(t){oe(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):ne(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function oe(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}const{Boolean:ae}=n.A;function se(e,t,c){const n=e.slice();return n[39]=t[c],n}function le(e){let t,c;return t=new r.a({props:{className:"search-container container-bg container-style",placeholder:"Search for a location...",items:e[1],selectedItem:e[13],labelFieldName:"displayName",maxItemsToShowInList:"5"}}),t.$on("change",e[22]),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};2&c[0]&&(n.items=e[1]),8192&c[0]&&(n.selectedItem=e[13]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function re(e){let t,c,i;return c=new W({props:{sensor:e[4],selections:e[12]}}),c.$on("close",e[29]),{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"class","detail-container container-bg container-style svelte-1hvv6sp")},m(e,o){Object(n.F)(e,t,o),Object(n.I)(c,t,null),i=!0},p(e,t){const n={};16&t[0]&&(n.sensor=e[4]),4096&t[0]&&(n.selections=e[12]),c.$set(n)},i(e){i||(Object(n.db)(c.$$.fragment,e),i=!0)},o(e){Object(n.eb)(c.$$.fragment,e),i=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c)}}}function be(e){let t,c,i,o,a,s,l,r,b,u,O,j,d,p=e[11]?"Exit":"Open";function g(t){e[30].call(null,t)}let h={levels:e[2],selections:e[12]};return void 0!==e[4]&&(h.detail=e[4]),o=new F({props:h}),n.i.push(()=>Object(n.h)(o,"detail",g)),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("div"),Object(n.n)(o.$$.fragment),s=Object(n.W)(),l=Object(n.u)("div"),r=Object(n.u)("button"),b=Object(n.ab)(p),u=Object(n.ab)(" compare mode"),Object(n.g)(i,"class","panel-scroll-container svelte-1hvv6sp"),Object(n.g)(c,"class","panel-wrapper container-bg container-style svelte-1hvv6sp"),Object(n.g)(r,"class","pg-button pg-text-button"),Object(n.g)(l,"class","panel-bottom-wrapper svelte-1hvv6sp"),Object(n.g)(t,"class","panel-container svelte-1hvv6sp")},m(a,p){Object(n.F)(a,t,p),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.I)(o,i,null),Object(n.e)(t,s),Object(n.e)(t,l),Object(n.e)(l,r),Object(n.e)(r,b),Object(n.e)(r,u),O=!0,j||(d=Object(n.H)(r,"click",e[31]),j=!0)},p(e,t){const c={};4&t[0]&&(c.levels=e[2]),4096&t[0]&&(c.selections=e[12]),!a&&16&t[0]&&(a=!0,c.detail=e[4],Object(n.c)(()=>a=!1)),o.$set(c),(!O||2048&t[0])&&p!==(p=e[11]?"Exit":"Open")&&Object(n.S)(b,p)},i(e){O||(Object(n.db)(o.$$.fragment,e),O=!0)},o(e){Object(n.eb)(o.$$.fragment,e),O=!1},d(e){e&&Object(n.t)(t),Object(n.r)(o),j=!1,d()}}}function ue(e){let t,c,i,o,a,s,l,r=e[12],b=[];for(let t=0;t<r.length;t+=1)b[t]=Oe(se(e,r,t));const u=e=>Object(n.eb)(b[e],1,1,()=>{b[e]=null});function O(t){e[33].call(null,t)}let j={regionSearchList:e[1],selections:e[12],mapData:e[10]};return void 0!==e[6]&&(j.pickMapMode=e[6]),a=new ce({props:j}),n.i.push(()=>Object(n.h)(a,"pickMapMode",O)),a.$on("add",e[34]),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("ul");for(let e=0;e<b.length;e+=1)b[e].c();o=Object(n.W)(),Object(n.n)(a.$$.fragment),Object(n.g)(i,"class","svelte-1hvv6sp"),Object(n.g)(c,"class","selection-container container-bg container-style svelte-1hvv6sp"),Object(n.g)(t,"class","add-container svelte-1hvv6sp")},m(e,s){Object(n.F)(e,t,s),Object(n.e)(t,c),Object(n.e)(c,i);for(let e=0;e<b.length;e+=1)b[e].m(i,null);Object(n.e)(t,o),Object(n.I)(a,t,null),l=!0},p(e,t){if(2101248&t[0]){let c;for(r=e[12],c=0;c<r.length;c+=1){const o=se(e,r,c);b[c]?(b[c].p(o,t),Object(n.db)(b[c],1)):(b[c]=Oe(o),b[c].c(),Object(n.db)(b[c],1),b[c].m(i,null))}for(Object(n.B)(),c=r.length;c<b.length;c+=1)u(c);Object(n.k)()}const c={};2&t[0]&&(c.regionSearchList=e[1]),4096&t[0]&&(c.selections=e[12]),1024&t[0]&&(c.mapData=e[10]),!s&&64&t[0]&&(s=!0,c.pickMapMode=e[6],Object(n.c)(()=>s=!1)),a.$set(c)},i(e){if(!l){for(let e=0;e<r.length;e+=1)Object(n.db)(b[e]);Object(n.db)(a.$$.fragment,e),l=!0}},o(e){b=b.filter(ae);for(let e=0;e<b.length;e+=1)Object(n.eb)(b[e]);Object(n.eb)(a.$$.fragment,e),l=!1},d(e){e&&Object(n.t)(t),Object(n.s)(b,e),Object(n.r)(a)}}}function Oe(e){let t,c,i,o,a,s,r,b,u,O,j=e[39].info.displayName+"";function d(...t){return e[32](e[39],...t)}return i=new l.a({}),{c(){t=Object(n.u)("li"),c=Object(n.u)("button"),Object(n.n)(i.$$.fragment),o=Object(n.W)(),a=Object(n.u)("span"),s=Object(n.ab)(j),r=Object(n.W)(),Object(n.g)(c,"class","selection-toolbar pg-button svelte-1hvv6sp"),Object(n.g)(c,"title","Remove selected"),Object(n.g)(t,"class","selection-legend svelte-1hvv6sp"),Object(n.V)(t,"color",e[39].color)},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.I)(i,c,null),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.e)(a,s),Object(n.e)(t,r),b=!0,u||(O=Object(n.H)(c,"click",d),u=!0)},p(c,i){e=c,(!b||4096&i[0])&&j!==(j=e[39].info.displayName+"")&&Object(n.S)(s,j),(!b||4096&i[0])&&Object(n.V)(t,"color",e[39].color)},i(e){b||(Object(n.db)(i.$$.fragment,e),b=!0)},o(e){Object(n.eb)(i.$$.fragment,e),b=!1},d(e){e&&Object(n.t)(t),Object(n.r)(i),u=!1,O()}}}function je(e){let t,c,i,o,l,r,b,u,O,j,d,p;c=new s.a({props:{className:"options-container",levels:e[2]}});let g=!e[11]&&le(e);r=new N.a({props:{map:e[3],mapLoading:e[5],legendLoading:e[5],zoom:e[7]}});let h={data:e[10],sensor:e[15],level:e[9],signalType:e[16],signalOptions:e[17],selections:e[12],encoding:e[8],wrapperClass:e[0]};u=new a.a({props:h}),e[23](u),u.$on("loading",e[24]),u.$on("ready",e[25]),u.$on("zoom",e[26]),u.$on("updatedEncoding",e[27]),u.$on("select",e[28]);let m=null!=e[4]&&!e[14]&&pe&&re(e),f=(e[14]&&!de||!e[14]&&pe)&&be(e),v=e[11]&&ue(e);return{c(){t=Object(n.u)("main"),Object(n.n)(c.$$.fragment),i=Object(n.W)(),g&&g.c(),o=Object(n.W)(),l=Object(n.u)("div"),Object(n.n)(r.$$.fragment),b=Object(n.W)(),Object(n.n)(u.$$.fragment),O=Object(n.W)(),m&&m.c(),j=Object(n.W)(),f&&f.c(),d=Object(n.W)(),v&&v.c(),Object(n.g)(l,"class","map-container svelte-1hvv6sp"),Object(n.cb)(l,"mobileHide",!de),Object(n.cb)(l,"pick",e[6]),Object(n.g)(t,"class","root base-font-size svelte-1hvv6sp"),Object(n.cb)(t,"hiddenPanel",!e[14]&&!pe),Object(n.cb)(t,"compare",e[11])},m(e,a){Object(n.F)(e,t,a),Object(n.I)(c,t,null),Object(n.e)(t,i),g&&g.m(t,null),Object(n.e)(t,o),Object(n.e)(t,l),Object(n.I)(r,l,null),Object(n.e)(l,b),Object(n.I)(u,l,null),Object(n.e)(l,O),m&&m.m(l,null),Object(n.e)(t,j),f&&f.m(t,null),Object(n.e)(t,d),v&&v.m(t,null),p=!0},p(e,i){const a={};4&i[0]&&(a.levels=e[2]),c.$set(a),e[11]?g&&(Object(n.B)(),Object(n.eb)(g,1,1,()=>{g=null}),Object(n.k)()):g?(g.p(e,i),2048&i[0]&&Object(n.db)(g,1)):(g=le(e),g.c(),Object(n.db)(g,1),g.m(t,o));const s={};8&i[0]&&(s.map=e[3]),32&i[0]&&(s.mapLoading=e[5]),32&i[0]&&(s.legendLoading=e[5]),128&i[0]&&(s.zoom=e[7]),r.$set(s);const b={};1024&i[0]&&(b.data=e[10]),32768&i[0]&&(b.sensor=e[15]),512&i[0]&&(b.level=e[9]),65536&i[0]&&(b.signalType=e[16]),131072&i[0]&&(b.signalOptions=e[17]),4096&i[0]&&(b.selections=e[12]),256&i[0]&&(b.encoding=e[8]),1&i[0]&&(b.wrapperClass=e[0]),u.$set(b),null!=e[4]&&!e[14]&&pe?m?(m.p(e,i),16400&i[0]&&Object(n.db)(m,1)):(m=re(e),m.c(),Object(n.db)(m,1),m.m(l,null)):m&&(Object(n.B)(),Object(n.eb)(m,1,1,()=>{m=null}),Object(n.k)()),0&i&&Object(n.cb)(l,"mobileHide",!de),64&i[0]&&Object(n.cb)(l,"pick",e[6]),e[14]&&!de||!e[14]&&pe?f?(f.p(e,i),16384&i[0]&&Object(n.db)(f,1)):(f=be(e),f.c(),Object(n.db)(f,1),f.m(t,d)):f&&(Object(n.B)(),Object(n.eb)(f,1,1,()=>{f=null}),Object(n.k)()),e[11]?v?(v.p(e,i),2048&i[0]&&Object(n.db)(v,1)):(v=ue(e),v.c(),Object(n.db)(v,1),v.m(t,null)):v&&(Object(n.B)(),Object(n.eb)(v,1,1,()=>{v=null}),Object(n.k)()),16384&i[0]&&Object(n.cb)(t,"hiddenPanel",!e[14]&&!pe),2048&i[0]&&Object(n.cb)(t,"compare",e[11])},i(e){p||(Object(n.db)(c.$$.fragment,e),Object(n.db)(g),Object(n.db)(r.$$.fragment,e),Object(n.db)(u.$$.fragment,e),Object(n.db)(m),Object(n.db)(f),Object(n.db)(v),p=!0)},o(e){Object(n.eb)(c.$$.fragment,e),Object(n.eb)(g),Object(n.eb)(r.$$.fragment,e),Object(n.eb)(u.$$.fragment,e),Object(n.eb)(m),Object(n.eb)(f),Object(n.eb)(v),p=!1},d(i){i&&Object(n.t)(t),Object(n.r)(c),g&&g.d(),Object(n.r)(r),e[23](null),Object(n.r)(u),m&&m.d(),f&&f.d(),v&&v.d()}}}let de=!0,pe=!0;function ge(e,t,c){let o,a,s,l,r,b,u,j,d,p,g;Object(n.l)(e,i.l,e=>c(35,o=e)),Object(n.l)(e,i.q,e=>c(8,a=e)),Object(n.l)(e,i.j,e=>c(9,s=e)),Object(n.l)(e,i.o,e=>c(36,l=e)),Object(n.l)(e,i.h,e=>c(37,r=e)),Object(n.l)(e,i.f,e=>c(38,b=e)),Object(n.l)(e,i.m,e=>c(13,u=e)),Object(n.l)(e,i.t,e=>c(14,j=e)),Object(n.l)(e,i.n,e=>c(15,d=e)),Object(n.l)(e,i.B,e=>c(16,p=e)),Object(n.l)(e,i.A,e=>c(17,g=e));let h,{wrapperClass:m}=t,{regionSearchList:f}=t,{levelList:v}=t;function y(){o||h.selectRandom()}function $(e){e&&(e.scale&&i.d.set(e.scale),i.e.set(e.stops),"bubble"===a&&e.custom&&i.c.set(e.custom),"spike"===a&&e.custom&&i.D.set(e.custom))}let _=null,w=!0,S=!1,x=1;function k(e){u?Object(n.U)(i.f,b=[...b,{info:e,color:B.g[b.length]||"grey"}]):Object(i.y)(e)}function P(e){const t=b.slice();if(u&&e.id===u.id)return Object(i.y)(0===t.length?null:t[0].info),void Object(n.U)(i.f,b=t.slice(1).map((e,t)=>ie(ie({},e),{},{color:B.g[t]||"grey"})));Object(n.U)(i.f,b=b.filter(t=>t.info!==e).map((e,t)=>ie(ie({},e),{},{color:B.g[t]||"grey"})))}let L,F,E;return e.$$set=e=>{"wrapperClass"in e&&c(0,m=e.wrapperClass),"regionSearchList"in e&&c(1,f=e.regionSearchList),"levelList"in e&&c(2,v=e.levelList)},e.$$.update=()=>{516&e.$$.dirty[0]&&(v.find(e=>e.id===s)||i.j.set(v[0].id)),512&e.$$.dirty[0]|96&e.$$.dirty[1]&&c(10,L=Object(D.a)(l,s,r,{stderr:null})),128&e.$$.dirty[1]&&c(11,F=null!=b),10240&e.$$.dirty[0]|128&e.$$.dirty[1]&&c(12,E=[u&&{info:u,color:B.d.selectedRegionOutline},F&&b].filter(Boolean).flat())},[m,f,v,h,_,w,S,x,a,s,L,F,E,u,j,d,p,g,y,$,k,P,e=>{Object(i.y)(e.detail),Object(O.a)("search","select",e.detail?e.detail.id:"")},function(e){n.i[e?"unshift":"push"](()=>{h=e,c(3,h)})},e=>c(5,w=e.detail),()=>y(),e=>c(7,x=e.detail),e=>$(e.detail),e=>{if(S){k(Object(H.b)(e.detail.feature.properties.id)),c(6,S=!1)}else Object(i.x)(e.detail.feature,!0),e.detail.feature&&Object(O.a)("map","select",e.detail.feature.id)},()=>c(4,_=null),function(e){_=e,c(4,_)},()=>i.f.set(F?null:[]),e=>P(e.info),function(e){S=e,c(6,S)},e=>k(e.detail)]}class he extends n.b{constructor(e){super(),Object(n.E)(this,e,ge,je,n.P,{wrapperClass:0,regionSearchList:1,levelList:2},[-1,-1])}}var me=he;function fe(e){let t,c;return t=new me({props:{wrapperClass:o.a,regionSearchList:H.d,levelList:i.v}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p:n.J,i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}class ve extends n.b{constructor(e){super(),Object(n.E)(this,e,null,fe,n.P,{})}}t.default=ve},402:function(e,t,c){"use strict";var n=c(1),i=c(335),o=c(158),a=c(156);c(336);function s(e,t,c){const n=e.slice();return n[51]=t[c],n[53]=c,n}function l(e){let t,c;return{c(){t=Object(n.u)("div"),c=Object(n.ab)(e[1]),Object(n.g)(t,"class","autocomplete-list-item-no-results svelte-1ikmjlh")},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,t){2&t[0]&&Object(n.S)(c,e[1])},d(e){e&&Object(n.t)(t)}}}function r(e){let t,c,i=e[12],o=[];for(let t=0;t<i.length;t+=1)o[t]=j(s(e,i,t));let a=e[0]>0&&e[12].length>e[0]&&d(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Object(n.W)(),a&&a.c(),c=Object(n.v)()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);Object(n.F)(e,t,i),a&&a.m(e,i),Object(n.F)(e,c,i)},p(e,n){if(14337&n[0]){let c;for(i=e[12],c=0;c<i.length;c+=1){const a=s(e,i,c);o[c]?o[c].p(a,n):(o[c]=j(a),o[c].c(),o[c].m(t.parentNode,t))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}e[0]>0&&e[12].length>e[0]?a?a.p(e,n):(a=d(e),a.c(),a.m(c.parentNode,c)):a&&(a.d(1),a=null)},d(e){Object(n.s)(o,e),e&&Object(n.t)(t),a&&a.d(e),e&&Object(n.t)(c)}}}function b(e){let t,c,i,o;function a(e,t){return e[51].highlighted?O:u}let s=a(e),l=s(e);function r(...t){return e[32](e[51],...t)}return{c(){t=Object(n.u)("div"),l.c(),Object(n.g)(t,"class",c="autocomplete-list-item "+(e[53]===e[11]?"selected":"")+" svelte-1ikmjlh")},m(e,c){Object(n.F)(e,t,c),l.m(t,null),i||(o=Object(n.H)(t,"click",r),i=!0)},p(i,o){s===(s=a(e=i))&&l?l.p(e,o):(l.d(1),l=s(e),l&&(l.c(),l.m(t,null))),2048&o[0]&&c!==(c="autocomplete-list-item "+(e[53]===e[11]?"selected":"")+" svelte-1ikmjlh")&&Object(n.g)(t,"class",c)},d(e){e&&Object(n.t)(t),l.d(),i=!1,o()}}}function u(e){let t,c,i=e[51].label+"";return{c(){c=Object(n.v)(),t=new n.a(c)},m(e,o){t.m(i,e,o),Object(n.F)(e,c,o)},p(e,c){4096&c[0]&&i!==(i=e[51].label+"")&&t.p(i)},d(e){e&&Object(n.t)(c),e&&t.d()}}}function O(e){let t,c,i=e[51].highlighted.label+"";return{c(){c=Object(n.v)(),t=new n.a(c)},m(e,o){t.m(i,e,o),Object(n.F)(e,c,o)},p(e,c){4096&c[0]&&i!==(i=e[51].highlighted.label+"")&&t.p(i)},d(e){e&&Object(n.t)(c),e&&t.d()}}}function j(e){let t,c=(e[0]<=0||e[53]<e[0])&&b(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,n){e[0]<=0||e[53]<e[0]?c?c.p(e,n):(c=b(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function d(e){let t,c,i,o,a=e[12].length-e[0]+"";return{c(){t=Object(n.u)("div"),c=Object(n.ab)("..."),i=Object(n.ab)(a),o=Object(n.ab)(" results not shown"),Object(n.g)(t,"class","autocomplete-list-item-no-results svelte-1ikmjlh")},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(t,o)},p(e,t){4097&t[0]&&a!==(a=e[12].length-e[0]+"")&&Object(n.S)(i,a)},d(e){e&&Object(n.t)(t)}}}function p(e){let t,c,a,s,b,u,O,j,d,p,g,h,m,f;function v(e,t){return e[12]&&e[12].length>0?r:e[1]?l:void 0}a=new i.a({}),j=new o.a({});let y=v(e),$=y&&y(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),Object(n.n)(a.$$.fragment),s=Object(n.W)(),b=Object(n.u)("input"),u=Object(n.W)(),O=Object(n.u)("button"),Object(n.n)(j.$$.fragment),d=Object(n.W)(),p=Object(n.u)("div"),$&&$.c(),Object(n.g)(c,"class","search-button svelte-1ikmjlh"),Object(n.g)(c,"title","Show Search Field"),Object(n.g)(c,"aria-label","Show Search Field"),Object(n.g)(b,"class","autocomplete-input svelte-1ikmjlh"),Object(n.g)(b,"placeholder",e[2]),Object(n.g)(b,"name",e[4]),b.disabled=e[5],Object(n.g)(b,"title",e[6]),Object(n.g)(b,"aria-label",e[2]),Object(n.g)(O,"class","search-button reset-button svelte-1ikmjlh"),Object(n.g)(O,"title","Clear Search Field"),Object(n.g)(O,"aria-label","Clear Search Field"),Object(n.cb)(O,"hidden",!e[7]),Object(n.g)(p,"class","autocomplete-list svelte-1ikmjlh"),Object(n.cb)(p,"hidden",!e[10]),Object(n.g)(t,"class",g=e[3]+" base-font-size container-style autocomplete svelte-1ikmjlh"),Object(n.cb)(t,"empty",!e[7]),Object(n.cb)(t,"open",e[10])},m(i,o){Object(n.F)(i,t,o),Object(n.e)(t,c),Object(n.I)(a,c,null),Object(n.e)(t,s),Object(n.e)(t,b),e[30](b),Object(n.T)(b,e[7]),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.I)(j,O,null),Object(n.e)(t,d),Object(n.e)(t,p),$&&$.m(p,null),e[33](p),h=!0,m||(f=[Object(n.H)(window,"click",e[16]),Object(n.H)(c,"click",e[22]),Object(n.H)(b,"input",e[31]),Object(n.H)(b,"input",e[19]),Object(n.H)(b,"focus",e[21]),Object(n.H)(b,"keydown",e[17]),Object(n.H)(b,"click",e[20]),Object(n.H)(b,"keypress",e[18]),Object(n.H)(O,"click",e[14]),Object(n.H)(t,"click",e[15])],m=!0)},p(e,c){(!h||4&c[0])&&Object(n.g)(b,"placeholder",e[2]),(!h||16&c[0])&&Object(n.g)(b,"name",e[4]),(!h||32&c[0])&&(b.disabled=e[5]),(!h||64&c[0])&&Object(n.g)(b,"title",e[6]),(!h||4&c[0])&&Object(n.g)(b,"aria-label",e[2]),128&c[0]&&b.value!==e[7]&&Object(n.T)(b,e[7]),128&c[0]&&Object(n.cb)(O,"hidden",!e[7]),y===(y=v(e))&&$?$.p(e,c):($&&$.d(1),$=y&&y(e),$&&($.c(),$.m(p,null))),1024&c[0]&&Object(n.cb)(p,"hidden",!e[10]),(!h||8&c[0]&&g!==(g=e[3]+" base-font-size container-style autocomplete svelte-1ikmjlh"))&&Object(n.g)(t,"class",g),136&c[0]&&Object(n.cb)(t,"empty",!e[7]),1032&c[0]&&Object(n.cb)(t,"open",e[10])},i(e){h||(Object(n.db)(a.$$.fragment,e),Object(n.db)(j.$$.fragment,e),h=!0)},o(e){Object(n.eb)(a.$$.fragment,e),Object(n.eb)(j.$$.fragment,e),h=!1},d(c){c&&Object(n.t)(t),Object(n.r)(a),e[30](null),Object(n.r)(j),$&&$.d(),e[33](null),m=!1,Object(n.O)(f)}}}function g(e,t,c){const i=Object(a.a)();let o,s,l,{items:r}=t,{labelFieldName:b}=t,{labelFunction:u=function(e){return null==e?"":b?e[b]:e}}=t,{selectFirstIfEmpty:O=!1}=t,{minCharactersToSearch:j=1}=t,{maxItemsToShowInList:d=0}=t,{noResultsText:p="No results found"}=t,{placeholder:g}=t,{className:h=""}=t,{name:m}=t,{disabled:f=!1}=t,{title:v}=t,{selectedItem:y}=t,{value:$}=t,_=0;let w,S=!1,x=-1;function k(){const e=function(e){if(null==e)return"";const t=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return _=t.length,j>1&&_<j?"":t.toLowerCase().trim()}(o);if(""===e)return c(12,w=I),void M();const t=e.split(" "),n=I.filter(e=>{const c=e.keywords;return t.every(e=>c.includes(e))}),i=function(e,t){const c="("+e.trim().replace(/\s/g,")(.*)(")+")",n=new RegExp(c,"ig");let i=1;const o=c.split(")(").length+1;let a="";for(;i<o;i++)a+=i%2?"<b>$".concat(i,"</b>"):"$".concat(i);return e=>{const c=Object.assign({highlighted:{}},e);return t&&t.forEach(e=>{c[e]&&(c.highlighted[e]=c[e].replace(n,a))}),c}}(e,["label"]);c(12,w=n.map(i)),M()}function P(e){c(23,y=e.item)}function L(){P(w[x]),T()}function F(){V(),x>0&&c(11,x--,x),E()}function D(){V(),x<w.length-1&&c(11,x++,x),E()}function E(){const e=l.querySelector(".selected");e&&"function"==typeof e.scrollIntoViewIfNeeded&&e.scrollIntoViewIfNeeded()}function z(e){P(e),T()}function C(e){e.stopPropagation(),S&&(s.focus(),T())}function R(){if(c(12,w=I),V(),y)for(let e=0;e<I.length;e++){const t=I[e];if(y==t.item){c(11,x=e),E();break}}}function V(){A()||c(10,S=!0)}function T(){c(10,S=!1),!o&&O&&L()}function A(){return j>1&&_<j}function M(){A()&&T()}let I;return e.$$set=e=>{"items"in e&&c(25,r=e.items),"labelFieldName"in e&&c(26,b=e.labelFieldName),"labelFunction"in e&&c(27,u=e.labelFunction),"selectFirstIfEmpty"in e&&c(28,O=e.selectFirstIfEmpty),"minCharactersToSearch"in e&&c(29,j=e.minCharactersToSearch),"maxItemsToShowInList"in e&&c(0,d=e.maxItemsToShowInList),"noResultsText"in e&&c(1,p=e.noResultsText),"placeholder"in e&&c(2,g=e.placeholder),"className"in e&&c(3,h=e.className),"name"in e&&c(4,m=e.name),"disabled"in e&&c(5,f=e.disabled),"title"in e&&c(6,v=e.title),"selectedItem"in e&&c(23,y=e.selectedItem),"value"in e&&c(24,$=e.value)},e.$$.update=()=>{8388608&e.$$.dirty[0]&&(c(24,$=y),c(7,o=u(y)),i("change",y)),167772160&e.$$.dirty[0]&&(I=r.map(e=>({keywords:u(e).toLowerCase().trim(),label:u(e),item:e})))},[d,p,g,h,m,f,v,o,s,l,S,x,w,z,function(){P({item:void 0}),T()},function(e){e.stopPropagation(),E()},function(){T()},function(e){let t=e.key;"Tab"===t&&e.shiftKey&&(t="ShiftTab");const c={Tab:S?D.bind(this):null,ShiftTab:S?F.bind(this):null,ArrowDown:D.bind(this),ArrowUp:F.bind(this),Escape:C.bind(this)}[t];"function"==typeof c&&(e.preventDefault(),c(e))},function(e){"Enter"===e.key&&(e.preventDefault(),L())},function(e){c(7,o=e.target.value),k(),c(11,x=0),V()},function(){R()},function(){R()},function(){s&&s.focus()},y,$,r,b,u,O,j,function(e){n.i[e?"unshift":"push"](()=>{s=e,c(8,s)})},function(){o=this.value,c(7,o)},e=>z(e),function(e){n.i[e?"unshift":"push"](()=>{l=e,c(9,l)})}]}class h extends n.b{constructor(e){super(),Object(n.E)(this,e,g,p,n.P,{items:25,labelFieldName:26,labelFunction:27,selectFirstIfEmpty:28,minCharactersToSearch:29,maxItemsToShowInList:0,noResultsText:1,placeholder:2,className:3,name:4,disabled:5,title:6,selectedItem:23,value:24},[-1,-1])}}t.a=h},403:function(e,t,c){"use strict";var n=c(1),i=c(204);c(337);function o(e){let t,c,i=e[2].displayName+"";return{c(){t=Object(n.ab)(i),c=Object(n.ab)(" on")},m(e,i){Object(n.F)(e,t,i),Object(n.F)(e,c,i)},p(e,c){4&c&&i!==(i=e[2].displayName+"")&&Object(n.S)(t,i)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c)}}}function a(e){let t,c,i,o,a,s,r,b,u=e[0].yAxis+"",O=e[0].formatValue(e[2].value)+"",j=e[0].hasStdErr&&null!=e[2].stderr&&l(e);return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),i=Object(n.ab)(u),o=Object(n.W)(),a=Object(n.u)("td"),s=Object(n.ab)(O),r=Object(n.W)(),j&&j.c(),b=Object(n.v)(),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(a,"class","right svelte-1icnyvz")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.e)(a,s),Object(n.F)(e,r,l),j&&j.m(e,l),Object(n.F)(e,b,l)},p(e,t){1&t&&u!==(u=e[0].yAxis+"")&&Object(n.S)(i,u),5&t&&O!==(O=e[0].formatValue(e[2].value)+"")&&Object(n.S)(s,O),e[0].hasStdErr&&null!=e[2].stderr?j?j.p(e,t):(j=l(e),j.c(),j.m(b.parentNode,b)):j&&(j.d(1),j=null)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(r),j&&j.d(e),e&&Object(n.t)(b)}}}function s(e){let t,c,i,o,a,s,l,r,b,u,O,j,d,p,g,h,m,f,v,y,$,_,w,S,x,k,P,L,F,D,E,z,C,R,V,T,A,M=e[0].yAxis+"",I=e[3](e[2].date_value)+"",W=e[0].formatValue(e[2].count)+"",N=e[0].formatValue(e[2].countRatio)+"",B=e[0].formatValue(e[2].avg)+"",H=e[0].formatValue(e[2].avgRatio)+"",Z=e[3](e[2].date_value)+"",U=e[0].formatValue(e[2].countCumulative)+"",J=e[0].formatValue(e[2].countRatioCumulative)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),i=Object(n.ab)(M),o=Object(n.W)(),a=Object(n.u)("th"),a.textContent="Count",s=Object(n.W)(),l=Object(n.u)("th"),l.textContent="Ratios (per 100,000)",r=Object(n.W)(),b=Object(n.u)("tr"),u=Object(n.u)("th"),O=Object(n.ab)(I),j=Object(n.W)(),d=Object(n.u)("td"),p=Object(n.ab)(W),g=Object(n.W)(),h=Object(n.u)("td"),m=Object(n.ab)(N),f=Object(n.W)(),v=Object(n.u)("tr"),y=Object(n.u)("th"),y.textContent="7-day avg",$=Object(n.W)(),_=Object(n.u)("td"),w=Object(n.ab)(B),S=Object(n.W)(),x=Object(n.u)("td"),k=Object(n.ab)(H),P=Object(n.W)(),L=Object(n.u)("tr"),F=Object(n.u)("th"),D=Object(n.ab)(Z),E=Object(n.ab)(" (cumulative)"),z=Object(n.W)(),C=Object(n.u)("td"),R=Object(n.ab)(U),V=Object(n.W)(),T=Object(n.u)("td"),A=Object(n.ab)(J),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(a,"class","area svelte-1icnyvz"),Object(n.g)(l,"class","area svelte-1icnyvz"),Object(n.g)(u,"class","svelte-1icnyvz"),Object(n.g)(d,"class","right svelte-1icnyvz"),Object(n.g)(h,"class","right svelte-1icnyvz"),Object(n.g)(y,"class","svelte-1icnyvz"),Object(n.g)(_,"class","right svelte-1icnyvz"),Object(n.g)(x,"class","right svelte-1icnyvz"),Object(n.g)(F,"class","svelte-1icnyvz"),Object(n.g)(C,"class","right svelte-1icnyvz"),Object(n.g)(T,"class","right svelte-1icnyvz")},m(e,M){Object(n.F)(e,t,M),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.e)(t,s),Object(n.e)(t,l),Object(n.F)(e,r,M),Object(n.F)(e,b,M),Object(n.e)(b,u),Object(n.e)(u,O),Object(n.e)(b,j),Object(n.e)(b,d),Object(n.e)(d,p),Object(n.e)(b,g),Object(n.e)(b,h),Object(n.e)(h,m),Object(n.F)(e,f,M),Object(n.F)(e,v,M),Object(n.e)(v,y),Object(n.e)(v,$),Object(n.e)(v,_),Object(n.e)(_,w),Object(n.e)(v,S),Object(n.e)(v,x),Object(n.e)(x,k),Object(n.F)(e,P,M),Object(n.F)(e,L,M),Object(n.e)(L,F),Object(n.e)(F,D),Object(n.e)(F,E),Object(n.e)(L,z),Object(n.e)(L,C),Object(n.e)(C,R),Object(n.e)(L,V),Object(n.e)(L,T),Object(n.e)(T,A)},p(e,t){1&t&&M!==(M=e[0].yAxis+"")&&Object(n.S)(i,M),4&t&&I!==(I=e[3](e[2].date_value)+"")&&Object(n.S)(O,I),5&t&&W!==(W=e[0].formatValue(e[2].count)+"")&&Object(n.S)(p,W),5&t&&N!==(N=e[0].formatValue(e[2].countRatio)+"")&&Object(n.S)(m,N),5&t&&B!==(B=e[0].formatValue(e[2].avg)+"")&&Object(n.S)(w,B),5&t&&H!==(H=e[0].formatValue(e[2].avgRatio)+"")&&Object(n.S)(k,H),4&t&&Z!==(Z=e[3](e[2].date_value)+"")&&Object(n.S)(D,Z),5&t&&U!==(U=e[0].formatValue(e[2].countCumulative)+"")&&Object(n.S)(R,U),5&t&&J!==(J=e[0].formatValue(e[2].countRatioCumulative)+"")&&Object(n.S)(A,J)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(r),e&&Object(n.t)(b),e&&Object(n.t)(f),e&&Object(n.t)(v),e&&Object(n.t)(P),e&&Object(n.t)(L)}}}function l(e){let t,c,i,o,a,s=e[0].formatValue(e[2].stderr)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),c.textContent="Standard Error",i=Object(n.W)(),o=Object(n.u)("td"),a=Object(n.ab)(s),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(o,"class","right svelte-1icnyvz")},m(e,s){Object(n.F)(e,t,s),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(t,o),Object(n.e)(o,a)},p(e,t){5&t&&s!==(s=e[0].formatValue(e[2].stderr)+"")&&Object(n.S)(a,s)},d(e){e&&Object(n.t)(t)}}}function r(e){let t,c,i,l,r,b,u,O=e[3](e[2].date_value)+"",j=e[2].displayName&&o(e);function d(e,t){return e[0].isCasesOrDeath?s:a}let p=d(e),g=p(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("h5"),j&&j.c(),i=Object(n.W)(),l=Object(n.ab)(O),r=Object(n.W)(),b=Object(n.u)("table"),u=Object(n.u)("tbody"),g.c(),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(t,"aria-label","tooltip"),Object(n.g)(t,"class","tooltip svelte-1icnyvz"),Object(n.cb)(t,"hidden",e[1])},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),j&&j.m(c,null),Object(n.e)(c,i),Object(n.e)(c,l),Object(n.e)(t,r),Object(n.e)(t,b),Object(n.e)(b,u),g.m(u,null)},p(e,[a]){e[2].displayName?j?j.p(e,a):(j=o(e),j.c(),j.m(c,i)):j&&(j.d(1),j=null),4&a&&O!==(O=e[3](e[2].date_value)+"")&&Object(n.S)(l,O),p===(p=d(e))&&g?g.p(e,a):(g.d(1),g=p(e),g&&(g.c(),g.m(u,null))),2&a&&Object(n.cb)(t,"hidden",e[1])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),j&&j.d(),g.d()}}}function b(e,t,c){const n=Object(i.a)("%B %d");let{sensor:o}=t,{hidden:a=!1}=t,{item:s}=t;return e.$$set=e=>{"sensor"in e&&c(0,o=e.sensor),"hidden"in e&&c(1,a=e.hidden),"item"in e&&c(2,s=e.item)},[o,a,s,n]}class u extends n.b{constructor(e){super(),Object(n.E)(this,e,b,r,n.P,{sensor:0,hidden:1,item:2})}}t.a=u},404:function(e,t,c){"use strict";c.d(t,"a",(function(){return s})),c.d(t,"e",(function(){return l})),c.d(t,"f",(function(){return r})),c.d(t,"b",(function(){return u})),c.d(t,"c",(function(){return O})),c.d(t,"d",(function(){return j}));var n=c(331);function i(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function o(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?i(Object(c),!0).forEach((function(t){a(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function a(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}const s={description:"shows the current data injected via a signal, y: null is on purpose to invalidate a global y",data:{values:[{date_value:null}]},transform:[{calculate:"toDate(currentDate)",as:"date_value"}],mark:"rule",encoding:{color:{value:"#c00"},x:{field:"date_value",type:"temporal"},y:null}},l={mark:{type:"area",interpolate:"monotone"},encoding:{color:{field:"geo_value"},opacity:{value:.25},y:{field:"value_lower_bound",type:"quantitative"},y2:{field:"value_upper_bound"}}},r=[{calculate:"datum.value == null ? null : datum.value - datum.stderr",as:"value_lower_bound"},{calculate:"datum.value == null ? null : datum.value + datum.stderr",as:"value_upper_bound"}],b={field:"date_value",type:"temporal",axis:{title:null,format:"%m/%d",formatType:"time",tickCount:"day",grid:!1}};function u(e){return e?{field:"geo_value",type:"nominal",scale:{domain:e.map(e=>e.info.propertyId),range:e.map((e,t)=>0===t?"grey":e.color)}}:{value:"grey"}}function O(e,t,c,n){const i={$schema:"https://vega.github.io/schema/vega-lite/v4.json",data:{name:"values"},autosize:{contains:"padding",resize:!0},transform:e.hasStdErr?r:[],vconcat:[{width:"container",encoding:{x:o(o({},b),{},{scale:{domain:{selection:"brush"}}}),y:{field:t,type:"quantitative",axis:{minExtent:25,title:e.yAxis}}},layer:[{mark:{type:"line",interpolate:"monotone"},encoding:{color:u(c)}},{selection:{highlight:{type:"single",empty:"none",nearest:!0,on:"mouseover",clear:"mouseout"}},mark:{type:"circle",tooltip:!0},encoding:{color:{field:"geo_value"}}},...e.hasStdErr?[l]:[],{transform:[{filter:{selection:"highlight"}}],mark:"rule"},s]},{height:40,encoding:{color:{field:"geo_value"},x:o({},b),y:{field:t,type:"quantitative",axis:{minExtent:25,tickCount:3,title:" "}}},layer:[{selection:{highlight2:{type:"single",empty:"none",nearest:!0,on:"mouseover",clear:"mouseout"},brush:{type:"interval",encodings:["x"],init:{x:[n[0].getTime(),n[1].getTime()]}}},mark:{type:"line",interpolate:"monotone"}},...e.hasStdErr?[l]:[],{transform:[{filter:{selection:"highlight2"}}],mark:"rule"},s]}],config:{legend:{disable:!0}}};if(e.isCasesOrDeath){const e={mark:{type:"line",interpolate:"monotone",opacity:.2},encoding:{y:{field:t.replace("avg","count")},color:{field:"geo_value"}}};i.vconcat[0].layer.unshift(e),i.vconcat[1].layer.unshift(e)}return i}function j(e,t){return Object(n.a)({},e,{vconcat:[{width:t.width-60,height:t.height-40-80},{width:t.width-60,height:40}]})}},405:function(e,t,c){"use strict";var n=c(1),i=c(2);c(338);function o(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?o(Object(c),!0).forEach((function(t){s(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function s(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function l(e){let t,c,i,o,a,s,l,r,b,u,O,j,d,p,g,h,m,f,v,y,$;return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("button"),o=Object(n.ab)("Incidence"),s=Object(n.W)(),l=Object(n.u)("button"),r=Object(n.ab)("Cumulative"),u=Object(n.W)(),O=Object(n.u)("div"),j=Object(n.u)("button"),d=Object(n.ab)("Counts"),g=Object(n.W)(),h=Object(n.u)("button"),m=Object(n.ab)("Ratios (per 100,000)"),Object(n.g)(i,"aria-pressed",a=String(!e[3].cumulative)),Object(n.g)(i,"class","pg-button button svelte-1txg4v7"),Object(n.cb)(i,"selected",!e[3].cumulative),Object(n.g)(l,"aria-pressed",b=e[3].cumulative),Object(n.g)(l,"class","pg-button button svelte-1txg4v7"),Object(n.cb)(l,"selected",e[3].cumulative),Object(n.g)(c,"aria-label","display cumulative or indicence"),Object(n.g)(c,"class","pg-button-group button-group svelte-1txg4v7"),Object(n.g)(j,"aria-pressed",p=String(!e[3].ratio)),Object(n.g)(j,"class","pg-button button svelte-1txg4v7"),Object(n.cb)(j,"selected",!e[3].ratio),Object(n.g)(h,"aria-pressed",f=String(e[3].ratio)),Object(n.g)(h,"class","pg-button button svelte-1txg4v7"),Object(n.cb)(h,"selected",e[3].ratio),Object(n.g)(O,"aria-label","display counts or ratios per 100,000 people"),Object(n.g)(O,"class","pg-button-group button-group svelte-1txg4v7"),Object(n.g)(t,"class",v="root "+e[2]+" svelte-1txg4v7"),Object(n.cb)(t,"center",e[0])},m(a,b){Object(n.F)(a,t,b),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,o),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.e)(l,r),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,j),Object(n.e)(j,d),Object(n.e)(O,g),Object(n.e)(O,h),Object(n.e)(h,m),y||($=[Object(n.H)(i,"click",e[4]),Object(n.H)(l,"click",e[5]),Object(n.H)(j,"click",e[6]),Object(n.H)(h,"click",e[7])],y=!0)},p(e,c){8&c&&a!==(a=String(!e[3].cumulative))&&Object(n.g)(i,"aria-pressed",a),8&c&&Object(n.cb)(i,"selected",!e[3].cumulative),8&c&&b!==(b=e[3].cumulative)&&Object(n.g)(l,"aria-pressed",b),8&c&&Object(n.cb)(l,"selected",e[3].cumulative),8&c&&p!==(p=String(!e[3].ratio))&&Object(n.g)(j,"aria-pressed",p),8&c&&Object(n.cb)(j,"selected",!e[3].ratio),8&c&&f!==(f=String(e[3].ratio))&&Object(n.g)(h,"aria-pressed",f),8&c&&Object(n.cb)(h,"selected",e[3].ratio),4&c&&v!==(v="root "+e[2]+" svelte-1txg4v7")&&Object(n.g)(t,"class",v),5&c&&Object(n.cb)(t,"center",e[0])},d(e){e&&Object(n.t)(t),y=!1,Object(n.O)($)}}}function r(e){let t,c=e[1].isCasesOrDeath&&l(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,[n]){e[1].isCasesOrDeath?c?c.p(e,n):(c=l(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.J,o:n.J,d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function b(e,t,c){let o,s;Object(n.l)(e,i.o,e=>c(8,o=e)),Object(n.l)(e,i.A,e=>c(3,s=e));let{center:l=!1}=t,{sensor:r=o}=t,{className:b=""}=t;return e.$$set=e=>{"center"in e&&c(0,l=e.center),"sensor"in e&&c(1,r=e.sensor),"className"in e&&c(2,b=e.className)},[l,r,b,s,()=>{s.cumulative&&i.A.set(a(a({},s),{},{cumulative:!1}))},()=>{s.cumulative||i.A.set(a(a({},s),{},{cumulative:!0}))},()=>{s.ratio&&i.A.set(a(a({},s),{},{ratio:!1}))},()=>{s.ratio||i.A.set(a(a({},s),{},{ratio:!0}))}]}class u extends n.b{constructor(e){super(),Object(n.E)(this,e,b,r,n.P,{center:0,sensor:1,className:2})}}t.a=u},406:function(e,t,c){"use strict";var n=c(1),i=c(156),o=c(348),a=c(40),s=c(399),l=c(349);function r(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function b(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?r(Object(c),!0).forEach((function(t){u(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function u(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}let O=null;function j(e){return e&&null!=e.datum?j(e.datum):e}function d(e,t={}){let c=!1,n=null,i=t;const o=(t,o,a,s)=>{if(c)return;const{popper:r,update:u,hide:d}=function(){if(O)return O;const e=document.createElement("div");e.classList.add("viz-tooltip","mapboxgl-popup-content","mapboxgl-map"),document.body.appendChild(e);let t={width:0,height:0,x:0,y:0};const c={getBoundingClientRect:()=>({left:t.x,right:t.x+t.width,width:t.width,top:t.y,bottom:t.y+t.height,height:t.height})},n=Object(l.a)(c,e,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),i=(c=0,i=0,o=0,a=0)=>{t.x=c,t.y=i,t.width=o,t.height=a,e.style.display="",n.update()},o=()=>{e.style.display="none"};return O={instance:n,popper:e,update:i,hide:o},{instance:n,popper:e,update:i,hide:o}}();if(null==s||""===s)return d(),void(n&&n.$set({hidden:!0}));u(o.clientX,o.clientY),n?n.$set({hidden:!1,item:j(a)}):n=new e({target:r,props:b(b({},i),{},{hidden:!1,item:j(a)})})};return o.destroy=()=>{n&&(n.$destroy(),n=null),c=!0},o.update=e=>{i=e,n&&n.$set(b({},i))},o}function p(e){let t;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","root"),Object(n.g)(t,"data-message",e[4]),Object(n.cb)(t,"loading-bg",!e[3]&&e[1]),Object(n.cb)(t,"message-overlay",e[3]||e[2]&&!e[1])},m(c,i){Object(n.F)(c,t,i),e[16](t)},p(e,[c]){16&c&&Object(n.g)(t,"data-message",e[4]),10&c&&Object(n.cb)(t,"loading-bg",!e[3]&&e[1]),14&c&&Object(n.cb)(t,"message-overlay",e[3]||e[2]&&!e[1])},i:n.J,o:n.J,d(c){c&&Object(n.t)(t),e[16](null)}}}function g(e,t,c){let{data:l=Promise.resolve([])}=t;const r=Object(i.a)();let b,u,O,{spec:j}=t,p=null,g=null,h=null,{signals:m={}}=t,{signalListeners:f=[]}=t,{dataListeners:v=[]}=t,{eventListeners:y=[]}=t,$=!1,_=!1,w=!1,{resetSignalsUponNoData:S=!0}=t,{noDataText:x="No data available"}=t,{patchSpec:k=null}=t,{tooltip:P}=t,{tooltipProps:L={}}=t,F={width:300,height:300};function D(e,t){e&&(c(1,$=!0),c(3,w=!1),c(2,_=!1),Promise.all([e,t]).then(([t,n])=>{e===h&&(t.view.change("values",t.view.changeset().remove(()=>!0).insert(n||[])),c(2,_=!n||0===n.length),Object.entries(m).forEach(([e,c])=>{t.view.signal(e,S&&_?null:c)}),t.view.runAsync(),c(1,$=!1))}).catch(e=>{console.error("error while updating data",e),c(1,$=!1),c(2,_=!1),c(3,w=!0)}))}function E(e){p&&(h&&h.then(e=>e.finalize()),g=null,c(3,w=!1),c(18,h=Object(o.a)(p,e,{actions:!1,logLevel:a.Error,tooltip:u,patch:e=>(e.signals=e.signals||[],Object.entries(m).forEach(([t,c])=>{e.signals.push({name:t,value:c})}),e)})),h.then(e=>{g=e,p.setAttribute("role","figure"),f.forEach(t=>{e.view.addSignalListener(t,(t,c)=>{r("signal",{name:t,value:c,view:e.view})})}),v.forEach(t=>{e.view.addDataListener(t,(t,c)=>{r("dataListener",{name:t,value:c,view:e.view})})}),y.forEach(t=>{e.view.addEventListener(t,(c,n)=>{r(t,{event:c,item:n,view:e.view})})}),D(h,l)}),h.catch(e=>{console.error("error while creating vega",e),c(3,w=!0)}))}return Object(i.c)(()=>{k?(c(19,F=p.getBoundingClientRect()),Object(s.b)(p,e=>{c(19,F=e)})):E(j)}),Object(i.b)(()=>{k&&Object(s.d)(p),u&&u.destroy(),g?(g.finalize(),g=null,c(18,h=null)):h&&(h.then(e=>e.finalize()),c(18,h=null))}),e.$$set=e=>{"data"in e&&c(5,l=e.data),"spec"in e&&c(6,j=e.spec),"signals"in e&&c(7,m=e.signals),"signalListeners"in e&&c(8,f=e.signalListeners),"dataListeners"in e&&c(9,v=e.dataListeners),"eventListeners"in e&&c(10,y=e.eventListeners),"resetSignalsUponNoData"in e&&c(11,S=e.resetSignalsUponNoData),"noDataText"in e&&c(12,x=e.noDataText),"patchSpec"in e&&c(13,k=e.patchSpec),"tooltip"in e&&c(14,P=e.tooltip),"tooltipProps"in e&&c(15,L=e.tooltipProps)},e.$$.update=()=>{4110&e.$$.dirty&&c(4,b=w?"Error occurred":_&&!$?x:null),16384&e.$$.dirty&&c(20,u=d(P)),1081344&e.$$.dirty&&u&&u.update(L),262176&e.$$.dirty&&D(h,l),532544&e.$$.dirty&&c(21,O=k?k(j,F):j),2097152&e.$$.dirty&&E(O),262272&e.$$.dirty&&function(e,t){e&&0!==Object.keys(t).length&&(c(3,w=!1),e.then(c=>{e===h&&c&&(Object.entries(t).forEach(([e,t])=>{c.view.signal(e,t)}),c.view.runAsync())}).catch(e=>{console.error("error while updating signals",e),c(3,w=!0)}))}(h,m)},[p,$,_,w,b,l,j,m,f,v,y,S,x,k,P,L,function(e){n.i[e?"unshift":"push"](()=>{p=e,c(0,p)})}]}class h extends n.b{constructor(e){super(),Object(n.E)(this,e,g,p,n.P,{data:5,spec:6,signals:7,signalListeners:8,dataListeners:9,eventListeners:10,resetSignalsUponNoData:11,noDataText:12,patchSpec:13,tooltip:14,tooltipProps:15})}}t.a=h},407:function(e){e.exports=JSON.parse('{"version":8,"name":"Albers USA","metadata":{"mapbox:autocomposite":true,"mapbox:type":"template","mapbox:sdk-support":{"js":"1.6.0","android":"8.6.0","ios":"5.6.0"},"mapbox:groups":{},"mapbox:uiParadigm":"layers"},"center":[-1.9392753230472408,-1.4351091963094262],"zoom":4.035119632783768,"bearing":0,"pitch":0,"glyphs":"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf","sources":{},"layers":[]}')},408:function(e,t,c){"use strict";var n=c(1),i=c(156),o=c(2),a=c(400),s=c(4);c(334);function l(e){let t,c,i;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","map-wrapper svelte-54x2e1")},m(o,a){Object(n.F)(o,t,a),e[13](t),c||(i=Object(n.H)(window,"resize",e[1]),c=!0)},p:n.J,i:n.J,o:n.J,d(o){o&&Object(n.t)(t),e[13](null),c=!1,i()}}}function r(e,t,c){let l;Object(n.l)(e,o.E,e=>c(16,l=e));let{wrapperClass:r}=t,b=null;const u=Object(i.a)(),O=new r((e,t)=>u(e,t)),j=O.zoom;let{data:d=Promise.resolve([])}=t,{sensor:p=""}=t,{level:g="state"}=t,{encoding:h="color"}=t,{signalType:m="value"}=t,{signalOptions:f={}}=t,{animationDuration:v=0}=t,{selections:y=[]}=t,$=!1;return Object(i.c)(()=>{c(14,O.animationDuration=v,O),O.initMap(b).then(()=>{c(15,$=!0)})}),Object(i.b)(()=>{O.destroy()}),e.$$set=e=>{"wrapperClass"in e&&c(2,r=e.wrapperClass),"data"in e&&c(5,d=e.data),"sensor"in e&&c(6,p=e.sensor),"level"in e&&c(7,g=e.level),"encoding"in e&&c(8,h=e.encoding),"signalType"in e&&c(9,m=e.signalType),"signalOptions"in e&&c(10,f=e.signalOptions),"animationDuration"in e&&c(11,v=e.animationDuration),"selections"in e&&c(12,y=e.selections)},e.$$.update=()=>{17632&e.$$.dirty&&O.updateSources(g,d,Object(s.i)(s.k.get(p),f)),100288&e.$$.dirty&&l&&function(e,t,c,n,i,o){const l=s.k.get(c),r=l.getType(o),b=Object(a.b)(i,l,e,o),{stops:j,scale:d}=Object(a.a)(b,n,l,r),p="county"===e,g=O.updateOptions(t,e,n,c,r,b,j,p&&j,d);u("updatedEncoding",{range:"value"===n?b:[-1,1],custom:g,scale:d,stops:j})}(g,h,p,m,l,f),53248&e.$$.dirty&&O.selectMulti(y)},[b,function(){O.zoom.resized()},r,j,function(){O.selectRandom()},d,p,g,h,m,f,v,y,function(e){n.i[e?"unshift":"push"](()=>{b=e,c(0,b)})}]}class b extends n.b{constructor(e){super(),Object(n.E)(this,e,r,l,n.P,{wrapperClass:2,zoom:3,selectRandom:4,data:5,sensor:6,level:7,encoding:8,signalType:9,signalOptions:10,animationDuration:11,selections:12})}get zoom(){return this.$$.ctx[3]}get selectRandom(){return this.$$.ctx[4]}}t.a=b},410:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var n=c(404);function i(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function o(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?i(Object(c),!0).forEach((function(t){a(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function a(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}const s=[{calculate:"datum.value == null ? null : (datum.value - datum.stderr) / 100",as:"value_lower_bound"},{calculate:"datum.value == null ? null : (datum.value + datum.stderr) / 100",as:"value_upper_bound"}];function l(e,t,c){const i="percent"===e.format;return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",data:{name:"values"},width:"container",height:"container",padding:0,autosize:{resize:!0},transform:[...e.hasStdErr?i?s:n.f:[],{calculate:"datum.value == null ? null : datum.value / 100",as:"pValue"}],encoding:{color:Object(n.b)(t),x:{field:"date_value",type:"temporal",axis:{title:null,format:"%m/%d",formatType:"time",tickCount:"month"},scale:c?{domain:[c[0].getTime(),c[1].getTime()]}:{}},y:{field:i?"pValue":"value",type:"quantitative",axis:o(o({},i?{format:".1%"}:{}),{},{title:null,tickCount:3,minExtent:25})}},layer:[{mark:{type:"line",interpolate:"linear"}},{selection:{highlight:{type:"single",empty:"none",on:"mouseover",nearest:!0,clear:"mouseout"}},mark:{type:"point",tooltip:!0,radius:1,stroke:null,fill:"grey"},encoding:{opacity:{condition:[{selection:"highlight",value:1},{test:"datum.time_value == highlightTimeValue",value:1}],value:0}}},...e.hasStdErr?[n.e]:[],{transform:[{filter:{or:[{selection:"highlight"},"datum.time_value == highlightTimeValue"]}}],mark:"rule"},n.a],config:{legend:{disable:!0}}}}},411:function(e,t,c){"use strict";c.d(t,"a",(function(){return ae}));c(327);var n=c(82),i=c(4),o=c(155),a=c(332),s=c.n(a),l=c(326),r=c(401);function b(e){return"".concat(e,"-border")}function u(e){return"".concat(e,"-centers")}const O="city-point";function j(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function d(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?j(Object(c),!0).forEach((function(t){p(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):j(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function p(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function g(e){return"".concat(e,"-fill")}function h(e){return"".concat(e,"-hover")}function m(e){return"".concat(e,"-bubble")}function f(e){return"".concat(e,"-spike")}const v="state-stroke",y="state-names",$={pit:"city-point-unclustered-pit",1:"city-point-unclustered-1",2:"city-point-unclustered-2",3:"city-point-unclustered-3",4:"city-point-unclustered-4",5:"city-point-unclustered-5"};var _=c(1),w=c(204),S=c(2),x=c(399);c(333);function k(e){let t,c,n,i,o,a,s,l,r,b,u,O=e[1].displayName+"",j=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"";function d(e,t){return e[4]?E:e[5].isCasesOrDeath?D:F}let p=d(e),g=p(e);return{c(){t=Object(_.u)("h5"),c=Object(_.ab)(O),n=Object(_.W)(),i=Object(_.u)("table"),o=Object(_.u)("tbody"),a=Object(_.u)("tr"),s=Object(_.u)("th"),s.textContent="Population",l=Object(_.W)(),r=Object(_.u)("td"),b=Object(_.ab)(j),u=Object(_.W)(),g.c(),Object(_.g)(t,"class","svelte-1u8gn73"),Object(_.g)(s,"class","svelte-1u8gn73"),Object(_.g)(r,"class","right svelte-1u8gn73"),Object(_.g)(i,"class","svelte-1u8gn73")},m(e,O){Object(_.F)(e,t,O),Object(_.e)(t,c),Object(_.F)(e,n,O),Object(_.F)(e,i,O),Object(_.e)(i,o),Object(_.e)(o,a),Object(_.e)(a,s),Object(_.e)(a,l),Object(_.e)(a,r),Object(_.e)(r,b),Object(_.e)(o,u),g.m(o,null)},p(e,t){2&t&&O!==(O=e[1].displayName+"")&&Object(_.S)(c,O),2&t&&j!==(j=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"")&&Object(_.S)(b,j),p===(p=d(e))&&g?g.p(e,t):(g.d(1),g=p(e),g&&(g.c(),g.m(o,null)))},d(e){e&&Object(_.t)(t),e&&Object(_.t)(n),e&&Object(_.t)(i),g.d()}}}function P(e){let t,c,n,i=e[1].displayName+"";return{c(){t=Object(_.u)("h5"),c=Object(_.ab)("Estimate unavailable for rest of "),n=Object(_.ab)(i),Object(_.g)(t,"class","svelte-1u8gn73")},m(e,i){Object(_.F)(e,t,i),Object(_.e)(t,c),Object(_.e)(t,n)},p(e,t){2&t&&i!==(i=e[1].displayName+"")&&Object(_.S)(n,i)},d(e){e&&Object(_.t)(t)}}}function L(e){let t;return{c(){t=Object(_.u)("h5"),t.textContent="Estimate unavailable",Object(_.g)(t,"class","svelte-1u8gn73")},m(e,c){Object(_.F)(e,t,c)},p:_.J,d(e){e&&Object(_.t)(t)}}}function F(e){let t,c,n,i,o,a,s,l=e[5].yAxis+"",r=e[5].formatValue(e[2])+"";return{c(){t=Object(_.u)("tr"),c=Object(_.u)("th"),n=Object(_.ab)(l),i=Object(_.W)(),o=Object(_.u)("td"),a=Object(_.ab)(r),Object(_.g)(c,"class","svelte-1u8gn73"),Object(_.g)(o,"class","right svelte-1u8gn73"),Object(_.g)(o,"style",s=e[8](e[2]))},m(e,s){Object(_.F)(e,t,s),Object(_.e)(t,c),Object(_.e)(c,n),Object(_.e)(t,i),Object(_.e)(t,o),Object(_.e)(o,a)},p(e,t){32&t&&l!==(l=e[5].yAxis+"")&&Object(_.S)(n,l),36&t&&r!==(r=e[5].formatValue(e[2])+"")&&Object(_.S)(a,r),4&t&&s!==(s=e[8](e[2]))&&Object(_.g)(o,"style",s)},d(e){e&&Object(_.t)(t)}}}function D(e){let t,c,n,i,o,a,s,l,r,b,u,O,j,d,p,g,h,m,f,v,y,$,w,S,x,k,P,L,F,D,E,z,C,R,V,T,A,M,I,W,N,B,H,Z=e[5].yAxis+"",U=e[7](e[6])+"",J=e[5].formatValue(e[1].count)+"",Y=e[5].formatValue(e[1].countRatio)+"",q=e[5].formatValue(e[1].avg)+"",G=e[5].formatValue(e[1].avgRatio)+"",X=e[7](e[6])+"",K=e[5].formatValue(e[1].countCumulative)+"",Q=e[5].formatValue(e[1].countRatioCumulative)+"";return{c(){t=Object(_.u)("tr"),c=Object(_.u)("th"),n=Object(_.ab)(Z),i=Object(_.W)(),o=Object(_.u)("th"),o.textContent="Count",a=Object(_.W)(),s=Object(_.u)("th"),s.textContent="Ratios (per 100,000)",l=Object(_.W)(),r=Object(_.u)("tr"),b=Object(_.u)("th"),u=Object(_.ab)(U),O=Object(_.W)(),j=Object(_.u)("td"),d=Object(_.ab)(J),g=Object(_.W)(),h=Object(_.u)("td"),m=Object(_.ab)(Y),v=Object(_.W)(),y=Object(_.u)("tr"),$=Object(_.u)("th"),$.textContent="7-day avg",w=Object(_.W)(),S=Object(_.u)("td"),x=Object(_.ab)(q),P=Object(_.W)(),L=Object(_.u)("td"),F=Object(_.ab)(G),E=Object(_.W)(),z=Object(_.u)("tr"),C=Object(_.u)("th"),R=Object(_.ab)("Cumulative "),V=Object(_.ab)(X),T=Object(_.W)(),A=Object(_.u)("td"),M=Object(_.ab)(K),W=Object(_.W)(),N=Object(_.u)("td"),B=Object(_.ab)(Q),Object(_.g)(c,"class","svelte-1u8gn73"),Object(_.g)(o,"class","area svelte-1u8gn73"),Object(_.g)(s,"class","area svelte-1u8gn73"),Object(_.g)(b,"class","svelte-1u8gn73"),Object(_.g)(j,"class","right svelte-1u8gn73"),Object(_.g)(j,"style",p=e[3].cumulative||e[3].ratio?"":e[8](e[1].count)),Object(_.g)(h,"class","right svelte-1u8gn73"),Object(_.g)(h,"style",f=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):""),Object(_.g)($,"class","svelte-1u8gn73"),Object(_.g)(S,"class","right svelte-1u8gn73"),Object(_.g)(S,"style",k=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg)),Object(_.g)(L,"class","right svelte-1u8gn73"),Object(_.g)(L,"style",D=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):""),Object(_.g)(C,"class","svelte-1u8gn73"),Object(_.g)(A,"class","right svelte-1u8gn73"),Object(_.g)(A,"style",I=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):""),Object(_.g)(N,"class","right svelte-1u8gn73"),Object(_.g)(N,"style",H=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")},m(e,p){Object(_.F)(e,t,p),Object(_.e)(t,c),Object(_.e)(c,n),Object(_.e)(t,i),Object(_.e)(t,o),Object(_.e)(t,a),Object(_.e)(t,s),Object(_.F)(e,l,p),Object(_.F)(e,r,p),Object(_.e)(r,b),Object(_.e)(b,u),Object(_.e)(r,O),Object(_.e)(r,j),Object(_.e)(j,d),Object(_.e)(r,g),Object(_.e)(r,h),Object(_.e)(h,m),Object(_.F)(e,v,p),Object(_.F)(e,y,p),Object(_.e)(y,$),Object(_.e)(y,w),Object(_.e)(y,S),Object(_.e)(S,x),Object(_.e)(y,P),Object(_.e)(y,L),Object(_.e)(L,F),Object(_.F)(e,E,p),Object(_.F)(e,z,p),Object(_.e)(z,C),Object(_.e)(C,R),Object(_.e)(C,V),Object(_.e)(z,T),Object(_.e)(z,A),Object(_.e)(A,M),Object(_.e)(z,W),Object(_.e)(z,N),Object(_.e)(N,B)},p(e,t){32&t&&Z!==(Z=e[5].yAxis+"")&&Object(_.S)(n,Z),64&t&&U!==(U=e[7](e[6])+"")&&Object(_.S)(u,U),34&t&&J!==(J=e[5].formatValue(e[1].count)+"")&&Object(_.S)(d,J),10&t&&p!==(p=e[3].cumulative||e[3].ratio?"":e[8](e[1].count))&&Object(_.g)(j,"style",p),34&t&&Y!==(Y=e[5].formatValue(e[1].countRatio)+"")&&Object(_.S)(m,Y),10&t&&f!==(f=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):"")&&Object(_.g)(h,"style",f),34&t&&q!==(q=e[5].formatValue(e[1].avg)+"")&&Object(_.S)(x,q),10&t&&k!==(k=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg))&&Object(_.g)(S,"style",k),34&t&&G!==(G=e[5].formatValue(e[1].avgRatio)+"")&&Object(_.S)(F,G),10&t&&D!==(D=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):"")&&Object(_.g)(L,"style",D),64&t&&X!==(X=e[7](e[6])+"")&&Object(_.S)(V,X),34&t&&K!==(K=e[5].formatValue(e[1].countCumulative)+"")&&Object(_.S)(M,K),10&t&&I!==(I=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):"")&&Object(_.g)(A,"style",I),34&t&&Q!==(Q=e[5].formatValue(e[1].countRatioCumulative)+"")&&Object(_.S)(B,Q),10&t&&H!==(H=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")&&Object(_.g)(N,"style",H)},d(e){e&&Object(_.t)(t),e&&Object(_.t)(l),e&&Object(_.t)(r),e&&Object(_.t)(v),e&&Object(_.t)(y),e&&Object(_.t)(E),e&&Object(_.t)(z)}}}function E(e){let t;function c(e,t){return 1===e[1].value?V:0===e[2]?R:-1===e[2]?C:z}let n=c(e),i=n(e);return{c(){t=Object(_.u)("tr"),i.c()},m(e,c){Object(_.F)(e,t,c),i.m(t,null)},p(e,o){n===(n=c(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t,null)))},d(e){e&&Object(_.t)(t),i.d()}}}function z(e){let t;return{c(){t=Object(_.u)("td"),t.textContent="Unknown",Object(_.g)(t,"colspan","2"),Object(_.g)(t,"class","svelte-1u8gn73")},m(e,c){Object(_.F)(e,t,c)},p:_.J,d(e){e&&Object(_.t)(t)}}}function C(e){let t,c,n,i=o.a.decreasingIcon+"";return{c(){t=Object(_.u)("td"),n=Object(_.ab)("\n                Decreasing"),c=new _.a(n),Object(_.g)(t,"colspan","2"),Object(_.V)(t,"background-color",o.a.decreasing),Object(_.g)(t,"class","svelte-1u8gn73")},m(e,o){Object(_.F)(e,t,o),c.m(i,t),Object(_.e)(t,n)},p:_.J,d(e){e&&Object(_.t)(t)}}}function R(e){let t,c,n,i=o.a.steadyIcon+"";return{c(){t=Object(_.u)("td"),n=Object(_.ab)("\n                Steady"),c=new _.a(n),Object(_.g)(t,"colspan","2"),Object(_.V)(t,"background-color",o.a.steady),Object(_.g)(t,"class","svelte-1u8gn73")},m(e,o){Object(_.F)(e,t,o),c.m(i,t),Object(_.e)(t,n)},p:_.J,d(e){e&&Object(_.t)(t)}}}function V(e){let t,c,n,i=o.a.increasingIcon+"";return{c(){t=Object(_.u)("td"),n=Object(_.ab)("\n                Increasing"),c=new _.a(n),Object(_.g)(t,"colspan","2"),Object(_.V)(t,"background-color",o.a.increasing),Object(_.g)(t,"class","svelte-1u8gn73")},m(e,o){Object(_.F)(e,t,o),c.m(i,t),Object(_.e)(t,n)},p:_.J,d(e){e&&Object(_.t)(t)}}}function T(e){let t;function c(e,t){return e[1]?e[0]?P:k:L}let n=c(e),i=n(e);return{c(){t=Object(_.u)("div"),i.c(),Object(_.g)(t,"aria-label","tooltip"),Object(_.g)(t,"class","tooltip svelte-1u8gn73")},m(e,c){Object(_.F)(e,t,c),i.m(t,null)},p(e,[o]){n===(n=c(e))&&i?i.p(e,o):(i.d(1),i=n(e),i&&(i.c(),i.m(t,null)))},i:_.J,o:_.J,d(e){e&&Object(_.t)(t),i.d()}}}function A(e,t,c){let n,i,a,s,l;Object(_.l)(e,S.A,e=>c(9,n=e)),Object(_.l)(e,S.d,e=>c(10,i=e)),Object(_.l)(e,S.s,e=>c(4,a=e)),Object(_.l)(e,S.o,e=>c(5,s=e)),Object(_.l)(e,S.h,e=>c(6,l=e));let{invalid:r=!1}=t,{properties:b}=t;const u=Object(w.a)("%B %d");let O,j;return e.$$set=e=>{"invalid"in e&&c(0,r=e.invalid),"properties"in e&&c(1,b=e.properties)},e.$$.update=()=>{2&e.$$.dirty&&c(2,O=b?b.value:0),512&e.$$.dirty&&c(3,j=n)},[r,b,O,j,a,s,l,u,function(e){const t=0===e?o.f:i(e);return"background-color: ".concat(t,"; color: ").concat(Object(x.a)(t))}]}class M extends _.b{constructor(e){super(),Object(_.E)(this,e,A,T,_.P,{invalid:0,properties:1})}}var I=M;function W(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function N(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?W(Object(c),!0).forEach((function(t){B(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):W(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function B(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class H{constructor(e,t){this.adapter=t,this.map=e,this.data=new Map,this.popup=new l.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup"}),this.topPopup=new l.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup",anchor:"top"}),this.selection=[],this.hovered={id:null,level:null},this.tooltipElement=document.createElement("div"),this.tooltip=new I({target:this.tooltipElement,props:{properties:null,invalid:!0}}),this.initListeners()}initListeners(){if(this.map.on("mouseenter",v,this._onMapMouseEnter.bind(this)),this.map.on("mouseleave",v,this._onMapMouseLeave.bind(this)),this.map.on("mousemove",v,this._onMapMouseMove.bind(this)),this.adapter.levels.forEach(e=>{const t=g(e);this.map.on("mouseleave",t,this._onLevelMouseLeave.bind(this)),this.map.on("mousemove",t,this._onLevelMouseMove.bind(this)),this.map.on("click",t,this._onLevelMouseClick.bind(this))}),this.adapter.hasMegaCountyLevel){const e=g(i.g.id);this.map.on("mouseleave",e,this._onMegaMouseLeave.bind(this)),this.map.on("mousemove",e,this._onMegaMouseMove.bind(this)),this.map.on("click",e,this._onMegaMouseClick.bind(this))}}get activePopup(){return"spike"===this.adapter.encoding.id?this.topPopup:this.popup}_onMapMouseEnter(){this.map.getCanvas().style.cursor="pointer"}_onLevelMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMegaMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMapMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove()}_onLevelMouseMove(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMegaMouseMove(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMapMouseMove(e){e.defaultPrevented||this._renderTooltip(e,!0)}_onLevelMouseClick(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_onMegaMouseClick(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_renderTooltip(e,t=!1){this.map.getCanvas().style.cursor="pointer";const c=e.features[0],n=this.activePopup;this.tooltip.$set({properties:N(N({},c.properties),this.data.get(c.properties.id)||{}),invalid:t}),n.setLngLat(e.lngLat).setDOMContent(this.tooltipElement).addTo(this.map)}_updateState(e,t,c){this.map.setFeatureState({source:e,id:"string"==typeof t?Number.parseInt(t,10):t},c)}_updateHoverLayerVisibility(){const e=new Set(this.selection.map(e=>e.level));null!=this.hovered.id&&e.add(this.hovered.level);const t=t=>{"none"!==this.map.getLayoutProperty(h(t),"visibility")!==e.has(t)&&this.map.setLayoutProperty(h(t),"visibility",e.has(t)?"visible":"none")};for(const e of this.adapter.levels)t(e);this.adapter.hasMegaCountyLevel&&t(i.g.id)}_updateHoverHighlight(e=null,t=null){this.hovered.id!=e&&(this.hovered.id&&this._updateState(b(this.hovered.level),this.hovered.id,{hover:!1}),e&&this._updateState(b(t),e,{hover:!0}),this.hovered.id=e,this.hovered.level=t,this._updateHoverLayerVisibility())}select(e){return this.selectMulti(e?[{info:e,color:o.d.selectedRegionOutline}]:[])[0]}selectMulti(e){const t=this.selection.slice();for(const e of this.selection)this._updateState(b(e.level),e.id,{select:!1});return this.selection=e.map(e=>{const t=Number(e.info.id);return this._updateState(b(e.info.level),t,{select:e.color}),{id:t,level:e.info.level,color:e.color}}),this._updateHoverLayerVisibility(),t}forceHover(e){this._updateHoverHighlight(e.id,e.properties.level)}isHovered(e){return!!e&&(e.id==this.hovered.id&&e.level===this.hovered.level)}}var Z=c(407);class U{constructor(e,t){this.map=null,this.onZoom=e,this.resetBounds=new l.LngLatBounds(t),this.resetBoundsOptions={padding:20,linear:!1},this.stateZoom=1,this.initialZoomView=!0}_triggerZoom(e){const t=this.map.getZoom(),c=this.stateZoom,n=Math.pow(2,.75*(t-c));this.onZoom(n,e)}setMap(e){this.map=e,this.stateZoom=this.map.getZoom(),this.map.on("zoom",()=>{this._triggerZoom()})}ready(){this.stateZoom=this.map.getZoom(),this._triggerZoom()}getZoom(){return this.map?this.map.getZoom():0}getMaxZoom(){return this.map?this.map.getMaxZoom():100}getMinZoom(){return this.map?this.map.getMinZoom():-100}zoomIn(){this.map&&(this.initialZoomView=!1,this.map.zoomIn())}zoomOut(){this.map&&(this.initialZoomView=!1,this.map.zoomOut())}resetZoom(){this.map&&(this.initialZoomView=!0,this.map.fitBounds(this.resetBounds,this.resetBoundsOptions),this.map.once("idle",()=>{this.stateZoom=this.map.getZoom(),this._triggerZoom(!0)}))}resized(){this.initialZoomView&&this.map&&requestAnimationFrame(()=>{this.map.fitBounds(this.resetBounds,this.resetBoundsOptions)})}showStateLabels(e){this.map&&this.map.getLayer(y)&&this.map.setLayoutProperty(y,"visibility",e?"visible":"none")}toggleStateLabels(){this.map&&this.map.getLayer(y)&&this.showStateLabels("visible"!==this.map.getLayoutProperty(y,"visibility"))}}var J=c(351);function Y(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function q(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(c),!0).forEach((function(t){G(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Y(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function G(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class X{constructor(){this.id="color",this.layers=[]}getVisibleLayers(e){return[g(e),"county"===e&&g(i.g.id)].filter(Boolean)}addLayers(){}encode(e,{level:t,stops:c,stopsMega:n}){e.setPaintProperty(g(t),"fill-color",Object(r.b)(c)),n&&e.setPaintProperty(g(i.g.id),"fill-color",Object(r.b)(n))}updateSources(){}}var K=c(117),Q=c(16);class ee{constructor(e,t,c,n){this._sourceId=e,this._level=t,this._colorsDirty=!0,this.featureIds=[],this._valueLookup=new Map,this._valuePrimaryValue="value",this._valueToColor=()=>o.e,this._valueToSize=()=>0,this._vertexSource=c,this._fragmentSource=n,this._map=null,this.zoom=1}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}_createVertices(e){return[e.x,e.y]}onAdd(e,t){this._map=e,this._vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertexShader,this._vertexSource),t.compileShader(this._vertexShader),this._fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragmentShader,this._fragmentSource),t.compileShader(this._fragmentShader),this._program=t.createProgram(),t.attachShader(this._program,this._vertexShader),t.attachShader(this._program,this._fragmentShader),t.linkProgram(this._program),this._uPos=t.getUniformLocation(this._program,"u_matrix"),this._uOpacity=t.getUniformLocation(this._program,"u_opacity"),this._uPixelToClip=t.getUniformLocation(this._program,"u_pixelToClip"),this._uZoom=t.getUniformLocation(this._program,"u_zoom"),this._uDevicePixelRatio=t.getUniformLocation(this._program,"u_device_pixel_ratio"),this._aPos=t.getAttribLocation(this._program,"a_pos"),this._centerBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._centerBuffer);const c=e.getSource(this._sourceId)._data.features.map(e=>{const t=e.geometry.coordinates,c=t[0],n=t[1];if(null==n||Number.isNaN(n))return[];this.featureIds.push(e.properties.id);const i=l.MercatorCoordinate.fromLngLat({lat:n,lng:c});return this._createVertices(i)}).flat();t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),this._verticesPerFeatures=c.length/3/this.featureIds.length,this._aColorAndValue=t.getAttribLocation(this._program,"a_colorAndValue"),this._colorAndValueBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._colorAndValueBuffer),this._colorAndValueData=new Float32Array(4*this.featureIds.length*this._verticesPerFeatures),this._colorAndValueData.fill(0),t.bufferData(t.ARRAY_BUFFER,this._colorAndValueData,t.STATIC_DRAW)}onRemove(e,t){this._map=null,t.deleteBuffer(this._centerBuffer),t.deleteBuffer(this._colorAndValueBuffer),t.deleteShader(this._fragmentShader),t.deleteShader(this._vertexShader),t.deleteProgram(this._program)}_prepareRender(e,t){e.useProgram(this._program),e.uniformMatrix4fv(this._uPos,!1,t);const c=this._map.painter.transform;e.uniform1f(this._uZoom,this.zoom),e.uniform2f(this._uPixelToClip,c.pixelsToGLUnits[0],c.pixelsToGLUnits[1]),e.uniform1f(this._uDevicePixelRatio,window.devicePixelRatio),e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.enableVertexAttribArray(this._aColorAndValue),e.vertexAttribPointer(this._aColorAndValue,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._centerBuffer),e.enableVertexAttribArray(this._aPos),e.vertexAttribPointer(this._aPos,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}preRender(e){if(this._colorsDirty){this._colorsDirty=!1;for(let e=0;e<this.featureIds.length;e++){const t=this.featureIds[e],c=this._valueLookup.has(t)?this._valueLookup.get(t)[this._valuePrimaryValue]:null,n=this._verticesPerFeatures;if(null==c||Number.isNaN(c)){for(let t=0;t<n;t++){const c=4*e*n+4*t;this._colorAndValueData[c]=0,this._colorAndValueData[c+1]=0,this._colorAndValueData[c+2]=0,this._colorAndValueData[c+3]=0}continue}const i=Object(Q.g)(this._valueToColor(c)),o=this._valueToSize(c);for(let t=0;t<n;t++){const c=4*e*n+4*t;this._colorAndValueData[c]=i.r,this._colorAndValueData[c+1]=i.g,this._colorAndValueData[c+2]=i.b,this._colorAndValueData[c+3]=o}}e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.bufferData(e.ARRAY_BUFFER,this._colorAndValueData,e.STATIC_DRAW)}}encode(e,t){this._colorsDirty=!0,this._valueToSize=e,this._valueToColor=t}updateSources(e,t){this._colorsDirty=!0,this._valueLookup=e,this._valuePrimaryValue=t}}class te extends ee{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform float u_zoom;\nuniform vec2 u_pixelToClip;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n\n  vec2 pos = vec2(a_pos.z < 0.0 ? -1.0 : 1.0, abs(a_pos.z) < 2.0 ? -1.0 : 1.0);\n  p.xy += pos * u_pixelToClip * (u_zoom * a_colorAndValue.a + 1.0) * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n\n  v_data = vec4(pos, a_colorAndValue.a * u_zoom, 1.0);\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n}","\nprecision mediump float;\nuniform float u_opacity;\nuniform float u_device_pixel_ratio;\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n\n  float extrude_length = length(v_data.xy);\n  float radius = v_data.z;\n  float stroke_width = v_data.w;\n\n  float blur = -(1.0 / u_device_pixel_ratio / (radius + stroke_width));\n  float opacity_t = smoothstep(0.0, blur, extrude_length - 1.0);\n\n  float color_t = smoothstep(\n      blur,\n      0.0,\n      extrude_length - radius / (radius + stroke_width)\n  );\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = opacity_t * mix(fill_color, stroke_color, color_t);\n}")}_createVertices(e){return[e.x,e.y,-2,e.x,e.y,-1,e.x,e.y,1,e.x,e.y,2]}onAdd(e,t){super.onAdd(e,t),this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);const c=new Uint16Array(6*this.featureIds.length);for(let e=0;e<this.featureIds.length;e++){const t=6*e,n=4*e;c[t]=n,c[t+1]=n+1,c[t+2]=n+2,c[t+3]=n+2,c[t+4]=n+3,c[t+5]=n}t.bufferData(t.ELEMENT_ARRAY_BUFFER,c,t.STATIC_DRAW)}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,o.b.fillOpacity),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.drawElements(e.TRIANGLES,6*this.featureIds.length,e.UNSIGNED_SHORT,0)}}class ce{constructor(e,t){this.id="bubble",this.theme=e,this.layers=t.map(e=>m(e)),this.customLayers=new Map(t.map(e=>[e,new te(u(e),e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[g(e),m(e)]}onZoom(e){this.customLayers.forEach(t=>t.zoom=e)}getMaxZoom(e){return 50/this.theme.maxRadius[e]}addLayers(e,t){t.levels.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(m(t)))})}encode(e,{level:t,sensorType:c,valueMinMax:n,scale:i}){e.setPaintProperty(g(t),"fill-color",this.theme.countyFill);const o=this.theme.minRadius[t],a=this.theme.maxRadius[t],s=this.theme.radiusScale[c],l=Object(K.c)(s).domain(n).range([o,a]).clamp(!0);return this.customLayers.get(t).encode(l,i),l}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}class ne extends ee{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform vec2 u_pixelToClip;\nuniform float u_zoom;\n\nuniform float u_size;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n  float height = (a_colorAndValue.a * u_zoom + 1.0);\n  float shift = a_pos.z * (u_size * u_zoom + 1.0);\n\n  p.y -= (1.0 - abs(a_pos.z)) * height * u_pixelToClip.y * p.w;\n  p.x += shift * u_pixelToClip.x * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n  float thickness = 1.0;\n  // encode the barycentric coordinate but such that the bottom line is not shown\n  v_data = vec4(-min(shift, 0.0), height, max(shift, 0.0), thickness);\n\n}","\n#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\nuniform float u_device_pixel_ratio;\nuniform float u_opacity;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\n// This is like\nfloat aastep (float threshold, float dist) {\n  float afwidth = fwidth(dist) * 0.5;\n  return smoothstep(threshold - afwidth, threshold + afwidth, dist);\n}\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n  vec3 barycentric = v_data.xyz;\n  float stroke_width = v_data.w;\n\n  // this will be our signed distance for the wireframe edge\n  float d = min(min(barycentric.x, barycentric.y), barycentric.z);\n  // compute the anti-aliased stroke edge\n  float edge = 1.0 - aastep(stroke_width, d);\n\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = mix(fill_color, stroke_color, edge);\n}")}_createVertices(e){return[e.x,e.y,-1,e.x,e.y,0,e.x,e.y,1]}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}onAdd(e,t){t.getExtension("OES_standard_derivatives"),super.onAdd(e,t),this._uSize=t.getUniformLocation(this._program,"u_size")}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,o.c.fillOpacity),e.uniform1f(this._uSize,o.c.size[this._level]),e.drawArrays(e.TRIANGLES,0,this.featureIds.length*this._verticesPerFeatures)}}class ie{constructor(e,t){this.id="spike",this.theme=e,this.layers=t.map(e=>f(e)),this.customLayers=new Map(t.map(e=>[e,new ne(u(e),e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[g(e),f(e)]}onZoom(e){this.customLayers.forEach(t=>t.zoom=e)}getMaxZoom(e){return 100/this.theme.maxHeight[e]}addLayers(e,t){t.levels.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(f(t)))})}encode(e,{level:t,sensorType:c,valueMinMax:n,scale:i}){e.setPaintProperty(g(t),"fill-color",this.theme.countyFill);const o=n[1],a=this.theme.maxHeight[t],s=this.theme.heightScale[c],l=Object(K.c)(s).range([0,a]).domain([0,o]).clamp(!0);return this.customLayers.get(t).encode(l,i),l}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}const oe=Object(n.c)();class ae extends class{constructor(e,t){this.dispatch=e,this.map=null,this.mapSetupReady=!1,this.mapSetupReadyPromiseResolver=()=>{},this.mapSetupReadyPromise=new Promise(e=>{this.mapSetupReadyPromiseResolver=e}),this.mapDataReady=!1,this.mapEncodingReady=!1,this.animationDuration=0,this.interactive=null,this.level=t.level,this.levels=t.levels,this.hasMegaCountyLevel=t.hasMegaCountyLevel,this.encodings=t.encodings,this.encoding=this.encodings[0];const c=Object(J.a)(e=>this.dispatch("zoom",e),100);this.zoom=new U((e,t)=>{const n="function"==typeof this.encoding.getMaxZoom?this.encoding.getMaxZoom(this.level):Number.POSITIVE_INFINITY;e=Math.min(n,e);for(const t of this.encodings)"function"==typeof t.onZoom&&t.onZoom(e);t&&this.map.triggerRepaint(),c(e)},t.bounds)}initMap(e){this.map=new l.Map({attributionControl:!1,container:e,style:Z,bounds:this.zoom.resetBounds,fitBounds:this.zoom.resetBoundsOptions,doubleClickZoom:!1,dragRotate:!1,pitchWithRotate:!1,touchPitch:!1,touchZoomRotate:!0,renderWorldCopies:!1,antialias:!0}),this.zoom.setMap(this.map),this.map.touchZoomRotate.disableRotation();let t=null;const c=new Promise(e=>{t=e});return this.map.on("idle",()=>{this.dispatch("idle")}),this.map.on("load",()=>{this.addSprites(),this.addSources().then(()=>{this.addLayers(),this.interactive=new H(this.map,this)}).then(()=>{this._setupReady(),t(this)})}),Object(x.b)(e,()=>{this.map.resize()}),c}_setupReady(){this.zoom.showStateLabels("state"===this.level),this.zoom.ready(),this.markReady("setup")}markReady(e){switch(e){case"data":if(this.mapDataReady)return;this.mapDataReady=!0,this.dispatch("readyData");break;case"setup":if(this.mapSetupReady)return;this.mapSetupReady=!0,this.mapSetupReadyPromiseResolver(),this.dispatch("readySetup");break;case"encoding":if(this.mapEncodingReady)return;this.mapEncodingReady=!0,this.dispatch("readyEncoding")}this.mapSetupReady&&this.mapEncodingReady&&this.mapDataReady&&this.dispatch("ready")}addSprites(){const e=16,t=document.createElement("canvas");t.width=e,t.height=e;const c=t.getContext("2d");c.clearRect(0,0,e,e);const n=c.createLinearGradient(0,0,e,e);n.addColorStop(0,"white"),n.addColorStop(.25,o.e),n.addColorStop(.5,"white"),n.addColorStop(.75,o.e),n.addColorStop(1,"white"),c.fillStyle=n,c.fillRect(0,0,e,e);const i=c.getImageData(0,0,e,e);this.map.addImage("hatching",i,{sdf:!0})}addSources(){return Promise.resolve()}animationOptions(e){return this.animationDuration?{[e+"-transition"]:{duration:this.animationDuration,delay:0}}:{}}addLevelSource(e,t,c){this.map.addSource(b(e),{type:"geojson",data:t}),this.map.addSource(u(e),{type:"geojson",data:c})}addFillLevelLayer(e){this.map.addLayer({id:g(e),source:b(e),type:"fill",layout:{visibility:"none"},paint:q({"fill-outline-color":o.d.countyOutlineWhenFilled,"fill-color":o.d.countyFill,"fill-opacity":["case",["==",["to-number",["feature-state","value"],r.a],r.a],0,1]},this.animationOptions("fill-color"))})}addHoverLevelLayer(e){this.map.addLayer({id:h(e),source:b(e),type:"line",layout:{visibility:"none"},paint:{"line-color":["case",["to-boolean",["feature-state","select"]],["feature-state","select"],o.d.hoverRegionOutline],"line-width":["case",["any",["to-boolean",["feature-state","hover"]],["to-boolean",["feature-state","select"]]],4,0]}})}addLayers(){}destroy(){this.mapSetupReady=!1,this.map&&(Object(x.d)(this.map.getContainer()),this.map.remove(),this.zoom.map=null,this.map=null)}validateLevel(e){return this.levels.includes(e)?e:this.levels[0]}updateOptions(e,t,c,n,o,a,s,l,r){t=this.validateLevel(t);const b=this.level;if(this.level=t,this.encoding=this.encodings.find(t=>t.id===e),this.hasMegaCountyLevel||(l=null),!this.map||!this.mapSetupReady)return;b!==t&&this.zoom.showStateLabels("state"===t);const u=this.encodings.flatMap(e=>e.layers);u.push(...this.levels.map(e=>g(e))),this.hasMegaCountyLevel&&u.push(g(i.g.id));const O=new Set(this.encoding.getVisibleLayers(t,c));u.forEach(e=>{this.map.setLayoutProperty(e,"visibility",O.has(e)?"visible":"none")});const j=this.encoding.encode(this.map,{level:t,signalType:c,sensorType:o,sensor:n,valueMinMax:a,stops:s,stopsMega:l,scale:r,baseZoom:this.zoom.stateZoom});return this.markReady("encoding"),j}updateSources(e,t,c="value"){e=this.validateLevel(e);const n=Math.random().toString(36);this._mapDataFlag=n,this.dispatch("loading",!0),Promise.all([t,this.mapSetupReadyPromise]).then(([t])=>{if(this._mapDataFlag!==n)return;this.map.once("idle",()=>{this.dispatch("loading",!1)});const o=new Map(t.map(e=>[e.geo_value.toUpperCase(),e]));this.interactive.data=o,"county"===e&&this._updateSource(b(i.g.id),o,c),this._updateSource(b(e),o,c),this._updateSource(u(e),o,c);for(const t of this.encodings)t.updateSources(this.map,e,o,c);t.length>0&&this.markReady("data")})}_updateSource(e,t,c="value"){console.assert(null!=this.map);const n=this.map.getSource(e);if(!n)return void console.error("invalid source");n._data.features.forEach(n=>{const i=n.properties.id,o=t.get(i);this.map.setFeatureState({source:e,id:Number.parseInt(n.id,10)},{value:o?o[c]:r.a})})}selectMulti(e){if(this.map&&this.interactive){if(e.length<=1){const t=this.interactive.selection.slice();return this.select(e.length>0?e[0].info:null),t}return this.interactive.selectMulti(e)}}select(e){if(!this.map||!this.interactive)return;if(null!=this.interactive.select(e)&&!e)return void this.zoom.resetZoom();if(!e||this.interactive.isHovered(e))return;const t=this.map.getSource(b(e.level));if(!t)return;const c=t._data.features.find(t=>t.id===e.id);c&&this.map.fitBounds(s()(c),{maxZoom:1.5*this.zoom.getZoom(),linear:!1,essential:!0})}isMissing(e){const t=this.map.getFeatureState({source:b(e.properties.level),id:"string"==typeof id?Number.parseInt(e.id,10):e.id});return null==t.value||t.value===r.a}selectRandom(){if(!this.map||!this.mapSetupReady)return;const e=this.map.getSource(b(this.level));if(!e)return;const t=i.b[this.level],c=e._data.features.find(e=>e.properties.id===t);if(c&&!this.isMissing(c))return this.interactive.forceHover(c),void this.dispatch("select",{feature:c});const n=e._data.features.filter(e=>!this.isMissing(e));if(0===n.length)return;const o=n[Math.floor(Math.random()*(n.length-1))];this.interactive.forceHover(o),this.dispatch("select",{feature:o})}}{constructor(e){super(e,{bounds:n.a.states,encodings:[new X(i.h),new ce(o.b,i.h),new ie(o.c,i.h)],level:"county",levels:i.h,hasMegaCountyLevel:!0})}addLevelSources(){const e=this.map;return oe.then(t=>{e.addSource(b(i.g.id),{type:"geojson",data:t.mega}),this.levels.forEach(e=>{this.addLevelSource(e,t[e].border,t[e].center)})})}addSources(){return Promise.all([(e=this.map,oe.then(t=>{e.addSource(O,{type:"geojson",data:t.cities})})),this.addLevelSources()]);var e}addLayers(){const e=this.map;e.addLayer({id:v,source:b("state"),type:"fill",paint:{"fill-color":o.e,"fill-outline-color":o.d.stateOutline,"fill-pattern":"hatching"}}),this.addFillLevelLayer(i.g.id),this.levels.forEach(e=>{this.addFillLevelLayer(e)}),this.addHoverLevelLayer(i.g.id),this.levels.forEach(e=>{this.addHoverLevelLayer(e)}),this.encodings.forEach(t=>{t.addLayers(e,this)}),function(e){const t=(t,c,n={})=>{e.addLayer(d(d(d({id:t,source:O,type:"symbol"},c?{filter:c}:{}),n),{},{layout:{"text-field":["get","name"],"text-font":["Open Sans Regular"],"text-size":12},paint:{"text-halo-color":"#fff","text-halo-width":1.5}}))};t($.pit,["==","name","Pittsburgh"],{maxzoom:8}),t($.pit[1],[">","population",9e5],{maxzoom:4}),t($.pit[2],[">","population",5e5],{maxzoom:6,minzoom:4}),t($.pit[3],[">","population",1e5],{maxzoom:8,minzoom:6}),t($.pit[4],void 0,{minzoom:8})}(e),function(e){e.addLayer({id:y,source:u("state"),type:"symbol",maxzoom:8,layout:{"text-field":["upcase",["get","name"]],"text-font":["Open Sans Bold"],"text-size":11},paint:{"text-opacity":.5,"text-halo-color":"#fff","text-halo-width":1}})}(e)}}},412:function(e,t,c){"use strict";var n=c(1),i=c(2),o=c(328);c(339);function a(e){let t,c,i=e[3].toLocaleDateString()+"";return{c(){t=Object(n.u)("span"),c=Object(n.ab)(i)},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,t){8&t&&i!==(i=e[3].toLocaleDateString()+"")&&Object(n.S)(c,i)},d(e){e&&Object(n.t)(t)}}}function s(e){let t,c,i,s,l,r,b,u,O,j;r=new o.a({});let d=e[0]&&a(e);return{c(){t=Object(n.u)("h2"),c=Object(n.u)("span"),i=Object(n.ab)(e[1]),s=Object(n.W)(),l=Object(n.u)("button"),Object(n.n)(r.$$.fragment),b=Object(n.W)(),d&&d.c(),Object(n.g)(l,"title","Show sensor description"),Object(n.g)(l,"class","pg-button pg-button-circle info svelte-4lvya3"),Object(n.g)(t,"class","banner svelte-4lvya3")},m(o,a){Object(n.F)(o,t,a),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.I)(r,l,null),Object(n.e)(t,b),d&&d.m(t,null),u=!0,O||(j=Object(n.H)(l,"click",e[4]),O=!0)},p(e,[c]){(!u||2&c)&&Object(n.S)(i,e[1]),e[0]?d?d.p(e,c):(d=a(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(e){u||(Object(n.db)(r.$$.fragment,e),u=!0)},o(e){Object(n.eb)(r.$$.fragment,e),u=!1},d(e){e&&Object(n.t)(t),Object(n.r)(r),d&&d.d(),O=!1,j()}}}function l(e,t,c){let o,a,s;Object(n.l)(e,i.p,e=>c(1,o=e)),Object(n.l)(e,i.o,e=>c(2,a=e)),Object(n.l)(e,i.h,e=>c(3,s=e));let{showDate:l=!1}=t;return e.$$set=e=>{"showDate"in e&&c(0,l=e.showDate)},[l,o,a,s,()=>{i.i.set(a)}]}class r extends n.b{constructor(e){super(),Object(n.E)(this,e,l,s,n.P,{showDate:0})}}var b=r,u=c(340),O=c(330),j=c(341),d=c(116);c(342);function p(e){let t,c,i,o,a,s,l,r,b,u,O,d,p,g,h,m,f,v,y,$,_;return a=new j.a({}),O=new j.a({}),f=new j.a({}),{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),i=Object(n.u)("span"),i.textContent="Switch to Choropleth",o=Object(n.W)(),Object(n.n)(a.$$.fragment),l=Object(n.W)(),r=Object(n.u)("button"),b=Object(n.u)("span"),b.textContent="Switch to Bubble Map",u=Object(n.W)(),Object(n.n)(O.$$.fragment),p=Object(n.W)(),g=Object(n.u)("button"),h=Object(n.u)("span"),h.textContent="Switch to Spike Map",m=Object(n.W)(),Object(n.n)(f.$$.fragment),Object(n.g)(i,"aria-hidden",""),Object(n.g)(c,"aria-pressed",s="color"===e[5]?"true":"false"),Object(n.g)(c,"class","pg-button encoding-button choropleth svelte-1ncn4fm"),Object(n.g)(c,"title","Switch to Choropleth"),Object(n.cb)(c,"selected","color"===e[5]),Object(n.g)(b,"aria-hidden",""),Object(n.g)(r,"aria-pressed",d="bubble"===e[5]?"true":"false"),Object(n.g)(r,"class","pg-button encoding-button bubble svelte-1ncn4fm"),Object(n.g)(r,"title","Switch to Bubble Map"),Object(n.cb)(r,"selected","bubble"===e[5]),Object(n.g)(h,"aria-hidden",""),Object(n.g)(g,"aria-pressed",v="spike"===e[5]?"true":"false"),Object(n.g)(g,"class","pg-button encoding-button spike svelte-1ncn4fm"),Object(n.g)(g,"title","Switch to Spike Map"),Object(n.cb)(g,"selected","spike"===e[5]),Object(n.g)(t,"class","pg-button-vertical-group svelte-1ncn4fm")},m(s,j){Object(n.F)(s,t,j),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,o),Object(n.I)(a,c,null),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(r,u),Object(n.I)(O,r,null),Object(n.e)(t,p),Object(n.e)(t,g),Object(n.e)(g,h),Object(n.e)(g,m),Object(n.I)(f,g,null),y=!0,$||(_=[Object(n.H)(c,"click",e[9]),Object(n.H)(r,"click",e[10]),Object(n.H)(g,"click",e[11])],$=!0)},p(e,t){(!y||32&t&&s!==(s="color"===e[5]?"true":"false"))&&Object(n.g)(c,"aria-pressed",s),32&t&&Object(n.cb)(c,"selected","color"===e[5]),(!y||32&t&&d!==(d="bubble"===e[5]?"true":"false"))&&Object(n.g)(r,"aria-pressed",d),32&t&&Object(n.cb)(r,"selected","bubble"===e[5]),(!y||32&t&&v!==(v="spike"===e[5]?"true":"false"))&&Object(n.g)(g,"aria-pressed",v),32&t&&Object(n.cb)(g,"selected","spike"===e[5])},i(e){y||(Object(n.db)(a.$$.fragment,e),Object(n.db)(O.$$.fragment,e),Object(n.db)(f.$$.fragment,e),y=!0)},o(e){Object(n.eb)(a.$$.fragment,e),Object(n.eb)(O.$$.fragment,e),Object(n.eb)(f.$$.fragment,e),y=!1},d(e){e&&Object(n.t)(t),Object(n.r)(a),Object(n.r)(O),Object(n.r)(f),$=!1,Object(n.O)(_)}}}function g(e){let t;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","loader loading svelte-1ncn4fm")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function h(e){let t,c,i,o,a,s,l,r,b,d,h,m,f,v,y,$,_,w,S,x;o=new u.a({}),r=new O.a({}),f=new j.a({});let k=e[2]&&e[4]&&p(e),P=e[3]&&g();return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("button"),Object(n.n)(o.$$.fragment),s=Object(n.W)(),l=Object(n.u)("button"),Object(n.n)(r.$$.fragment),d=Object(n.W)(),h=Object(n.u)("div"),m=Object(n.u)("button"),Object(n.n)(f.$$.fragment),y=Object(n.W)(),k&&k.c(),$=Object(n.W)(),P&&P.c(),Object(n.g)(i,"class","pg-button"),Object(n.g)(i,"type","button"),Object(n.g)(i,"title","Zoom in"),Object(n.g)(i,"aria-label","Zoom in"),i.disabled=a=!e[1]||e[1].getZoom()<=e[1].getMinZoom(),Object(n.g)(l,"class","pg-button"),Object(n.g)(l,"type","button"),Object(n.g)(l,"title","Zoom out"),Object(n.g)(l,"aria-label","Zoom out"),l.disabled=b=!e[1]||e[1].getZoom()>=e[1].getMaxZoom(),Object(n.g)(c,"class","pg-button-vertical-group svelte-1ncn4fm"),Object(n.g)(m,"class","pg-button"),Object(n.g)(m,"type","button"),Object(n.g)(m,"title","Show entire map"),Object(n.g)(m,"aria-label","Show entire map"),m.disabled=v=!e[1],Object(n.g)(h,"class","svelte-1ncn4fm"),Object(n.g)(t,"class",_="root base-font-size "+e[0]+" svelte-1ncn4fm")},m(a,b){Object(n.F)(a,t,b),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.I)(o,i,null),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.I)(r,l,null),Object(n.e)(t,d),Object(n.e)(t,h),Object(n.e)(h,m),Object(n.I)(f,m,null),Object(n.e)(t,y),k&&k.m(t,null),Object(n.e)(t,$),P&&P.m(t,null),w=!0,S||(x=[Object(n.H)(i,"click",e[6]),Object(n.H)(l,"click",e[7]),Object(n.H)(m,"click",e[8])],S=!0)},p(e,[c]){(!w||2&c&&a!==(a=!e[1]||e[1].getZoom()<=e[1].getMinZoom()))&&(i.disabled=a),(!w||2&c&&b!==(b=!e[1]||e[1].getZoom()>=e[1].getMaxZoom()))&&(l.disabled=b),(!w||2&c&&v!==(v=!e[1]))&&(m.disabled=v),e[2]&&e[4]?k?(k.p(e,c),20&c&&Object(n.db)(k,1)):(k=p(e),k.c(),Object(n.db)(k,1),k.m(t,$)):k&&(Object(n.B)(),Object(n.eb)(k,1,1,()=>{k=null}),Object(n.k)()),e[3]?P||(P=g(),P.c(),P.m(t,null)):P&&(P.d(1),P=null),(!w||1&c&&_!==(_="root base-font-size "+e[0]+" svelte-1ncn4fm"))&&Object(n.g)(t,"class",_)},i(e){w||(Object(n.db)(o.$$.fragment,e),Object(n.db)(r.$$.fragment,e),Object(n.db)(f.$$.fragment,e),Object(n.db)(k),w=!0)},o(e){Object(n.eb)(o.$$.fragment,e),Object(n.eb)(r.$$.fragment,e),Object(n.eb)(f.$$.fragment,e),Object(n.eb)(k),w=!1},d(e){e&&Object(n.t)(t),Object(n.r)(o),Object(n.r)(r),Object(n.r)(f),k&&k.d(),P&&P.d(),S=!1,Object(n.O)(x)}}}function m(e,t,c){let o,a;Object(n.l)(e,i.u,e=>c(4,o=e)),Object(n.l)(e,i.q,e=>c(5,a=e));let{className:s=""}=t,{zoom:l}=t,{showEncodings:r=!1}=t,{loading:b=!1}=t;return e.$$set=e=>{"className"in e&&c(0,s=e.className),"zoom"in e&&c(1,l=e.zoom),"showEncodings"in e&&c(2,r=e.showEncodings),"loading"in e&&c(3,b=e.loading)},[s,l,r,b,o,a,()=>{Object(d.a)("map","zoomIn"),l.zoomIn()},()=>{Object(d.a)("map","zoomOut"),l.zoomOut()},()=>{Object(d.a)("map","zoomReset"),l.resetZoom()},()=>{i.q.set("color")},()=>{i.q.set("bubble")},()=>{i.q.set("spike")}]}class f extends n.b{constructor(e){super(),Object(n.E)(this,e,m,h,n.P,{className:0,zoom:1,showEncodings:2,loading:3})}}var v=f,y=c(405),$=c(155);c(343);function _(e){let t,c,i,o,a,s,l,r,b,u,O,j,d,p,g,h,m,f,v=$.a.increasingIcon+"",y=$.a.steadyIcon+"",_=$.a.decreasingIcon+"";return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.u)("div"),o=Object(n.W)(),s=Object(n.ab)("\n    Increasing"),l=Object(n.W)(),r=Object(n.u)("li"),b=Object(n.u)("div"),u=Object(n.W)(),j=Object(n.ab)("\n    Steady"),d=Object(n.W)(),p=Object(n.u)("li"),g=Object(n.u)("div"),h=Object(n.W)(),f=Object(n.ab)("\n    Decreasing"),Object(n.g)(i,"class","color-block svelte-i5n6tl"),Object(n.V)(i,"background-color",$.a.increasing),a=new n.a(s),Object(n.g)(c,"class","svelte-i5n6tl"),Object(n.g)(b,"class","color-block svelte-i5n6tl"),Object(n.V)(b,"background-color",$.a.steady),O=new n.a(j),Object(n.g)(r,"class","svelte-i5n6tl"),Object(n.g)(g,"class","color-block svelte-i5n6tl"),Object(n.V)(g,"background-color",$.a.decreasing),m=new n.a(f),Object(n.g)(p,"class","svelte-i5n6tl"),Object(n.g)(t,"class","svelte-i5n6tl")},m(e,$){Object(n.F)(e,t,$),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,o),a.m(v,c),Object(n.e)(c,s),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(r,u),O.m(y,r),Object(n.e)(r,j),Object(n.e)(t,d),Object(n.e)(t,p),Object(n.e)(p,g),Object(n.e)(p,h),m.m(_,p),Object(n.e)(p,f)},p:n.J,i:n.J,o:n.J,d(e){e&&Object(n.t)(t)}}}class w extends n.b{constructor(e){super(),Object(n.E)(this,e,null,_,n.P,{})}}var S=w,x=c(400);c(344);function k(e,t,c){const n=e.slice();return n[8]=t[c],n}function P(e){let t,c,i,o=e[1].high+"";return{c(){t=Object(n.u)("li"),c=Object(n.ab)(o),Object(n.g)(t,"class","tick svelte-uoycec"),Object(n.V)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),Object(n.g)(t,"title",i=e[8].label)},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,a){2&a&&o!==(o=e[1].high+"")&&Object(n.S)(c,o),2&a&&Object(n.V)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),2&a&&i!==(i=e[8].label)&&Object(n.g)(t,"title",i)},d(e){e&&Object(n.t)(t)}}}function L(e){let t,c,i,o,a,s,l,r,b,u,O,j=e[1].high+"",d=e[1].high+"",p=e[1].labels,g=[];for(let t=0;t<p.length;t+=1)g[t]=P(k(e,p,t));return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.ab)(j),o=Object(n.W)(),a=Object(n.u)("li"),s=Object(n.ab)(d),r=Object(n.W)();for(let e=0;e<g.length;e+=1)g[e].c();b=Object(n.W)(),u=Object(n.u)("li"),Object(n.g)(c,"class","tick tick-single svelte-uoycec"),Object(n.V)(c,"background","repeating-linear-gradient(-45deg, "+$.e+", white 30%)"),Object(n.g)(c,"title","NA"),Object(n.g)(a,"class","tick tick-single tick-space svelte-uoycec"),Object(n.V)(a,"background-color",$.f),Object(n.g)(a,"title",l=e[1].low),Object(n.g)(u,"class","tick tick-last svelte-uoycec"),Object(n.g)(u,"title",O=e[1].high),Object(n.g)(t,"class","svelte-uoycec"),Object(n.cb)(t,"loading-bg",e[0])},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.e)(a,s),Object(n.e)(t,r);for(let e=0;e<g.length;e+=1)g[e].m(t,null);Object(n.e)(t,b),Object(n.e)(t,u)},p(e,[c]){if(2&c&&j!==(j=e[1].high+"")&&Object(n.S)(i,j),2&c&&d!==(d=e[1].high+"")&&Object(n.S)(s,d),2&c&&l!==(l=e[1].low)&&Object(n.g)(a,"title",l),2&c){let n;for(p=e[1].labels,n=0;n<p.length;n+=1){const i=k(e,p,n);g[n]?g[n].p(i,c):(g[n]=P(i),g[n].c(),g[n].m(t,b))}for(;n<g.length;n+=1)g[n].d(1);g.length=p.length}2&c&&O!==(O=e[1].high)&&Object(n.g)(u,"title",O),1&c&&Object(n.cb)(t,"loading-bg",e[0])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(g,e)}}}function F(e,t,c){let o,a,s,l,r,b;Object(n.l)(e,i.E,e=>c(2,o=e)),Object(n.l)(e,i.o,e=>c(3,a=e)),Object(n.l)(e,i.j,e=>c(4,s=e)),Object(n.l)(e,i.d,e=>c(5,l=e)),Object(n.l)(e,i.A,e=>c(6,r=e)),Object(n.l)(e,i.t,e=>c(7,b=e));let u,{loading:O=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,O=e.loading)},e.$$.update=()=>{252&e.$$.dirty&&c(1,u=Object(x.c)(o,a,s,l,r,b))},[O,u]}class D extends n.b{constructor(e){super(),Object(n.E)(this,e,F,L,n.P,{loading:0})}}var E=D,z=c(399);c(345);function C(e,t,c){const n=e.slice();return n[10]=t[c],n}function R(e){let t,c,i,o,a,s,l=e[10].label+"";return{c(){t=Object(n.u)("li"),c=Object(n.u)("div"),i=Object(n.u)("div"),o=Object(n.W)(),a=Object(n.u)("span"),s=Object(n.ab)(l),Object(n.g)(i,"class","bubble svelte-ulh4py"),Object(n.V)(i,"width",2*e[3](e[10].value)*e[1]+"px"),Object(n.V)(i,"height",2*e[3](e[10].value)*e[1]+"px"),Object(n.V)(i,"background",Object(z.c)(e[10].color,$.b.fillOpacity)),Object(n.V)(i,"border-color",e[10].color),Object(n.g)(c,"class","bubble-wrapper svelte-ulh4py"),Object(n.g)(t,"class","svelte-ulh4py")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.e)(a,s)},p(e,t){14&t&&Object(n.V)(i,"width",2*e[3](e[10].value)*e[1]+"px"),14&t&&Object(n.V)(i,"height",2*e[3](e[10].value)*e[1]+"px"),4&t&&Object(n.V)(i,"background",Object(z.c)(e[10].color,$.b.fillOpacity)),4&t&&Object(n.V)(i,"border-color",e[10].color),4&t&&l!==(l=e[10].label+"")&&Object(n.S)(s,l)},d(e){e&&Object(n.t)(t)}}}function V(e){let t,c,i,o,a,s,l,r,b=e[2].high+"",u=e[2].labels,O=[];for(let t=0;t<u.length;t+=1)O[t]=R(C(e,u,t));return{c(){t=Object(n.u)("ul");for(let e=0;e<O.length;e+=1)O[e].c();c=Object(n.W)(),i=Object(n.u)("li"),o=Object(n.u)("div"),a=Object(n.u)("div"),s=Object(n.W)(),l=Object(n.u)("span"),r=Object(n.ab)(b),Object(n.V)(a,"width",2*e[3](e[2].highValue)*e[1]+"px"),Object(n.V)(a,"height",2*e[3](e[2].highValue)*e[1]+"px"),Object(n.V)(a,"background",Object(z.c)(e[2].highColor,$.b.fillOpacity)),Object(n.V)(a,"border-color",e[2].highColor),Object(n.g)(a,"class","bubble svelte-ulh4py"),Object(n.g)(o,"class","bubble-wrapper svelte-ulh4py"),Object(n.g)(i,"class","svelte-ulh4py"),Object(n.g)(t,"class","svelte-ulh4py"),Object(n.cb)(t,"loading-bg",e[0])},m(e,b){Object(n.F)(e,t,b);for(let e=0;e<O.length;e+=1)O[e].m(t,null);Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(i,o),Object(n.e)(o,a),Object(n.e)(i,s),Object(n.e)(i,l),Object(n.e)(l,r)},p(e,[i]){if(14&i){let n;for(u=e[2].labels,n=0;n<u.length;n+=1){const o=C(e,u,n);O[n]?O[n].p(o,i):(O[n]=R(o),O[n].c(),O[n].m(t,c))}for(;n<O.length;n+=1)O[n].d(1);O.length=u.length}14&i&&Object(n.V)(a,"width",2*e[3](e[2].highValue)*e[1]+"px"),14&i&&Object(n.V)(a,"height",2*e[3](e[2].highValue)*e[1]+"px"),4&i&&Object(n.V)(a,"background",Object(z.c)(e[2].highColor,$.b.fillOpacity)),4&i&&Object(n.V)(a,"border-color",e[2].highColor),4&i&&b!==(b=e[2].high+"")&&Object(n.S)(r,b),1&i&&Object(n.cb)(t,"loading-bg",e[0])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(O,e)}}}function T(e,t,c){let o,a,s,l,r,b,u;Object(n.l)(e,i.E,e=>c(4,o=e)),Object(n.l)(e,i.o,e=>c(5,a=e)),Object(n.l)(e,i.j,e=>c(6,s=e)),Object(n.l)(e,i.d,e=>c(7,l=e)),Object(n.l)(e,i.A,e=>c(8,r=e)),Object(n.l)(e,i.t,e=>c(9,b=e)),Object(n.l)(e,i.c,e=>c(3,u=e));let O,{loading:j=!1}=t,{zoom:d=1}=t;return e.$$set=e=>{"loading"in e&&c(0,j=e.loading),"zoom"in e&&c(1,d=e.zoom)},e.$$.update=()=>{1008&e.$$.dirty&&c(2,O=Object(x.c)(o,a,s,l,r,b))},[j,d,O,u]}class A extends n.b{constructor(e){super(),Object(n.E)(this,e,T,V,n.P,{loading:0,zoom:1})}}var M=A;c(346);function I(e,t,c){const n=e.slice();return n[14]=t[c],n}function W(e){let t,c,i,o,a,s,l,r,b,u,O,j,d=e[14].label+"";return{c(){t=Object(n.u)("li"),c=Object(n.Z)("svg"),i=Object(n.Z)("g"),o=Object(n.Z)("path"),u=Object(n.W)(),O=Object(n.u)("span"),j=Object(n.ab)(d),Object(n.g)(o,"d",a=e[2](e[14].value)),Object(n.g)(o,"class","spike svelte-e80jt3"),Object(n.g)(o,"fill",s=Object(z.c)(e[14].color,$.c.fillOpacity)),Object(n.g)(o,"stroke",l=Object(z.c)(e[14].color,$.c.strokeOpacity)),Object(n.V)(i,"transform","translate("+B+"px, "+B+"px)"),Object(n.g)(c,"width",r=2*e[3]+2*B),Object(n.g)(c,"height",b=e[5](e[14].value)*e[1]+2*B),Object(n.g)(c,"class","svelte-e80jt3"),Object(n.g)(t,"class","legend-direct-tick svelte-e80jt3")},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,o),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,j)},p(e,t){20&t&&a!==(a=e[2](e[14].value))&&Object(n.g)(o,"d",a),16&t&&s!==(s=Object(z.c)(e[14].color,$.c.fillOpacity))&&Object(n.g)(o,"fill",s),16&t&&l!==(l=Object(z.c)(e[14].color,$.c.strokeOpacity))&&Object(n.g)(o,"stroke",l),8&t&&r!==(r=2*e[3]+2*B)&&Object(n.g)(c,"width",r),50&t&&b!==(b=e[5](e[14].value)*e[1]+2*B)&&Object(n.g)(c,"height",b),16&t&&d!==(d=e[14].label+"")&&Object(n.S)(j,d)},d(e){e&&Object(n.t)(t)}}}function N(e){let t,c,i,o,a,s,l,r,b,u,O,j,d,p,g=e[4].high+"",h=e[4].labels,m=[];for(let t=0;t<h.length;t+=1)m[t]=W(I(e,h,t));return{c(){t=Object(n.u)("ul");for(let e=0;e<m.length;e+=1)m[e].c();c=Object(n.W)(),i=Object(n.u)("li"),o=Object(n.Z)("svg"),a=Object(n.Z)("g"),s=Object(n.Z)("path"),j=Object(n.W)(),d=Object(n.u)("span"),p=Object(n.ab)(g),Object(n.g)(s,"d",l=e[2](e[4].highValue)),Object(n.g)(s,"class","spike svelte-e80jt3"),Object(n.g)(s,"fill",r=Object(z.c)(e[4].highColor,$.c.fillOpacity)),Object(n.g)(s,"stroke",b=Object(z.c)(e[4].highColor,$.c.strokeOpacity)),Object(n.V)(a,"transform","translate("+B+"px, "+B+"px)"),Object(n.g)(o,"width",u=2*e[3]+2*B),Object(n.g)(o,"height",O=e[5](e[4].highValue)*e[1]+2*B),Object(n.g)(o,"class","svelte-e80jt3"),Object(n.g)(i,"class","legend-direct-tick svelte-e80jt3"),Object(n.g)(t,"class","legend-ticks svelte-e80jt3"),Object(n.cb)(t,"loading-bg",e[0])},m(e,l){Object(n.F)(e,t,l);for(let e=0;e<m.length;e+=1)m[e].m(t,null);Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(i,o),Object(n.e)(o,a),Object(n.e)(a,s),Object(n.e)(i,j),Object(n.e)(i,d),Object(n.e)(d,p)},p(e,[i]){if(62&i){let n;for(h=e[4].labels,n=0;n<h.length;n+=1){const o=I(e,h,n);m[n]?m[n].p(o,i):(m[n]=W(o),m[n].c(),m[n].m(t,c))}for(;n<m.length;n+=1)m[n].d(1);m.length=h.length}20&i&&l!==(l=e[2](e[4].highValue))&&Object(n.g)(s,"d",l),16&i&&r!==(r=Object(z.c)(e[4].highColor,$.c.fillOpacity))&&Object(n.g)(s,"fill",r),16&i&&b!==(b=Object(z.c)(e[4].highColor,$.c.strokeOpacity))&&Object(n.g)(s,"stroke",b),8&i&&u!==(u=2*e[3]+2*B)&&Object(n.g)(o,"width",u),50&i&&O!==(O=e[5](e[4].highValue)*e[1]+2*B)&&Object(n.g)(o,"height",O),16&i&&g!==(g=e[4].high+"")&&Object(n.S)(p,g),1&i&&Object(n.cb)(t,"loading-bg",e[0])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(m,e)}}}const B=2;function H(e,t,c){let o,a,s,l,r,b,u;Object(n.l)(e,i.j,e=>c(6,o=e)),Object(n.l)(e,i.E,e=>c(8,a=e)),Object(n.l)(e,i.o,e=>c(9,s=e)),Object(n.l)(e,i.d,e=>c(10,l=e)),Object(n.l)(e,i.A,e=>c(11,r=e)),Object(n.l)(e,i.t,e=>c(12,b=e)),Object(n.l)(e,i.D,e=>c(5,u=e));let O,j,d,p,{loading:g=!1}=t,{zoom:h=1}=t,m=()=>"";return e.$$set=e=>{"loading"in e&&c(0,g=e.loading),"zoom"in e&&c(1,h=e.zoom)},e.$$.update=()=>{if(66&e.$$.dirty&&c(3,O=$.c.size[o]*h),66&e.$$.dirty&&c(7,j=$.c.maxHeight[o]*h),8e3&e.$$.dirty&&c(4,d=Object(x.c)(a,s,o,l,r,b)),128&e.$$.dirty&&(p=j+2*B),42&e.$$.dirty){const e=u,t=h,n=O;c(2,m=c=>"M 0 ".concat(e(c)*t," L ").concat(n," 0 L ").concat(2*n," ").concat(e(c)*t))}},[g,h,m,O,d,u]}class Z extends n.b{constructor(e){super(),Object(n.E)(this,e,H,N,n.P,{loading:0,zoom:1})}}var U=Z;c(347);function J(e){let t,c;return t=new U({props:{loading:e[2],zoom:e[3]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),8&c&&(n.zoom=e[3]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function Y(e){let t,c;return t=new M({props:{loading:e[2],zoom:e[3]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),8&c&&(n.zoom=e[3]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function q(e){let t,c;return t=new E({props:{loading:e[2]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function G(e){let t,c;return t=new S({}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p:n.J,i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function X(e){let t,c,i,o,a,s,l,r,u,O,j,d,p,g,h,m;i=new b({props:{showDate:e[4]}}),s=new v({props:{zoom:e[0]?e[0].zoom:null,showEncodings:!0,loading:e[1]}}),u=new y.a({props:{sensor:e[5],className:"container-bg container-style encoding-wrapper"}});const f=[G,q,Y,J],$=[];function _(e,t){return e[6]?0:"color"===e[7]?1:"bubble"===e[7]?2:"spike"===e[7]?3:-1}return~(g=_(e))&&(h=$[g]=f[g](e)),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),Object(n.n)(i.$$.fragment),o=Object(n.W)(),a=Object(n.u)("div"),Object(n.n)(s.$$.fragment),l=Object(n.W)(),r=Object(n.u)("div"),Object(n.n)(u.$$.fragment),O=Object(n.W)(),j=Object(n.u)("div"),d=Object(n.u)("div"),p=Object(n.W)(),h&&h.c(),Object(n.g)(c,"class","title-container svelte-1s00nw2"),Object(n.g)(a,"class","map-controls-container svelte-1s00nw2"),Object(n.g)(t,"class","map-top-overlay svelte-1s00nw2"),Object(n.g)(d,"class","signal-description svelte-1s00nw2"),Object(n.g)(j,"class","container-bg container-style"),Object(n.g)(r,"class","legend-container base-font-size svelte-1s00nw2"),Object(n.g)(r,"aria-label","map legend")},m(e,b){Object(n.F)(e,t,b),Object(n.e)(t,c),Object(n.I)(i,c,null),Object(n.e)(t,o),Object(n.e)(t,a),Object(n.I)(s,a,null),Object(n.F)(e,l,b),Object(n.F)(e,r,b),Object(n.I)(u,r,null),Object(n.e)(r,O),Object(n.e)(r,j),Object(n.e)(j,d),Object(n.e)(j,p),~g&&$[g].m(j,null),m=!0},p(e,[t]){const c={};16&t&&(c.showDate=e[4]),i.$set(c);const o={};1&t&&(o.zoom=e[0]?e[0].zoom:null),2&t&&(o.loading=e[1]),s.$set(o);const a={};32&t&&(a.sensor=e[5]),u.$set(a);let l=g;g=_(e),g===l?~g&&$[g].p(e,t):(h&&(Object(n.B)(),Object(n.eb)($[l],1,1,()=>{$[l]=null}),Object(n.k)()),~g?(h=$[g],h||(h=$[g]=f[g](e),h.c()),Object(n.db)(h,1),h.m(j,null)):h=null)},i(e){m||(Object(n.db)(i.$$.fragment,e),Object(n.db)(s.$$.fragment,e),Object(n.db)(u.$$.fragment,e),Object(n.db)(h),m=!0)},o(e){Object(n.eb)(i.$$.fragment,e),Object(n.eb)(s.$$.fragment,e),Object(n.eb)(u.$$.fragment,e),Object(n.eb)(h),m=!1},d(e){e&&Object(n.t)(t),Object(n.r)(i),Object(n.r)(s),e&&Object(n.t)(l),e&&Object(n.t)(r),Object(n.r)(u),~g&&$[g].d()}}}function K(e,t,c){let o,a,s;Object(n.l)(e,i.o,e=>c(5,o=e)),Object(n.l)(e,i.s,e=>c(6,a=e)),Object(n.l)(e,i.q,e=>c(7,s=e));let{map:l=null}=t,{mapLoading:r=!0}=t,{legendLoading:b=!0}=t,{zoom:u=1}=t,{showDate:O=!1}=t;return e.$$set=e=>{"map"in e&&c(0,l=e.map),"mapLoading"in e&&c(1,r=e.mapLoading),"legendLoading"in e&&c(2,b=e.legendLoading),"zoom"in e&&c(3,u=e.zoom),"showDate"in e&&c(4,O=e.showDate)},[l,r,b,u,O,o,a,s]}class Q extends n.b{constructor(e){super(),Object(n.E)(this,e,K,X,n.P,{map:0,mapLoading:1,legendLoading:2,zoom:3,showDate:4})}}t.a=Q}}]);