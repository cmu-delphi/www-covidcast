(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{464:function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"f",(function(){return o})),c.d(t,"d",(function(){return s})),c.d(t,"a",(function(){return l})),c.d(t,"c",(function(){return u})),c.d(t,"e",(function(){return O}));var n=c(16),i=c(341);function a(e){return Object(n.f)(e).l>.32?"#000":"#fff"}function o(e,t){return e.map(((e,c)=>[e,t[c]]))}function s(e,t){return Array.isArray(e)?e.map((e=>{const c=Object(n.g)(e);return c.opacity=t,c.toString()})):s([e],t)[0]}function l(e,t,c,n){null==n&&(n=c-t);const i={start:e-n/2,end:e.getTime()+n/2};let a=t-i.start;return a<=0&&(a=c-i.end,a>=0&&(a=0)),i.start=i.start+a,i.end=i.end+a,i}const r=new WeakMap,b=new i.a((e=>{for(const t of e){const e=r.get(t.target);e&&e(t.contentRect,t)}}));function u(e,t){r.set(e,t),b.observe(e)}function O(e){r.delete(e),b.unobserve(e)}},466:function(e,t,c){"use strict";var n=c(1),i=c(6);function a(e){let t,c,i,a;return{c(){t=Object(n.u)("button"),Object(n.g)(t,"title","Show sensor description"),Object(n.g)(t,"class",c="uk-icon-button "+e[2]),Object(n.g)(t,"data-uk-toggle","target: #info-dialog"),Object(n.g)(t,"data-uk-icon","icon: question-plain"),Object(n.bb)(t,"uk-icon-button-small",!e[1])},m(c,o){Object(n.F)(c,t,o),i||(a=Object(n.H)(t,"click",Object(n.W)(e[3])),i=!0)},p(e,i){4&i&&c!==(c="uk-icon-button "+e[2])&&Object(n.g)(t,"class",c),6&i&&Object(n.bb)(t,"uk-icon-button-small",!e[1])},d(e){e&&Object(n.t)(t),i=!1,a()}}}function o(e){let t,c=null!=e[0]&&e[0].description&&a(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,[n]){null!=e[0]&&e[0].description?c?c.p(e,n):(c=a(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.J,o:n.J,d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function s(e,t,c){let{sensor:n}=t,{large:a=!1}=t,{className:o=""}=t;return e.$$set=e=>{"sensor"in e&&c(0,n=e.sensor),"large"in e&&c(1,a=e.large),"className"in e&&c(2,o=e.className)},[n,a,o,()=>{i.j.set(n)}]}class l extends n.b{constructor(e){super(),Object(n.E)(this,e,s,o,n.P,{sensor:0,large:1,className:2})}}t.a=l},467:function(e,t,c){"use strict";function n(e,t){return{description:"shows the current data injected via a signal",data:{values:[{date_value:null}]},transform:[{calculate:"toDate(".concat(e,")"),as:"date_value"}],mark:{type:"rule",tooltip:!1},encoding:{color:{value:t},x:{field:"date_value",type:"temporal"}}}}function i(e,t="diamond",c="black"){return{description:"shows the current data injected via a signal",data:{values:[{date_value:null}]},transform:[{calculate:"toDate(".concat(e,")"),as:"date_value"}],mark:{type:"point",shape:t,color:c,fill:c,tooltip:!1},encoding:{y:{value:-7},x:{field:"date_value",type:"temporal"}}}}c.d(t,"c",(function(){return n})),c.d(t,"d",(function(){return i})),c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return o}));const a=n("currentDate","#c00"),o=i("currentDate","circle","#c00")},468:function(e,t,c){"use strict";c.d(t,"b",(function(){return u})),c.d(t,"a",(function(){return O})),c.d(t,"c",(function(){return j}));var n=c(70),i=c(351),a=c.n(i),o=c(59),s=c(464),l=c(4);const r={min:0,max:100,mean:50,std:10};function b(e,t){if(!e||!e.has(t))return r;const c=e.get(t);return[c.max,c.std,c.mean].some((e=>null==e||Number.isNaN(e)))?(console.warn("invalid stats detected for",t),r):c}function u(e,t,c,n,i=!1){let a=t.key;if("count"===t.getType(n)){a+="_".concat(c),t.isCasesOrDeath&&(a+="_".concat(Object(l.l)(t,n)));const o=b(e,a);return i?[0,o.max]:[Math.max(.14,o.mean-3*o.std),o.mean+3*o.std]}t.isCasesOrDeath&&(a+="_".concat(Object(l.l)(t,n)));const o=b(e,a);return i?[0,o.max]:[Math.max(0,o.mean-3*o.std),o.mean+3*o.std]}function O(e,t,c){return"count"===c?function(e,t){const c=Object(n.c)(t.colorScale).domain(e),i=a()(Math.log10(e[0]),Math.log10(e[1]),7),o=i.map((e=>c(e).toString()));return{stops:Object(s.f)(i,o),scale:c}}(e,t):"prop"===c?function(e,t){const c=Math.max(e[0],0),i=Math.max(c+.01,e[1]),a=c+(i-c)/2,o=c+(a-c)/2,l=a+(i-a)/2,r=Object(n.b)(t.colorScale).domain(e),b=[c,o,a,l,i],u=b.map((e=>r(e).toString()));return{stops:Object(s.f)(b,u),scale:r}}(e,t):function(e,t){const c=e[0]+(e[1]-e[0])/2,i=e[0]+(c-e[0])/2,a=c+(e[1]-c)/2,o=Object(n.b)(t.colorScale).domain(e),l=[e[0],i,c,a,e[1]],r=l.map((e=>o(e).toString()));return{stops:Object(s.f)(l,r),scale:o}}(e,t)}function d(e,t,c){const n=[e],i=(t-e)/c;for(let e=1;e<c;e++)n.push(n[e-1]+i);return n.push(t),n}function j(e,t,c,n,i,s=!1){const l=e?u(e,t,c,i):null;if(!l)return{labels:[],high:"",valueMinMax:[0,0]};const r=function(e,t,c,n){const i=n?5:7;if("count"===e.getType(t)){const e=Math.log10(Math.max(.01,c[0])),t=Math.log10(Math.max(.1,c[1]));return a()(e,t,i)}return"raw"===e.format?(c[0]=Math.max(0,c[0]),d(c[0],c[1],i)):(c[0]=Math.max(0,c[0]),c[1]=Math.min(100,c[1]),d(c[0],c[1],i))}(t,i,l,s);return{low:t.formatValue(0),lowValue:0,lowColor:o.e,labels:r.slice(0,-1).map(((e,c)=>({label:t.formatValue(e),value:e,color:n(e),nextColor:n(r[c+1])}))),high:"".concat(t.formatValue(l[1]),"+"),highValue:l[1],highColor:n(l[1]),valueMinMax:l}}},470:function(e,t,c){"use strict";var n=c(1),i=c(86),a=c(342),o=c(40),s=c(464),l=c(463);function r(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function b(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?r(Object(c),!0).forEach((function(t){u(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function u(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}let O=null;function d(e){return e&&null!=e.datum?d(e.datum):e}function j(e,t={}){if(!e)return;let c=!1,n=null,i=t;const a=(t,a,o,s)=>{if(c)return;const{popper:r,update:u,hide:j}=function(){if(O)return O;const e=document.createElement("div");e.classList.add("viz-tooltip","mapboxgl-popup-content","mapboxgl-map"),document.body.appendChild(e);let t={width:0,height:0,x:0,y:0};const c={getBoundingClientRect:()=>({left:t.x,right:t.x+t.width,width:t.width,top:t.y,bottom:t.y+t.height,height:t.height})},n=Object(l.a)(c,e,{placement:"top-start",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{padding:8}}]}),i=(c=0,i=0,a=0,o=0)=>{t.x=c,t.y=i,t.width=a,t.height=o,e.style.display="",n.update()},a=()=>{e.style.display="none"};return O={instance:n,popper:e,update:i,hide:a},{instance:n,popper:e,update:i,hide:a}}(),p=d(o);if(null==s||""===s||null==p.value)return j(),void(n&&n.$set({hidden:!0}));u(a.clientX,a.clientY),n?n.$set({hidden:!1,item:d(o)}):n=new e({target:r,props:b(b({},i),{},{hidden:!1,item:d(o)})})};return a.destroy=()=>{n&&(n.$destroy(),n=null),c=!0},a.update=e=>{i=e,n&&n.$set(b({},i))},a}var p=c(216),h=c(159);const g=new Map;function m(e,t){const c="d:".concat(t);if(g.has(c))return g.get(c)(e);const n=Object(p.a)(t);return g.set(c,n),n(e)}function f(e,t){const c="n:".concat(t);if(g.has(c))return g.get(c)(e);const n=Object(h.a)(t);return g.set(c,n),n(e)}function v(e){let t,c;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","root"),Object(n.g)(t,"data-message",e[4]),Object(n.g)(t,"data-testid","vega"),Object(n.g)(t,"data-status",c=e[2]?"error":e[1]?"no-data":e[0]?"loading":"ready"),Object(n.bb)(t,"loading-bg",!e[2]&&e[0]),Object(n.bb)(t,"message-overlay",e[2]||e[1]&&!e[0])},m(c,i){Object(n.F)(c,t,i),e[21](t)},p(e,[i]){16&i&&Object(n.g)(t,"data-message",e[4]),7&i&&c!==(c=e[2]?"error":e[1]?"no-data":e[0]?"loading":"ready")&&Object(n.g)(t,"data-status",c),5&i&&Object(n.bb)(t,"loading-bg",!e[2]&&e[0]),7&i&&Object(n.bb)(t,"message-overlay",e[2]||e[1]&&!e[0])},i:n.J,o:n.J,d(c){c&&Object(n.t)(t),e[21](null)}}}function y(e,t,c){Object(o.expressionFunction)("cachedTime",m),Object(o.expressionFunction)("cachedNumber",f);let{data:l=Promise.resolve([])}=t;const r=Object(i.a)();let{spec:b}=t,u=null,O=null,d=null,{signals:p={}}=t,{signalListeners:h=[]}=t,{dataListeners:g=[]}=t,{eventListeners:v=[]}=t,y=!1,_=!1,$=!1,{resetSignalsUponNoData:k=!0}=t,{noDataText:w="No data available"}=t,{patchSpec:x=null}=t,{tooltip:S}=t,{tooltipProps:V={}}=t,P={width:300,height:300};function L(e,t){e&&(c(0,y=!0),c(2,$=!1),c(1,_=!1),Promise.all([e,t]).then((([t,n])=>{e===d&&(t.view.change("values",t.view.changeset().remove((()=>!0)).insert(n||[])),c(1,_=!n||0===n.length),Object.entries(p).forEach((([e,c])=>{t.view.signal(e,k&&_?null:c)})),t.view.runAsync(),c(0,y=!1))})).catch((e=>{console.error("error while updating data",e),c(0,y=!1),c(1,_=!1),c(2,$=!0)})))}function C(e){u&&(d&&d.then((e=>e.finalize())),O=null,c(2,$=!1),c(17,d=Object(a.a)(u,e,{actions:!1,logLevel:o.Error,tooltip:M,patch:e=>(e.signals=e.signals||[],Object.entries(p).forEach((([t,c])=>{e.signals.push({name:t,value:c})})),e.signals.push({name:"width",init:"containerSize()[0]",on:[{events:{source:"window",type:"resize"},update:"containerSize()[0]"}]}),e.signals.push({name:"height",init:"containerSize()[1]",on:[{events:{source:"window",type:"resize"},update:"containerSize()[1]"}]}),e)})),d.then((t=>{u&&(O=t,u.setAttribute("role","figure"),h.forEach((c=>{t.view.addSignalListener(c,((c,n)=>{r("signal",{name:c,value:n,view:t.view,spec:e})}))})),g.forEach((c=>{t.view.addDataListener(c,((c,n)=>{r("dataListener",{name:c,value:n,view:t.view,spec:e})}))})),v.forEach((c=>{t.view.addEventListener(c,((n,i)=>{r(c,{event:n,item:i,view:t.view,spec:e})}))})),L(d,l))})),d.catch((e=>{console.error("error while creating vega",e),c(2,$=!0)})))}let z,M,D;return Object(i.c)((()=>{c(18,P=u.getBoundingClientRect()),Object(s.c)(u,(e=>{(Math.abs(e.width-P.width)>1||Math.abs(e.height-P.height)>1)&&(c(18,P=e),!x&&O&&O.view.resize().runAsync())})),x||C(b)})),Object(i.b)((()=>{Object(s.e)(u),M&&M.destroy(),O?(O.finalize(),O=null,c(17,d=null)):d&&(d.then((e=>e.finalize())),c(17,d=null))})),e.$$set=e=>{"data"in e&&c(5,l=e.data),"spec"in e&&c(6,b=e.spec),"signals"in e&&c(7,p=e.signals),"signalListeners"in e&&c(8,h=e.signalListeners),"dataListeners"in e&&c(9,g=e.dataListeners),"eventListeners"in e&&c(10,v=e.eventListeners),"resetSignalsUponNoData"in e&&c(11,k=e.resetSignalsUponNoData),"noDataText"in e&&c(12,w=e.noDataText),"patchSpec"in e&&c(13,x=e.patchSpec),"tooltip"in e&&c(14,S=e.tooltip),"tooltipProps"in e&&c(15,V=e.tooltipProps)},e.$$.update=()=>{4103&e.$$.dirty&&c(4,z=$?"Error occurred":_&&!y?w:null),16384&e.$$.dirty&&c(19,M=j(S)),557056&e.$$.dirty&&M&&M.update(V),131104&e.$$.dirty&&L(d,l),270400&e.$$.dirty&&c(20,D=x?x(b,P):b),1048576&e.$$.dirty&&C(D),131200&e.$$.dirty&&function(e,t){e&&O&&0!==Object.keys(t).length&&(c(2,$=!1),Object.entries(t).forEach((([e,t])=>{O.view.signal(e,t)})),O.view.runAsync())}(d,p)},[y,_,$,u,z,l,b,p,h,g,v,k,w,x,S,V,()=>d.then((e=>e.view)),d,P,M,D,function(e){n.i[e?"unshift":"push"]((()=>{u=e,c(3,u)}))}]}class _ extends n.b{constructor(e){super(),Object(n.E)(this,e,y,v,n.P,{data:5,spec:6,signals:7,signalListeners:8,dataListeners:9,eventListeners:10,resetSignalsUponNoData:11,noDataText:12,patchSpec:13,tooltip:14,tooltipProps:15,vegaAccessor:16})}get vegaAccessor(){return this.$$.ctx[16]}}t.a=_},471:function(e,t,c){"use strict";c.d(t,"c",(function(){return j})),c.d(t,"b",(function(){return h})),c.d(t,"d",(function(){return g})),c.d(t,"a",(function(){return f}));var n=c(474),i=c(161),a=c(4),o=c(6),s=c(121),l=c(467);function r(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function b(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?r(Object(c),!0).forEach((function(t){u(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function u(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function O(e,t,c,n){return Promise.all(t.map((t=>{const o=t.info;return o.level===a.j.id?[]:Object(i.d)(e,o.level,o.propertyId,c,n,!1,{geo_value:o.propertyId}).then((t=>Object(i.a)(t,e))).then((e=>e.map((e=>(e.displayName=o.displayName,e)))))}))).then((e=>e.flat()))}function d(e,t,c,n){return t&&t.level!==a.j.id?Object(i.d)(e,t.level,t.propertyId,c,n,!1,{geo_value:t.propertyId}).then((t=>Object(i.a)(t,e))).then((e=>e.map((e=>(e.displayName=t.displayName,e))))):Promise.resolve([])}function j(e,t,c,n){const i=t.length<2,o=0===t.length?null:t[0].info;return{sensor:e,data:i?d(e,o,c,n):O(e,t,c,n),spec:f(e,t,[c,n]),noDataText:o?o.level===a.j.id?"Please select a county":"No data available":"No location selected"}}const p=Object(s.a)((e=>{o.u.set(e)}),1,{leading:!1,trailing:!0});function h(e){const t=function(e){const t=e.detail.value;return t&&Array.isArray(t.date_value)&&t.date_value.length>0?Number.parseInt(Object(i.e)(t.date_value[0]),10):null}(e);t&&p(t)}function g(e){const t=e.detail.item;return t&&t.isVoronoi?t.datum.datum.time_value:null}const m=[{calculate:"datum.value == null ? null : (datum.value - datum.stderr) / 100",as:"value_lower_bound"},{calculate:"datum.value == null ? null : (datum.value + datum.stderr) / 100",as:"value_upper_bound"}];function f(e,t,c,i){const a="percent"===e.format,o=a?e=>e/100:e=>e,s=i&&i.field?i.field:a?"pValue":"value",r=!(!i||!i.domain),u=o(r?i.domain[1]:0),O=[{as:"clipped",calculate:"".concat(!r," || datum.").concat(s," == null ? false : datum.").concat(s," > ").concat(u)},{as:"clippedData",calculate:"datum.clipped ? datum.".concat(s," : null")}];return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",data:{name:"values"},padding:{left:50,top:6,bottom:20,right:2},autosize:{type:"none",contains:"padding",resize:!0},transform:[...e.hasStdErr?a?m:n.e:[],{as:"pValue",calculate:"datum.value == null ? null : datum.value / 100"},...r?O:[]],resolve:{scale:{y:"shared"}},encoding:{color:Object(n.a)(t),x:{field:"date_value",type:"temporal",axis:{title:null,format:"%m/%d",formatType:"cachedTime",tickCount:"month"},scale:c?{domain:[c[0].getTime(),c[1].getTime()]}:{}}},layer:[...e.hasStdErr?[n.d]:[],{mark:{type:"line",interpolate:"linear"},encoding:{y:{field:s,type:"quantitative",scale:{domainMin:r?o(i.domain[0]):0,domainMax:r?o(i.domain[1]):void 0,clamp:!0,nice:!r},axis:b(b({},a?{format:".1%",formatType:"cachedNumber"}:{}),{},{title:null,tickCount:3,minExtent:25})}}},...r?[{mark:{type:"text",text:"∶",size:12,baseline:"bottom",dx:-.3,dy:3.5,stroke:"#FFAAAA",strokeOpacity:.5},encoding:{y:{field:"clippedData",type:"quantitative"}}}]:[],{selection:{highlight:{type:"single",empty:"none",on:"mouseover",nearest:!0,encodings:["x"],clear:"mouseout"}},mark:{type:"rule",strokeWidth:2.5,color:"white",opacity:.001,tooltip:!0}},{mark:{type:"point",radius:1,stroke:null,fill:"grey"},encoding:{opacity:{condition:[{selection:"highlight",value:1},{test:"datum.time_value == highlightTimeValue",value:1}],value:0},y:{field:s,type:"quantitative"}}},{mark:{type:"rule"},encoding:{opacity:{condition:[{selection:"highlight",value:1},{test:"datum.time_value == highlightTimeValue",value:1}],value:0},y:{field:s,type:"quantitative"}}},l.a],config:{customFormatTypes:!0,legend:{disable:!0}}}}},473:function(e,t,c){"use strict";var n=c(1),i=c(465);c(345);function a(e){let t,c,i=e[2].displayName+"";return{c(){t=Object(n.Z)(i),c=Object(n.Z)(" on")},m(e,i){Object(n.F)(e,t,i),Object(n.F)(e,c,i)},p(e,c){4&c&&i!==(i=e[2].displayName+"")&&Object(n.S)(t,i)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c)}}}function o(e){let t,c,i,a,o,s,r,b,u=e[0].yAxis+"",O=e[0].formatValue(e[2].value)+"",d=e[0].hasStdErr&&null!=e[2].stderr&&l(e);return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),i=Object(n.Z)(u),a=Object(n.V)(),o=Object(n.u)("td"),s=Object(n.Z)(O),r=Object(n.V)(),d&&d.c(),b=Object(n.v)(),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(o,"class","right svelte-1icnyvz")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(o,s),Object(n.F)(e,r,l),d&&d.m(e,l),Object(n.F)(e,b,l)},p(e,t){1&t&&u!==(u=e[0].yAxis+"")&&Object(n.S)(i,u),5&t&&O!==(O=e[0].formatValue(e[2].value)+"")&&Object(n.S)(s,O),e[0].hasStdErr&&null!=e[2].stderr?d?d.p(e,t):(d=l(e),d.c(),d.m(b.parentNode,b)):d&&(d.d(1),d=null)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(r),d&&d.d(e),e&&Object(n.t)(b)}}}function s(e){let t,c,a,o,s,l,r,b,u,O,d,j,p,h,g,m,f,v,y,_,$,k,w,x,S,V,P,L,C,z,M,D,F,R,E,A,Z,T=e[0].yAxis+"",N=Object(i.c)(e[2].date_value)+"",I=e[0].formatValue(e[2].count)+"",B=e[0].formatValue(e[2].countRatio)+"",H=e[0].formatValue(e[2].avg)+"",U=e[0].formatValue(e[2].avgRatio)+"",q=Object(i.c)(e[2].date_value)+"",J=e[0].formatValue(e[2].countCumulative)+"",Y=e[0].formatValue(e[2].countRatioCumulative)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),a=Object(n.Z)(T),o=Object(n.V)(),s=Object(n.u)("th"),s.textContent="Count",l=Object(n.V)(),r=Object(n.u)("th"),r.textContent="Ratios (per 100,000)",b=Object(n.V)(),u=Object(n.u)("tr"),O=Object(n.u)("th"),d=Object(n.Z)(N),j=Object(n.V)(),p=Object(n.u)("td"),h=Object(n.Z)(I),g=Object(n.V)(),m=Object(n.u)("td"),f=Object(n.Z)(B),v=Object(n.V)(),y=Object(n.u)("tr"),_=Object(n.u)("th"),_.textContent="7-day average",$=Object(n.V)(),k=Object(n.u)("td"),w=Object(n.Z)(H),x=Object(n.V)(),S=Object(n.u)("td"),V=Object(n.Z)(U),P=Object(n.V)(),L=Object(n.u)("tr"),C=Object(n.u)("th"),z=Object(n.Z)(q),M=Object(n.Z)(" (cumulative)"),D=Object(n.V)(),F=Object(n.u)("td"),R=Object(n.Z)(J),E=Object(n.V)(),A=Object(n.u)("td"),Z=Object(n.Z)(Y),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(s,"class","area svelte-1icnyvz"),Object(n.g)(r,"class","area svelte-1icnyvz"),Object(n.g)(O,"class","svelte-1icnyvz"),Object(n.g)(p,"class","right svelte-1icnyvz"),Object(n.g)(m,"class","right svelte-1icnyvz"),Object(n.g)(_,"class","svelte-1icnyvz"),Object(n.g)(k,"class","right svelte-1icnyvz"),Object(n.g)(S,"class","right svelte-1icnyvz"),Object(n.g)(C,"class","svelte-1icnyvz"),Object(n.g)(F,"class","right svelte-1icnyvz"),Object(n.g)(A,"class","right svelte-1icnyvz")},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c),Object(n.e)(c,a),Object(n.e)(t,o),Object(n.e)(t,s),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.F)(e,b,i),Object(n.F)(e,u,i),Object(n.e)(u,O),Object(n.e)(O,d),Object(n.e)(u,j),Object(n.e)(u,p),Object(n.e)(p,h),Object(n.e)(u,g),Object(n.e)(u,m),Object(n.e)(m,f),Object(n.F)(e,v,i),Object(n.F)(e,y,i),Object(n.e)(y,_),Object(n.e)(y,$),Object(n.e)(y,k),Object(n.e)(k,w),Object(n.e)(y,x),Object(n.e)(y,S),Object(n.e)(S,V),Object(n.F)(e,P,i),Object(n.F)(e,L,i),Object(n.e)(L,C),Object(n.e)(C,z),Object(n.e)(C,M),Object(n.e)(L,D),Object(n.e)(L,F),Object(n.e)(F,R),Object(n.e)(L,E),Object(n.e)(L,A),Object(n.e)(A,Z)},p(e,t){1&t&&T!==(T=e[0].yAxis+"")&&Object(n.S)(a,T),4&t&&N!==(N=Object(i.c)(e[2].date_value)+"")&&Object(n.S)(d,N),5&t&&I!==(I=e[0].formatValue(e[2].count)+"")&&Object(n.S)(h,I),5&t&&B!==(B=e[0].formatValue(e[2].countRatio)+"")&&Object(n.S)(f,B),5&t&&H!==(H=e[0].formatValue(e[2].avg)+"")&&Object(n.S)(w,H),5&t&&U!==(U=e[0].formatValue(e[2].avgRatio)+"")&&Object(n.S)(V,U),4&t&&q!==(q=Object(i.c)(e[2].date_value)+"")&&Object(n.S)(z,q),5&t&&J!==(J=e[0].formatValue(e[2].countCumulative)+"")&&Object(n.S)(R,J),5&t&&Y!==(Y=e[0].formatValue(e[2].countRatioCumulative)+"")&&Object(n.S)(Z,Y)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(b),e&&Object(n.t)(u),e&&Object(n.t)(v),e&&Object(n.t)(y),e&&Object(n.t)(P),e&&Object(n.t)(L)}}}function l(e){let t,c,i,a,o,s=e[0].formatValue(e[2].stderr)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),c.textContent="Standard Error",i=Object(n.V)(),a=Object(n.u)("td"),o=Object(n.Z)(s),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(a,"class","right svelte-1icnyvz")},m(e,s){Object(n.F)(e,t,s),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(t,a),Object(n.e)(a,o)},p(e,t){5&t&&s!==(s=e[0].formatValue(e[2].stderr)+"")&&Object(n.S)(o,s)},d(e){e&&Object(n.t)(t)}}}function r(e){let t,c,l,r,b,u,O,d=Object(i.c)(e[2].date_value)+"",j=e[2].displayName&&a(e);function p(e,t){return e[0].isCasesOrDeath?s:o}let h=p(e),g=h(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("h5"),j&&j.c(),l=Object(n.V)(),r=Object(n.Z)(d),b=Object(n.V)(),u=Object(n.u)("table"),O=Object(n.u)("tbody"),g.c(),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(t,"aria-label","tooltip"),Object(n.g)(t,"class","tooltip svelte-1icnyvz"),Object(n.bb)(t,"hidden",e[1])},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c),j&&j.m(c,null),Object(n.e)(c,l),Object(n.e)(c,r),Object(n.e)(t,b),Object(n.e)(t,u),Object(n.e)(u,O),g.m(O,null)},p(e,[o]){e[2].displayName?j?j.p(e,o):(j=a(e),j.c(),j.m(c,l)):j&&(j.d(1),j=null),4&o&&d!==(d=Object(i.c)(e[2].date_value)+"")&&Object(n.S)(r,d),h===(h=p(e))&&g?g.p(e,o):(g.d(1),g=h(e),g&&(g.c(),g.m(O,null))),2&o&&Object(n.bb)(t,"hidden",e[1])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),j&&j.d(),g.d()}}}function b(e,t,c){let{sensor:n}=t,{hidden:i=!1}=t,{item:a}=t;return e.$$set=e=>{"sensor"in e&&c(0,n=e.sensor),"hidden"in e&&c(1,i=e.hidden),"item"in e&&c(2,a=e.item)},[n,i,a]}class u extends n.b{constructor(e){super(),Object(n.E)(this,e,b,r,n.P,{sensor:0,hidden:1,item:2})}}t.a=u},474:function(e,t,c){"use strict";c.d(t,"d",(function(){return l})),c.d(t,"e",(function(){return r})),c.d(t,"a",(function(){return O})),c.d(t,"b",(function(){return d})),c.d(t,"c",(function(){return j}));var n=c(346),i=c(467);function a(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function o(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?a(Object(c),!0).forEach((function(t){s(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function s(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}const l={mark:{type:"area",interpolate:"monotone"},encoding:{color:{field:"geo_value"},opacity:{value:.25},y:{field:"value_lower_bound",type:"quantitative"},y2:{field:"value_upper_bound"}}},r=[{calculate:"datum.value == null ? null : datum.value - datum.stderr",as:"value_lower_bound"},{calculate:"datum.value == null ? null : datum.value + datum.stderr",as:"value_upper_bound"}],b={field:"date_value",type:"temporal",axis:{orient:"bottom",labels:!1,title:null}},u=o(o({},b),{},{axis:{orient:"bottom",title:null,format:"%m/%d",formatType:"time",tickCount:"week",grid:!0,labelSeparation:10}});function O(e){return e?{field:"geo_value",type:"nominal",scale:{domain:e.map((e=>e.info.propertyId)),range:e.map(((e,t)=>0===t?"grey":e.color))}}:{value:"grey"}}function d(e,t,c,n,a){const s="countRatioCumulative"===t||"avgRatio"===t?" per 100,000 people":"",d=e.yAxis+s,j="countRatioCumulative"===t||"countCumulative"===t?60:50,p={$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:{text:a,font:'"Open Sans", Helvetica, sans-serif',fontSize:14.08,fontWeight:700,lineHeight:22,color:"#666"},data:{name:"values",values:n?[{date_value:n[0],value:0},{date_value:n[1],value:1}]:[]},autosize:{type:"none",contains:"padding",resize:!0},padding:{left:j,right:2,top:50,bottom:5},transform:e.hasStdErr?r:[],vconcat:[{encoding:{x:o(o({},b),{},{scale:{domain:{selection:"dateRange"}}})},resolve:{axis:{x:"independent"}},layer:[{mark:{type:"line",interpolate:"monotone"},encoding:{color:O(c),x:o({},u),y:{field:t,type:"quantitative",scale:{domainMin:0},axis:{minExtent:25,title:d}}}},{selection:{highlight:{type:"single",empty:"none",nearest:!0,encodings:["x"],on:"mouseover",clear:"mouseout"}},mark:{type:"circle",tooltip:!0},encoding:{color:{field:"geo_value"},x:o(o({},u),{},{axis:o(o({},u.axis),{},{labels:!1,grid:!1,tickCount:"day"})}),y:{field:t,type:"quantitative"}}},...e.hasStdErr?[l]:[],{transform:[{filter:{selection:"highlight"}}],mark:"rule",encoding:{y:{field:t,type:"quantitative"}}},i.a]},{height:40,padding:{top:0},view:{cursor:"col-resize"},encoding:{color:{field:"geo_value"},x:o({},u),y:{field:t,type:"quantitative",axis:{minExtent:25,tickCount:3,title:" "}}},layer:[{selection:{dateRange:{type:"interval",encodings:["x"],init:{x:[n[0].getTime(),n[1].getTime()]},mark:{cursor:"move"}}},mark:{type:"line",interpolate:"monotone"},encoding:{y:{field:t,type:"quantitative",axis:{minExtent:25,tickCount:3,title:" "}}}},...e.hasStdErr?[l]:[],{selection:{highlight2:{type:"single",empty:"none",nearest:!0,encodings:["x"],on:"mouseover",clear:"mouseout"}},transform:[{filter:{selection:"highlight2"}}],mark:"rule",encoding:{y:{field:t,type:"quantitative"}}},i.a]}],config:{customFormatTypes:!0,legend:{disable:!0}}};if(e.isCasesOrDeath){const e={mark:{type:"line",interpolate:"monotone",opacity:.2},encoding:{y:{field:t.replace("avg","count"),type:"quantitative"},color:{field:"geo_value"}}};p.vconcat[0].layer.unshift(e),p.vconcat[1].layer.unshift(e)}return p}function j(e,t){return Object(n.a)({},e,{vconcat:[{height:Math.floor(t.height-40-110)},{height:40}]})}},476:function(e,t,c){"use strict";var n=c(1),i=c(6),a=c(161),o=c(216),s=c(475),l=c(82);c(343);function r(e){let t,c,i,a,o=e[2](e[0])+"";return{c(){t=Object(n.u)("button"),c=Object(n.Z)(o),Object(n.g)(t,"aria-label","selected date"),Object(n.g)(t,"class","uk-input")},m(o,s){Object(n.F)(o,t,s),Object(n.e)(t,c),i||(a=Object(n.H)(t,"",e[7]),i=!0)},p(e,t){5&t&&o!==(o=e[2](e[0])+"")&&Object(n.S)(c,o)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),i=!1,a()}}}function b(e){let t,c,i;function a(t){e[8].call(null,t)}let o={className:"uk-width-1-1",start:e[3][0],end:e[3][1],formattedSelected:e[2](e[0]),$$slots:{default:[u]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.selected=e[0]),t=new s.a({props:o}),n.i.push((()=>Object(n.h)(t,"selected",a))),{c(){Object(n.n)(t.$$.fragment)},m(e,c){Object(n.I)(t,e,c),i=!0},p(e,i){const a={};8&i&&(a.start=e[3][0]),8&i&&(a.end=e[3][1]),5&i&&(a.formattedSelected=e[2](e[0])),4101&i&&(a.$$scope={dirty:i,ctx:e}),!c&&1&i&&(c=!0,a.selected=e[0],Object(n.c)((()=>c=!1))),t.$set(a)},i(e){i||(Object(n.cb)(t.$$.fragment,e),i=!0)},o(e){Object(n.db)(t.$$.fragment,e),i=!1},d(e){Object(n.r)(t,e)}}}function u(e){let t,c,i,a,o=e[2](e[0])+"";return{c(){t=Object(n.u)("button"),c=Object(n.Z)(o),Object(n.g)(t,"aria-label","selected date"),Object(n.g)(t,"class","uk-input uk-text-nowrap")},m(o,s){Object(n.F)(o,t,s),Object(n.e)(t,c),i||(a=Object(n.H)(t,"",e[6]),i=!0)},p(e,t){5&t&&o!==(o=e[2](e[0])+"")&&Object(n.S)(c,o)},d(e){e&&Object(n.t)(t),i=!1,a()}}}function O(e){let t,c,i,a,o,s,l,u,O,d,j,p,h,g,m,f,v;const y=[b,r],_=[];function $(e,t){return null!=e[0]&&0!==e[3].length?0:1}return c=$(e),i=_[c]=y[c](e),{c(){t=Object(n.u)("div"),i.c(),a=Object(n.V)(),o=Object(n.u)("div"),s=Object(n.u)("button"),u=Object(n.V)(),O=Object(n.u)("button"),j=Object(n.V)(),p=Object(n.u)("button"),Object(n.g)(t,"class","uk-form-controls"),Object(n.g)(s,"class","uk-button uk-button-default svelte-qjzvyh"),s.disabled=l=null==e[0]||0===e[3].length||e[0]<=e[3][0],Object(n.g)(s,"title","Go to the previous day"),Object(n.g)(s,"data-uk-icon","icon: chevron-left"),Object(n.g)(O,"class","uk-button uk-button-default svelte-qjzvyh"),O.disabled=d=null==e[0]||0===e[3].length||e[0]>=e[3][1],Object(n.g)(O,"title","Go to the next day"),Object(n.g)(O,"data-uk-icon","icon: chevron-right"),Object(n.g)(p,"class","uk-button uk-button-default svelte-qjzvyh"),p.disabled=h=null==e[0]||0===e[3].length||e[0].valueOf()===e[3][1].valueOf(),Object(n.g)(p,"title",g="Go to the latest date for which '"+e[1].name+"' is available"),Object(n.g)(p,"data-uk-icon","icon: chevron-right-end"),Object(n.g)(o,"class","uk-button-group shortcuts svelte-qjzvyh")},m(i,l){Object(n.F)(i,t,l),_[c].m(t,null),Object(n.F)(i,a,l),Object(n.F)(i,o,l),Object(n.e)(o,s),Object(n.e)(o,u),Object(n.e)(o,O),Object(n.e)(o,j),Object(n.e)(o,p),m=!0,f||(v=[Object(n.H)(s,"click",e[9]),Object(n.H)(O,"click",e[10]),Object(n.H)(p,"click",e[11])],f=!0)},p(e,[a]){let o=c;c=$(e),c===o?_[c].p(e,a):(Object(n.B)(),Object(n.db)(_[o],1,1,(()=>{_[o]=null})),Object(n.k)(),i=_[c],i?i.p(e,a):(i=_[c]=y[c](e),i.c()),Object(n.cb)(i,1),i.m(t,null)),(!m||9&a&&l!==(l=null==e[0]||0===e[3].length||e[0]<=e[3][0]))&&(s.disabled=l),(!m||9&a&&d!==(d=null==e[0]||0===e[3].length||e[0]>=e[3][1]))&&(O.disabled=d),(!m||9&a&&h!==(h=null==e[0]||0===e[3].length||e[0].valueOf()===e[3][1].valueOf()))&&(p.disabled=h),(!m||2&a&&g!==(g="Go to the latest date for which '"+e[1].name+"' is available"))&&Object(n.g)(p,"title",g)},i(e){m||(Object(n.cb)(i),m=!0)},o(e){Object(n.db)(i),m=!1},d(e){e&&Object(n.t)(t),_[c].d(),e&&Object(n.t)(a),e&&Object(n.t)(o),f=!1,Object(n.O)(v)}}}function d(e,t,c){let s,r;Object(n.l)(e,i.v,(e=>c(4,s=e))),Object(n.l)(e,i.G,(e=>c(5,r=e)));let{sensor:b}=t,{value:u=null}=t;let O,d;return e.$$set=e=>{"sensor"in e&&c(1,b=e.sensor),"value"in e&&c(0,u=e.value)},e.$$.update=()=>{if(16&e.$$.dirty&&c(2,O=s?Object(o.a)("%x"):Object(o.a)("%B %-d, %Y")),34&e.$$.dirty&&null!==r){const e=r.get(b.key);c(3,d=e?e.map(a.g):[])}},c(3,d=[]),[u,b,O,d,s,r,function(t){Object(n.j)(e,t)},function(t){Object(n.j)(e,t)},function(e){u=e,c(0,u)},()=>c(0,u=l.a.offset(u,-1)),()=>c(0,u=l.a.offset(u,1)),()=>c(0,u=d[1])]}class j extends n.b{constructor(e){super(),Object(n.E)(this,e,d,O,n.P,{sensor:1,value:0})}}var p=j;c(344);function h(e,t,c){const n=e.slice();return n[13]=t[c],n}function g(e,t,c){const n=e.slice();return n[16]=t[c],n}function m(e,t,c){const n=e.slice();return n[19]=t[c],n}function f(e){let t,c,i,a,o,s=e[19].name+"";return{c(){t=Object(n.u)("option"),c=Object(n.Z)(s),i=Object(n.V)(),Object(n.g)(t,"title",a="function"==typeof e[19].tooltipText?e[19].tooltipText():e[19].tooltipText),t.__value=o=e[19].key,t.value=t.__value},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,i)},p(e,i){16&i&&s!==(s=e[19].name+"")&&Object(n.S)(c,s),16&i&&a!==(a="function"==typeof e[19].tooltipText?e[19].tooltipText():e[19].tooltipText)&&Object(n.g)(t,"title",a),16&i&&o!==(o=e[19].key)&&(t.__value=o,t.value=t.__value)},d(e){e&&Object(n.t)(t)}}}function v(e){let t,c,i=e[16].sensors,a=[];for(let t=0;t<i.length;t+=1)a[t]=f(m(e,i,t));return{c(){t=Object(n.u)("optgroup");for(let e=0;e<a.length;e+=1)a[e].c();Object(n.g)(t,"label",c=e[16].label)},m(e,c){Object(n.F)(e,t,c);for(let e=0;e<a.length;e+=1)a[e].m(t,null)},p(e,o){if(16&o){let c;for(i=e[16].sensors,c=0;c<i.length;c+=1){const n=m(e,i,c);a[c]?a[c].p(n,o):(a[c]=f(n),a[c].c(),a[c].m(t,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=i.length}16&o&&c!==(c=e[16].label)&&Object(n.g)(t,"label",c)},d(e){e&&Object(n.t)(t),Object(n.s)(a,e)}}}function y(e){let t,c,i,a,o,s=e[13].labelPlural+"";return{c(){t=Object(n.u)("option"),c=Object(n.Z)(s),i=Object(n.V)(),t.__value=a=e[13].id,t.value=t.__value,t.disabled=o=!e[7].levels.includes(e[13].id)},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,i)},p(e,i){1&i&&s!==(s=e[13].labelPlural+"")&&Object(n.S)(c,s),1&i&&a!==(a=e[13].id)&&(t.__value=a,t.value=t.__value),129&i&&o!==(o=!e[7].levels.includes(e[13].id))&&(t.disabled=o)},d(e){e&&Object(n.t)(t)}}}function _(e){let t,c,i,a,o,s;function l(t){e[12].call(null,t)}let r={sensor:e[7]};return void 0!==e[3]&&(r.value=e[3]),a=new p({props:r}),n.i.push((()=>Object(n.h)(a,"value",l))),{c(){t=Object(n.u)("div"),c=Object(n.u)("span"),c.textContent="on",i=Object(n.V)(),Object(n.n)(a.$$.fragment),Object(n.g)(c,"class","uk-form-label svelte-vpx6lo"),Object(n.g)(t,"class","uk-width-1-1 uk-width-1-3@m block svelte-vpx6lo")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.I)(a,t,null),s=!0},p(e,t){const c={};128&t&&(c.sensor=e[7]),!o&&8&t&&(o=!0,c.value=e[3],Object(n.c)((()=>o=!1))),a.$set(c)},i(e){s||(Object(n.cb)(a.$$.fragment,e),s=!0)},o(e){Object(n.db)(a.$$.fragment,e),s=!1},d(e){e&&Object(n.t)(t),Object(n.r)(a)}}}function $(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,p,m,f,$,k,w,x=e[4],S=[];for(let t=0;t<x.length;t+=1)S[t]=v(g(e,x,t));let V=e[0],P=[];for(let t=0;t<V.length;t+=1)P[t]=y(h(e,V,t));let L=e[2]&&_(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("span"),i.textContent="Displaying",a=Object(n.V)(),o=Object(n.u)("div"),s=Object(n.u)("select");for(let e=0;e<S.length;e+=1)S[e].c();r=Object(n.V)(),b=Object(n.u)("div"),u=Object(n.u)("span"),u.textContent="for",O=Object(n.V)(),d=Object(n.u)("div"),j=Object(n.u)("select");for(let e=0;e<P.length;e+=1)P[e].c();m=Object(n.V)(),L&&L.c(),Object(n.g)(i,"class","uk-form-label svelte-vpx6lo"),Object(n.g)(s,"id","option-indicator"),Object(n.g)(s,"aria-label","indicator options"),Object(n.g)(s,"class","uk-select"),void 0===e[5]&&Object(n.d)((()=>e[10].call(s))),Object(n.g)(o,"class","uk-form-controls svelte-vpx6lo"),Object(n.g)(c,"class",l="uk-width-1-1 uk-width-1-"+(e[2]?"3":"2")+"@m block svelte-vpx6lo"),Object(n.g)(u,"class","uk-form-label svelte-vpx6lo"),Object(n.g)(j,"id","option-geo-level"),Object(n.g)(j,"aria-label","geographic level"),Object(n.g)(j,"class","uk-select"),void 0===e[6]&&Object(n.d)((()=>e[11].call(j))),Object(n.g)(d,"class","uk-form-controls svelte-vpx6lo"),Object(n.g)(b,"class",p="uk-width-1-1 uk-width-1-"+(e[2]?"3":"2")+"@m block svelte-vpx6lo"),Object(n.g)(t,"class",f="container-bg container-style uk-grid-small "+e[1]+" svelte-vpx6lo"),Object(n.g)(t,"data-uk-grid","")},m(l,p){Object(n.F)(l,t,p),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,a),Object(n.e)(c,o),Object(n.e)(o,s);for(let e=0;e<S.length;e+=1)S[e].m(s,null);Object(n.Q)(s,e[5]),Object(n.e)(t,r),Object(n.e)(t,b),Object(n.e)(b,u),Object(n.e)(b,O),Object(n.e)(b,d),Object(n.e)(d,j);for(let e=0;e<P.length;e+=1)P[e].m(j,null);Object(n.Q)(j,e[6]),Object(n.e)(t,m),L&&L.m(t,null),$=!0,k||(w=[Object(n.H)(s,"change",e[10]),Object(n.H)(j,"change",e[11])],k=!0)},p(e,[i]){if(16&i){let t;for(x=e[4],t=0;t<x.length;t+=1){const c=g(e,x,t);S[t]?S[t].p(c,i):(S[t]=v(c),S[t].c(),S[t].m(s,null))}for(;t<S.length;t+=1)S[t].d(1);S.length=x.length}if(48&i&&Object(n.Q)(s,e[5]),(!$||4&i&&l!==(l="uk-width-1-1 uk-width-1-"+(e[2]?"3":"2")+"@m block svelte-vpx6lo"))&&Object(n.g)(c,"class",l),129&i){let t;for(V=e[0],t=0;t<V.length;t+=1){const c=h(e,V,t);P[t]?P[t].p(c,i):(P[t]=y(c),P[t].c(),P[t].m(j,null))}for(;t<P.length;t+=1)P[t].d(1);P.length=V.length}65&i&&Object(n.Q)(j,e[6]),(!$||4&i&&p!==(p="uk-width-1-1 uk-width-1-"+(e[2]?"3":"2")+"@m block svelte-vpx6lo"))&&Object(n.g)(b,"class",p),e[2]?L?(L.p(e,i),4&i&&Object(n.cb)(L,1)):(L=_(e),L.c(),Object(n.cb)(L,1),L.m(t,null)):L&&(Object(n.B)(),Object(n.db)(L,1,1,(()=>{L=null})),Object(n.k)()),(!$||2&i&&f!==(f="container-bg container-style uk-grid-small "+e[1]+" svelte-vpx6lo"))&&Object(n.g)(t,"class",f)},i(e){$||(Object(n.cb)(L),$=!0)},o(e){Object(n.db)(L),$=!1},d(e){e&&Object(n.t)(t),Object(n.s)(S,e),Object(n.s)(P,e),L&&L.d(),k=!1,Object(n.O)(w)}}}function k(e,t,c){let o,s,l,r;Object(n.l)(e,i.h,(e=>c(8,o=e))),Object(n.l)(e,i.p,(e=>c(5,s=e))),Object(n.l)(e,i.k,(e=>c(6,l=e))),Object(n.l)(e,i.q,(e=>c(7,r=e)));let b,u,O,{levels:d=i.w}=t,{className:j=""}=t,{showDate:p=!0}=t;return e.$$set=e=>{"levels"in e&&c(0,d=e.levels),"className"in e&&c(1,j=e.className),"showDate"in e&&c(2,p=e.showDate)},e.$$.update=()=>{256&e.$$.dirty&&c(3,b=Object(a.g)(o)),8&e.$$.dirty&&void 0!==b&&i.h.set(Object(a.e)(b)),1&e.$$.dirty&&c(9,u=new Set(d.map((e=>e.id)))),512&e.$$.dirty&&c(4,O=i.t.map((e=>({label:e.label,sensors:e.sensors.filter((e=>e.levels.some((e=>u.has(e)))))}))).filter((e=>e.sensors.length>0)))},[d,j,p,b,O,s,l,r,o,u,function(){s=Object(n.R)(this),i.p.set(s),c(4,O),c(9,u),c(0,d)},function(){l=Object(n.R)(this),i.k.set(l),c(0,d)},function(e){b=e,c(3,b),c(8,o)}]}class w extends n.b{constructor(e){super(),Object(n.E)(this,e,k,$,n.P,{levels:0,className:1,showDate:2})}}t.a=w},477:function(e,t,c){"use strict";var n=c(1),i=c(6);c(353);function a(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function o(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?a(Object(c),!0).forEach((function(t){s(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function s(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function l(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,p,h,g,m,f,v,y,_;return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("button"),a=Object(n.Z)("New"),s=Object(n.V)(),l=Object(n.u)("button"),r=Object(n.Z)("Cumulative"),u=Object(n.V)(),O=Object(n.u)("div"),d=Object(n.u)("button"),j=Object(n.Z)("Ratios (per 100,000)"),h=Object(n.V)(),g=Object(n.u)("button"),m=Object(n.Z)("Counts"),Object(n.g)(i,"type","button"),Object(n.g)(i,"aria-pressed",o=String(!e[3].cumulative)),Object(n.g)(i,"class","uk-button uk-button-default uk-button-small svelte-1iknxf6"),Object(n.bb)(i,"uk-active",!e[3].cumulative),Object(n.g)(l,"type","button"),Object(n.g)(l,"aria-pressed",b=e[3].cumulative),Object(n.g)(l,"class","uk-button uk-button-default uk-button-small svelte-1iknxf6"),Object(n.bb)(l,"uk-active",e[3].cumulative),Object(n.g)(c,"aria-label","display cumulative or new incidents"),Object(n.g)(c,"class","uk-button-group"),Object(n.g)(d,"type","button"),Object(n.g)(d,"aria-pressed",p=String(!e[3].incidence)),Object(n.g)(d,"class","uk-button uk-button-default uk-button-small svelte-1iknxf6"),Object(n.bb)(d,"uk-active",!e[3].incidence),Object(n.g)(g,"type","button"),Object(n.g)(g,"aria-pressed",f=String(e[3].incidence)),Object(n.g)(g,"class","uk-button uk-button-default uk-button-small svelte-1iknxf6"),Object(n.bb)(g,"uk-active",e[3].incidence),Object(n.g)(O,"aria-label","display counts or ratios per 100,000 people"),Object(n.g)(O,"class","uk-button-group"),Object(n.g)(t,"class",v="root "+e[2]+" svelte-1iknxf6"),Object(n.bb)(t,"center",e[0])},m(o,b){Object(n.F)(o,t,b),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,a),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.e)(l,r),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,d),Object(n.e)(d,j),Object(n.e)(O,h),Object(n.e)(O,g),Object(n.e)(g,m),y||(_=[Object(n.H)(i,"click",e[4]),Object(n.H)(l,"click",e[5]),Object(n.H)(d,"click",e[6]),Object(n.H)(g,"click",e[7])],y=!0)},p(e,c){8&c&&o!==(o=String(!e[3].cumulative))&&Object(n.g)(i,"aria-pressed",o),8&c&&Object(n.bb)(i,"uk-active",!e[3].cumulative),8&c&&b!==(b=e[3].cumulative)&&Object(n.g)(l,"aria-pressed",b),8&c&&Object(n.bb)(l,"uk-active",e[3].cumulative),8&c&&p!==(p=String(!e[3].incidence))&&Object(n.g)(d,"aria-pressed",p),8&c&&Object(n.bb)(d,"uk-active",!e[3].incidence),8&c&&f!==(f=String(e[3].incidence))&&Object(n.g)(g,"aria-pressed",f),8&c&&Object(n.bb)(g,"uk-active",e[3].incidence),4&c&&v!==(v="root "+e[2]+" svelte-1iknxf6")&&Object(n.g)(t,"class",v),5&c&&Object(n.bb)(t,"center",e[0])},d(e){e&&Object(n.t)(t),y=!1,Object(n.O)(_)}}}function r(e){let t,c=e[1].isCasesOrDeath&&l(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,[n]){e[1].isCasesOrDeath?c?c.p(e,n):(c=l(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.J,o:n.J,d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function b(e,t,c){let a,s;Object(n.l)(e,i.q,(e=>c(8,a=e))),Object(n.l)(e,i.C,(e=>c(3,s=e)));let{center:l=!1}=t,{sensor:r=a}=t,{className:b=""}=t;return e.$$set=e=>{"center"in e&&c(0,l=e.center),"sensor"in e&&c(1,r=e.sensor),"className"in e&&c(2,b=e.className)},[l,r,b,s,()=>{s.cumulative&&i.C.set(o(o({},s),{},{cumulative:!1}))},()=>{s.cumulative||i.C.set(o(o({},s),{},{cumulative:!0}))},()=>{s.incidence&&i.C.set(o(o({},s),{},{incidence:!1}))},()=>{s.incidence||i.C.set(o(o({},s),{},{incidence:!0}))}]}class u extends n.b{constructor(e){super(),Object(n.E)(this,e,b,r,n.P,{center:0,sensor:1,className:2})}}t.a=u},479:function(e){e.exports=JSON.parse('{"version":8,"name":"Albers USA","metadata":{"mapbox:autocomposite":true,"mapbox:type":"template","mapbox:sdk-support":{"js":"1.6.0","android":"8.6.0","ios":"5.6.0"},"mapbox:groups":{},"mapbox:uiParadigm":"layers"},"center":[-1.9392753230472408,-1.4351091963094262],"zoom":4.035119632783768,"bearing":0,"pitch":0,"glyphs":"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf","sources":{},"layers":[]}')},480:function(e,t,c){"use strict";var n=c(1),i=c(86),a=c(6),o=c(468),s=c(4);c(352);function l(e){let t,c,i;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","map-wrapper svelte-54x2e1")},m(a,o){Object(n.F)(a,t,o),e[17](t),c||(i=Object(n.H)(window,"resize",e[1]),c=!0)},p:n.J,i:n.J,o:n.J,d(a){a&&Object(n.t)(t),e[17](null),c=!1,i()}}}function r(e,t,c){let l;Object(n.l)(e,a.F,(e=>c(16,l=e)));let{wrapperClass:r}=t,b=null;const u=Object(i.a)(),O=new r(((e,t)=>u(e,t))),d=O.zoom;let{data:j=Promise.resolve([])}=t,{sensor:p=""}=t,{level:h="state"}=t,{encoding:g="color"}=t,{signalOptions:m={}}=t,{animationDuration:f=0}=t,{title:v=""}=t,{selections:y=[]}=t,{focusOn:_=null}=t,$=!1;return Object(i.c)((()=>{c(14,O.animationDuration=f,O),O.initMap(b,v).then((()=>{c(15,$=!0)}))})),Object(i.b)((()=>{O.destroy()})),e.$$set=e=>{"wrapperClass"in e&&c(2,r=e.wrapperClass),"data"in e&&c(5,j=e.data),"sensor"in e&&c(6,p=e.sensor),"level"in e&&c(7,h=e.level),"encoding"in e&&c(8,g=e.encoding),"signalOptions"in e&&c(9,m=e.signalOptions),"animationDuration"in e&&c(10,f=e.animationDuration),"title"in e&&c(11,v=e.title),"selections"in e&&c(12,y=e.selections),"focusOn"in e&&c(13,_=e.focusOn)},e.$$.update=()=>{17120&e.$$.dirty&&O.updateSources(h,j,Object(s.l)(s.o.get(p),m)),99264&e.$$.dirty&&l&&function(e,t,c,n,i){const a=s.o.get(c),l=a.getType(i),r=Object(o.b)(n,a,e,i),{stops:b,scale:d}=Object(o.a)(r,a,l),j="county"===e,p=O.updateOptions(t,e,c,l,r,b,j&&b,d);u("updatedEncoding",{range:r,custom:p,scale:d,stops:b})}(h,g,p,l,m),53248&e.$$.dirty&&O.selectMulti(y),57344&e.$$.dirty&&O.focusOn(_),18432&e.$$.dirty&&O.setTitle(v)},[b,function(){O.zoom.resized()},r,d,function(){O.selectRandom()},j,p,h,g,m,f,v,y,_,O,$,l,function(e){n.i[e?"unshift":"push"]((()=>{b=e,c(0,b)}))}]}class b extends n.b{constructor(e){super(),Object(n.E)(this,e,r,l,n.P,{wrapperClass:2,zoom:3,selectRandom:4,data:5,sensor:6,level:7,encoding:8,signalOptions:9,animationDuration:10,title:11,selections:12,focusOn:13})}get zoom(){return this.$$.ctx[3]}get selectRandom(){return this.$$.ctx[4]}}t.a=b},482:function(e,t,c){"use strict";c.d(t,"a",(function(){return ce}));var n=c(87),i=c(4),a=c(59),o=c(340);c(348);const s=-100;function l(e){return["case",["==",["to-number",["feature-state","value"],s],s],a.d,["==",["to-number",["feature-state","value"],s],0],a.e,["interpolate",["linear"],["to-number",["feature-state","value"],0],...e.flat()]]}function r(e){return"".concat(e,"-border")}function b(e){return"".concat(e,"-centers")}const u="city-point";function O(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function d(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?O(Object(c),!0).forEach((function(t){j(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):O(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function j(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function p(e){return"".concat(e,"-fill")}function h(e){return"".concat(e,"-hover")}function g(e){return"".concat(e,"-bubble")}function m(e){return"".concat(e,"-spike")}const f="state-stroke",v="state-names",y={pit:"city-point-unclustered-pit",1:"city-point-unclustered-1",2:"city-point-unclustered-2",3:"city-point-unclustered-3",4:"city-point-unclustered-4",5:"city-point-unclustered-5"};var _=c(1),$=c(465),k=c(6),w=c(464);c(349);function x(e){let t,c,n,i,a,o,s,l,r,b,u,O=e[1].displayName+"",d=Object($.f)(e[1])+"";function j(e,t){return e[4].isCasesOrDeath?L:P}let p=j(e),h=p(e);return{c(){t=Object(_.u)("h5"),c=Object(_.Z)(O),n=Object(_.V)(),i=Object(_.u)("table"),a=Object(_.u)("tbody"),o=Object(_.u)("tr"),s=Object(_.u)("th"),s.textContent="Population",l=Object(_.V)(),r=Object(_.u)("td"),b=Object(_.Z)(d),u=Object(_.V)(),h.c(),Object(_.g)(t,"class","svelte-1u8gn73"),Object(_.g)(s,"class","svelte-1u8gn73"),Object(_.g)(r,"class","right svelte-1u8gn73"),Object(_.g)(i,"class","svelte-1u8gn73")},m(e,O){Object(_.F)(e,t,O),Object(_.e)(t,c),Object(_.F)(e,n,O),Object(_.F)(e,i,O),Object(_.e)(i,a),Object(_.e)(a,o),Object(_.e)(o,s),Object(_.e)(o,l),Object(_.e)(o,r),Object(_.e)(r,b),Object(_.e)(a,u),h.m(a,null)},p(e,t){2&t&&O!==(O=e[1].displayName+"")&&Object(_.S)(c,O),2&t&&d!==(d=Object($.f)(e[1])+"")&&Object(_.S)(b,d),p===(p=j(e))&&h?h.p(e,t):(h.d(1),h=p(e),h&&(h.c(),h.m(a,null)))},d(e){e&&Object(_.t)(t),e&&Object(_.t)(n),e&&Object(_.t)(i),h.d()}}}function S(e){let t,c,n,i=e[1].displayName+"";return{c(){t=Object(_.u)("h5"),c=Object(_.Z)("Estimate unavailable for rest of "),n=Object(_.Z)(i),Object(_.g)(t,"class","svelte-1u8gn73")},m(e,i){Object(_.F)(e,t,i),Object(_.e)(t,c),Object(_.e)(t,n)},p(e,t){2&t&&i!==(i=e[1].displayName+"")&&Object(_.S)(n,i)},d(e){e&&Object(_.t)(t)}}}function V(e){let t;return{c(){t=Object(_.u)("h5"),t.textContent="Estimate unavailable",Object(_.g)(t,"class","svelte-1u8gn73")},m(e,c){Object(_.F)(e,t,c)},p:_.J,d(e){e&&Object(_.t)(t)}}}function P(e){let t,c,n,i,a,o,s,l=e[4].yAxis+"",r=e[4].formatValue(e[2])+"";return{c(){t=Object(_.u)("tr"),c=Object(_.u)("th"),n=Object(_.Z)(l),i=Object(_.V)(),a=Object(_.u)("td"),o=Object(_.Z)(r),Object(_.g)(c,"class","svelte-1u8gn73"),Object(_.g)(a,"class","right svelte-1u8gn73"),Object(_.g)(a,"style",s=e[6](e[2]))},m(e,s){Object(_.F)(e,t,s),Object(_.e)(t,c),Object(_.e)(c,n),Object(_.e)(t,i),Object(_.e)(t,a),Object(_.e)(a,o)},p(e,t){16&t&&l!==(l=e[4].yAxis+"")&&Object(_.S)(n,l),20&t&&r!==(r=e[4].formatValue(e[2])+"")&&Object(_.S)(o,r),4&t&&s!==(s=e[6](e[2]))&&Object(_.g)(a,"style",s)},d(e){e&&Object(_.t)(t)}}}function L(e){let t,c,n,i,a,o,s,l,r,b,u,O,d,j,p,h,g,m,f,v,y,k,w,x,S,V,P,L,C,z,M,D,F,R,E,A,Z,T,N,I,B,H,U,q=e[4].yAxis+"",J=Object($.c)(e[5])+"",Y=e[4].formatValue(e[1].count)+"",G=e[4].formatValue(e[1].countRatio)+"",W=e[4].formatValue(e[1].avg)+"",Q=e[4].formatValue(e[1].avgRatio)+"",X=Object($.c)(e[5])+"",K=e[4].formatValue(e[1].countCumulative)+"",ee=e[4].formatValue(e[1].countRatioCumulative)+"";return{c(){t=Object(_.u)("tr"),c=Object(_.u)("th"),n=Object(_.Z)(q),i=Object(_.V)(),a=Object(_.u)("th"),a.textContent="Count",o=Object(_.V)(),s=Object(_.u)("th"),s.textContent="Ratios (per 100,000)",l=Object(_.V)(),r=Object(_.u)("tr"),b=Object(_.u)("th"),u=Object(_.Z)(J),O=Object(_.V)(),d=Object(_.u)("td"),j=Object(_.Z)(Y),h=Object(_.V)(),g=Object(_.u)("td"),m=Object(_.Z)(G),v=Object(_.V)(),y=Object(_.u)("tr"),k=Object(_.u)("th"),k.textContent="7-day avg",w=Object(_.V)(),x=Object(_.u)("td"),S=Object(_.Z)(W),P=Object(_.V)(),L=Object(_.u)("td"),C=Object(_.Z)(Q),M=Object(_.V)(),D=Object(_.u)("tr"),F=Object(_.u)("th"),R=Object(_.Z)("Cumulative "),E=Object(_.Z)(X),A=Object(_.V)(),Z=Object(_.u)("td"),T=Object(_.Z)(K),I=Object(_.V)(),B=Object(_.u)("td"),H=Object(_.Z)(ee),Object(_.g)(c,"class","svelte-1u8gn73"),Object(_.g)(a,"class","area svelte-1u8gn73"),Object(_.g)(s,"class","area svelte-1u8gn73"),Object(_.g)(b,"class","svelte-1u8gn73"),Object(_.g)(d,"class","right svelte-1u8gn73"),Object(_.g)(d,"style",p=!e[3].cumulative&&e[3].incidence?e[6](e[1].count):""),Object(_.g)(g,"class","right svelte-1u8gn73"),Object(_.g)(g,"style",f=e[3].cumulative||e[3].incidence?"":e[6](e[1].countRatio)),Object(_.g)(k,"class","svelte-1u8gn73"),Object(_.g)(x,"class","right svelte-1u8gn73"),Object(_.g)(x,"style",V=!e[3].cumulative&&e[3].incidence?e[6](e[1].avg):""),Object(_.g)(L,"class","right svelte-1u8gn73"),Object(_.g)(L,"style",z=e[3].cumulative||e[3].incidence?"":e[6](e[1].avgRatio)),Object(_.g)(F,"class","svelte-1u8gn73"),Object(_.g)(Z,"class","right svelte-1u8gn73"),Object(_.g)(Z,"style",N=e[3].cumulative&&e[3].incidence?e[6](e[1].countCumulative):""),Object(_.g)(B,"class","right svelte-1u8gn73"),Object(_.g)(B,"style",U=e[3].cumulative&&!e[3].incidence?e[6](e[1].countRatioCumulative):"")},m(e,p){Object(_.F)(e,t,p),Object(_.e)(t,c),Object(_.e)(c,n),Object(_.e)(t,i),Object(_.e)(t,a),Object(_.e)(t,o),Object(_.e)(t,s),Object(_.F)(e,l,p),Object(_.F)(e,r,p),Object(_.e)(r,b),Object(_.e)(b,u),Object(_.e)(r,O),Object(_.e)(r,d),Object(_.e)(d,j),Object(_.e)(r,h),Object(_.e)(r,g),Object(_.e)(g,m),Object(_.F)(e,v,p),Object(_.F)(e,y,p),Object(_.e)(y,k),Object(_.e)(y,w),Object(_.e)(y,x),Object(_.e)(x,S),Object(_.e)(y,P),Object(_.e)(y,L),Object(_.e)(L,C),Object(_.F)(e,M,p),Object(_.F)(e,D,p),Object(_.e)(D,F),Object(_.e)(F,R),Object(_.e)(F,E),Object(_.e)(D,A),Object(_.e)(D,Z),Object(_.e)(Z,T),Object(_.e)(D,I),Object(_.e)(D,B),Object(_.e)(B,H)},p(e,t){16&t&&q!==(q=e[4].yAxis+"")&&Object(_.S)(n,q),32&t&&J!==(J=Object($.c)(e[5])+"")&&Object(_.S)(u,J),18&t&&Y!==(Y=e[4].formatValue(e[1].count)+"")&&Object(_.S)(j,Y),10&t&&p!==(p=!e[3].cumulative&&e[3].incidence?e[6](e[1].count):"")&&Object(_.g)(d,"style",p),18&t&&G!==(G=e[4].formatValue(e[1].countRatio)+"")&&Object(_.S)(m,G),10&t&&f!==(f=e[3].cumulative||e[3].incidence?"":e[6](e[1].countRatio))&&Object(_.g)(g,"style",f),18&t&&W!==(W=e[4].formatValue(e[1].avg)+"")&&Object(_.S)(S,W),10&t&&V!==(V=!e[3].cumulative&&e[3].incidence?e[6](e[1].avg):"")&&Object(_.g)(x,"style",V),18&t&&Q!==(Q=e[4].formatValue(e[1].avgRatio)+"")&&Object(_.S)(C,Q),10&t&&z!==(z=e[3].cumulative||e[3].incidence?"":e[6](e[1].avgRatio))&&Object(_.g)(L,"style",z),32&t&&X!==(X=Object($.c)(e[5])+"")&&Object(_.S)(E,X),18&t&&K!==(K=e[4].formatValue(e[1].countCumulative)+"")&&Object(_.S)(T,K),10&t&&N!==(N=e[3].cumulative&&e[3].incidence?e[6](e[1].countCumulative):"")&&Object(_.g)(Z,"style",N),18&t&&ee!==(ee=e[4].formatValue(e[1].countRatioCumulative)+"")&&Object(_.S)(H,ee),10&t&&U!==(U=e[3].cumulative&&!e[3].incidence?e[6](e[1].countRatioCumulative):"")&&Object(_.g)(B,"style",U)},d(e){e&&Object(_.t)(t),e&&Object(_.t)(l),e&&Object(_.t)(r),e&&Object(_.t)(v),e&&Object(_.t)(y),e&&Object(_.t)(M),e&&Object(_.t)(D)}}}function C(e){let t;function c(e,t){return e[1]?e[0]?S:x:V}let n=c(e),i=n(e);return{c(){t=Object(_.u)("div"),i.c(),Object(_.g)(t,"aria-label","tooltip"),Object(_.g)(t,"class","tooltip svelte-1u8gn73")},m(e,c){Object(_.F)(e,t,c),i.m(t,null)},p(e,[a]){n===(n=c(e))&&i?i.p(e,a):(i.d(1),i=n(e),i&&(i.c(),i.m(t,null)))},i:_.J,o:_.J,d(e){e&&Object(_.t)(t),i.d()}}}function z(e,t,c){let n,i,o,s;Object(_.l)(e,k.C,(e=>c(7,n=e))),Object(_.l)(e,k.e,(e=>c(8,i=e))),Object(_.l)(e,k.q,(e=>c(4,o=e))),Object(_.l)(e,k.i,(e=>c(5,s=e)));let l,r,{invalid:b=!1}=t,{properties:u}=t;return e.$$set=e=>{"invalid"in e&&c(0,b=e.invalid),"properties"in e&&c(1,u=e.properties)},e.$$.update=()=>{2&e.$$.dirty&&c(2,l=u?u.value:0),128&e.$$.dirty&&c(3,r=n)},[b,u,l,r,o,s,function(e){const t=0===e?a.e:i(e);return"background-color: ".concat(t,"; color: ").concat(Object(w.b)(t))},n]}class M extends _.b{constructor(e){super(),Object(_.E)(this,e,z,C,_.P,{invalid:0,properties:1})}}var D=M;function F(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function R(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?F(Object(c),!0).forEach((function(t){E(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):F(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function E(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class A{constructor(e,t){this.adapter=t,this.map=e,this.data=new Map,this.popup=new o.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup"}),this.topPopup=new o.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup",anchor:"top"}),this.tooltipState=null,this.selection=[],this.hovered={id:null,level:null},this.tooltipElement=document.createElement("div"),this.tooltip=new D({target:this.tooltipElement,props:{properties:null,invalid:!0}}),this.initListeners()}setData(e){this.data=e,this.tooltipState=null}initListeners(){if(this.adapter.levels.forEach((e=>{const t=p(e);this.map.on("mouseleave",t,this._onLevelMouseLeave.bind(this)),this.map.on("mousemove",t,this._onLevelMouseMove.bind(this)),this.map.on("click",t,this._onLevelMouseClick.bind(this))})),this.adapter.hasMegaCountyLevel){const e=p(i.j.id);this.map.on("mouseleave",e,this._onMegaMouseLeave.bind(this)),this.map.on("mousemove",e,this._onMegaMouseMove.bind(this)),this.map.on("click",e,this._onMegaMouseClick.bind(this))}this.map.on("mouseenter",f,this._onMapMouseEnter.bind(this)),this.map.on("mouseleave",f,this._onMapMouseLeave.bind(this)),this.map.on("mousemove",f,this._onMapMouseMove.bind(this))}get activePopup(){return"spike"===this.adapter.encoding.id?this.topPopup:this.popup}_onMapMouseEnter(){this.map.getCanvas().style.cursor="pointer"}_onLevelMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMegaMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMapMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove()}_onLevelMouseMove(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMegaMouseMove(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMapMouseMove(e){e.defaultPrevented||this._renderTooltip(e,!0)}_onLevelMouseClick(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_onMegaMouseClick(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_renderTooltip(e,t=!1){this.map.getCanvas().style.cursor="pointer";const c=e.features[0],a=this.activePopup;if(!this.tooltipState||this.tooltipState.id!==c.properties.id||this.tooltipState.invalid!==t){this.tooltipState={id:c.properties.id,invalid:t};let e={};c.properties.level===i.j.id&&this.adapter.hasMegaCountyLevel&&(e.population=Object(n.b)(c.properties,this.data)),this.tooltip.$set({properties:R(R(R({},c.properties),e),this.data.get(c.properties.id)||{}),invalid:t})}a.setLngLat(e.lngLat).setDOMContent(this.tooltipElement).addTo(this.map)}_updateState(e,t,c){this.map.setFeatureState({source:e,id:"string"==typeof t?Number.parseInt(t,10):t},c)}_updateHoverLayerVisibility(){const e=new Set(this.selection.map((e=>e.level)));null!=this.hovered.id&&e.add(this.hovered.level);const t=t=>{"none"!==this.map.getLayoutProperty(h(t),"visibility")!==e.has(t)&&this.map.setLayoutProperty(h(t),"visibility",e.has(t)?"visible":"none")};for(const e of this.adapter.levels)t(e);this.adapter.hasMegaCountyLevel&&t(i.j.id)}_updateHoverHighlight(e=null,t=null){this.hovered.id!=e&&(this.hovered.id&&this._updateState(r(this.hovered.level),this.hovered.id,{hover:!1}),e&&this._updateState(r(t),e,{hover:!0}),this.hovered.id=e,this.hovered.level=t,this._updateHoverLayerVisibility())}select(e){return this.selectMulti(e?[{info:e,color:a.c.selectedRegionOutline}]:[])[0]}selectMulti(e){const t=this.selection.slice();for(const e of this.selection)this._updateState(r(e.level),e.id,{select:!1});return this.selection=e.map((e=>{const t=Number(e.info.id);return this._updateState(r(e.info.level),t,{select:e.color}),{id:t,level:e.info.level,color:e.color}})),this._updateHoverLayerVisibility(),t}forceHover(e){this._updateHoverHighlight(e.id,e.properties.level)}isHovered(e){return!!e&&(e.id==this.hovered.id&&e.level===this.hovered.level)}}var Z=c(479),T=c(350),N=c.n(T);class I{constructor(e,t){this.map=null,this.onZoom=e,this.resetBounds=new o.LngLatBounds(t),this.resetBoundsOptions={padding:30,linear:!1},this.stateZoom=1,this.initialZoomView=!0}_triggerZoom(e){const t=this.map.getZoom(),c=this.stateZoom,n=Math.pow(2,.75*(t-c));this.onZoom(n,e)}setMap(e){this.map=e,this.stateZoom=this.map.getZoom(),this.map.setMinZoom(this.stateZoom-1),this.map.on("zoom",(()=>{this._triggerZoom()}))}ready(){this.stateZoom=this.map.getZoom(),this._triggerZoom()}getZoom(){return this.map?this.map.getZoom():0}getMaxZoom(){return this.map?this.map.getMaxZoom():100}getMinZoom(){return this.map?this.map.getMinZoom():-100}zoomIn(){this.map&&(this.initialZoomView=!1,this.map.zoomIn())}zoomOut(){this.map&&(this.initialZoomView=!1,this.map.zoomOut())}focusOn(e){if(!e||!this.map)return;this.initialZoomView=!1;const t=N()(e);this.map.fitBounds(t,{maxZoom:1.5*this.getZoom(),linear:!1,essential:!0})}resetZoom(){this.map&&(this.initialZoomView=!0,this.map.fitBounds(this.resetBounds,this.resetBoundsOptions),this.map.once("idle",(()=>{this.stateZoom=this.map.getZoom(),this.map.setMinZoom(this.stateZoom-1),this._triggerZoom(!0)})))}resized(){this.initialZoomView&&this.map&&requestAnimationFrame((()=>{this.map&&this.map.fitBounds(this.resetBounds,this.resetBoundsOptions)}))}showStateLabels(e){this.map&&this.map.getLayer(v)&&this.map.setLayoutProperty(v,"visibility",e?"visible":"none")}toggleStateLabels(){this.map&&this.map.getLayer(v)&&this.showStateLabels("visible"!==this.map.getLayoutProperty(v,"visibility"))}}var B=c(210);function H(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function U(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?H(Object(c),!0).forEach((function(t){q(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):H(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function q(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class J{constructor(){this.id="color",this.layers=[]}getVisibleLayers(e){return[p(e),"county"===e&&p(i.j.id)].filter(Boolean)}addLayers(){}encode(e,{level:t,stops:c,stopsMega:n}){e.setPaintProperty(p(t),"fill-color",l(c)),n&&e.setPaintProperty(p(i.j.id),"fill-color",l(n))}updateSources(){}}var Y=c(120),G=c(16);class W{constructor(e,t,c,n){this._sourceId=e,this._level=t,this._colorsDirty=!0,this.featureIds=[],this._valueLookup=new Map,this._valuePrimaryValue="value",this._valueToColor=()=>a.d,this._valueToSize=()=>0,this._vertexSource=c,this._fragmentSource=n,this._map=null,this.zoom=1}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}_createVertices(e){return[e.x,e.y]}onAdd(e,t){this._map=e,this._vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertexShader,this._vertexSource),t.compileShader(this._vertexShader),this._fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragmentShader,this._fragmentSource),t.compileShader(this._fragmentShader),this._program=t.createProgram(),t.attachShader(this._program,this._vertexShader),t.attachShader(this._program,this._fragmentShader),t.linkProgram(this._program),this._uPos=t.getUniformLocation(this._program,"u_matrix"),this._uOpacity=t.getUniformLocation(this._program,"u_opacity"),this._uPixelToClip=t.getUniformLocation(this._program,"u_pixelToClip"),this._uZoom=t.getUniformLocation(this._program,"u_zoom"),this._uDevicePixelRatio=t.getUniformLocation(this._program,"u_device_pixel_ratio"),this._aPos=t.getAttribLocation(this._program,"a_pos"),this._centerBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._centerBuffer);const c=e.getSource(this._sourceId)._data.features.map((e=>{const t=e.geometry.coordinates,c=t[0],n=t[1];if(null==n||Number.isNaN(n))return[];this.featureIds.push(e.properties.id);const i=o.MercatorCoordinate.fromLngLat({lat:n,lng:c});return this._createVertices(i)})).flat();t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),this._verticesPerFeatures=c.length/3/this.featureIds.length,this._aColorAndValue=t.getAttribLocation(this._program,"a_colorAndValue"),this._colorAndValueBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._colorAndValueBuffer),this._colorAndValueData=new Float32Array(4*this.featureIds.length*this._verticesPerFeatures),this._colorAndValueData.fill(0),t.bufferData(t.ARRAY_BUFFER,this._colorAndValueData,t.STATIC_DRAW)}onRemove(e,t){this._map=null,t.deleteBuffer(this._centerBuffer),t.deleteBuffer(this._colorAndValueBuffer),t.deleteShader(this._fragmentShader),t.deleteShader(this._vertexShader),t.deleteProgram(this._program)}_prepareRender(e,t){e.useProgram(this._program),e.uniformMatrix4fv(this._uPos,!1,t);const c=this._map.painter.transform;e.uniform1f(this._uZoom,this.zoom),e.uniform2f(this._uPixelToClip,c.pixelsToGLUnits[0],c.pixelsToGLUnits[1]),e.uniform1f(this._uDevicePixelRatio,window.devicePixelRatio),e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.enableVertexAttribArray(this._aColorAndValue),e.vertexAttribPointer(this._aColorAndValue,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._centerBuffer),e.enableVertexAttribArray(this._aPos),e.vertexAttribPointer(this._aPos,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}preRender(e){if(this._colorsDirty){this._colorsDirty=!1;for(let e=0;e<this.featureIds.length;e++){const t=this.featureIds[e],c=this._valueLookup.has(t)?this._valueLookup.get(t)[this._valuePrimaryValue]:null,n=this._verticesPerFeatures;if(null==c||Number.isNaN(c)){for(let t=0;t<n;t++){const c=4*e*n+4*t;this._colorAndValueData[c]=0,this._colorAndValueData[c+1]=0,this._colorAndValueData[c+2]=0,this._colorAndValueData[c+3]=0}continue}const i=Object(G.g)(this._valueToColor(c)),a=this._valueToSize(c);for(let t=0;t<n;t++){const c=4*e*n+4*t;this._colorAndValueData[c]=i.r,this._colorAndValueData[c+1]=i.g,this._colorAndValueData[c+2]=i.b,this._colorAndValueData[c+3]=a}}e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.bufferData(e.ARRAY_BUFFER,this._colorAndValueData,e.STATIC_DRAW)}}encode(e,t){this._colorsDirty=!0,this._valueToSize=e,this._valueToColor=t}updateSources(e,t){this._colorsDirty=!0,this._valueLookup=e,this._valuePrimaryValue=t}}class Q extends W{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform float u_zoom;\nuniform vec2 u_pixelToClip;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n\n  vec2 pos = vec2(a_pos.z < 0.0 ? -1.0 : 1.0, abs(a_pos.z) < 2.0 ? -1.0 : 1.0);\n  p.xy += pos * u_pixelToClip * (u_zoom * a_colorAndValue.a + 1.0) * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n\n  v_data = vec4(pos, a_colorAndValue.a * u_zoom, 1.0);\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n}","\nprecision mediump float;\nuniform float u_opacity;\nuniform float u_device_pixel_ratio;\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n\n  float extrude_length = length(v_data.xy);\n  float radius = v_data.z;\n  float stroke_width = v_data.w;\n\n  float blur = -(1.0 / u_device_pixel_ratio / (radius + stroke_width));\n  float opacity_t = smoothstep(0.0, blur, extrude_length - 1.0);\n\n  float color_t = smoothstep(\n      blur,\n      0.0,\n      extrude_length - radius / (radius + stroke_width)\n  );\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = opacity_t * mix(fill_color, stroke_color, color_t);\n}")}_createVertices(e){return[e.x,e.y,-2,e.x,e.y,-1,e.x,e.y,1,e.x,e.y,2]}onAdd(e,t){super.onAdd(e,t),this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);const c=new Uint16Array(6*this.featureIds.length);for(let e=0;e<this.featureIds.length;e++){const t=6*e,n=4*e;c[t]=n,c[t+1]=n+1,c[t+2]=n+2,c[t+3]=n+2,c[t+4]=n+3,c[t+5]=n}t.bufferData(t.ELEMENT_ARRAY_BUFFER,c,t.STATIC_DRAW)}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,a.a.fillOpacity),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.drawElements(e.TRIANGLES,6*this.featureIds.length,e.UNSIGNED_SHORT,0)}}class X{constructor(e,t){this.id="bubble",this.theme=e,this.layers=t.map((e=>g(e))),this.customLayers=new Map(t.map((e=>[e,new Q(b(e),e)])))}getVisibleLayers(e){return[p(e),g(e)]}onZoom(e){this.customLayers.forEach((t=>t.zoom=e))}getMaxZoom(e){return 50/this.theme.maxRadius[e]}addLayers(e,t){t.levels.forEach((t=>{e.addLayer(this.customLayers.get(t).asLayer(g(t)))}))}encode(e,{level:t,sensorType:c,valueMinMax:n,scale:i}){e.setPaintProperty(p(t),"fill-color",this.theme.countyFill);const a=this.theme.maxRadius[t],o=this.theme.radiusScale[c],s=Object(Y.c)(o).domain([0,n[1]]).range([0,a]).clamp(!0);return this.customLayers.get(t).encode(s,i),s}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}class K extends W{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform vec2 u_pixelToClip;\nuniform float u_zoom;\n\nuniform float u_size;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n  float height = (a_colorAndValue.a * u_zoom + 1.0);\n  float shift = a_pos.z * (u_size * u_zoom + 1.0);\n\n  p.y -= (1.0 - abs(a_pos.z)) * height * u_pixelToClip.y * p.w;\n  p.x += shift * u_pixelToClip.x * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n  float thickness = 1.0;\n  // encode the barycentric coordinate but such that the bottom line is not shown\n  v_data = vec4(-min(shift, 0.0), height, max(shift, 0.0), thickness);\n\n}","\n#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\nuniform float u_device_pixel_ratio;\nuniform float u_opacity;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\n// This is like\nfloat aastep (float threshold, float dist) {\n  float afwidth = fwidth(dist) * 0.5;\n  return smoothstep(threshold - afwidth, threshold + afwidth, dist);\n}\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n  vec3 barycentric = v_data.xyz;\n  float stroke_width = v_data.w;\n\n  // this will be our signed distance for the wireframe edge\n  float d = min(min(barycentric.x, barycentric.y), barycentric.z);\n  // compute the anti-aliased stroke edge\n  float edge = 1.0 - aastep(stroke_width, d);\n\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = mix(fill_color, stroke_color, edge);\n}")}_createVertices(e){return[e.x,e.y,-1,e.x,e.y,0,e.x,e.y,1]}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}onAdd(e,t){t.getExtension("OES_standard_derivatives"),super.onAdd(e,t),this._uSize=t.getUniformLocation(this._program,"u_size")}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,a.b.fillOpacity),e.uniform1f(this._uSize,a.b.size[this._level]),e.drawArrays(e.TRIANGLES,0,this.featureIds.length*this._verticesPerFeatures)}}class ee{constructor(e,t){this.id="spike",this.theme=e,this.layers=t.map((e=>m(e))),this.customLayers=new Map(t.map((e=>[e,new K(b(e),e)])))}getVisibleLayers(e){return[p(e),m(e)]}onZoom(e){this.customLayers.forEach((t=>t.zoom=e))}getMaxZoom(e){return 100/this.theme.maxHeight[e]}addLayers(e,t){t.levels.forEach((t=>{e.addLayer(this.customLayers.get(t).asLayer(m(t)))}))}encode(e,{level:t,sensorType:c,valueMinMax:n,scale:i}){e.setPaintProperty(p(t),"fill-color",this.theme.countyFill);const a=n[1],o=this.theme.maxHeight[t],s=this.theme.heightScale[c],l=Object(Y.c)(s).range([0,o]).domain([0,a]).clamp(!0);return this.customLayers.get(t).encode(l,i),l}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}const te=Object(n.d)();class ce extends class{constructor(e,t){this.dispatch=e,this.map=null,this.mapSetupReady=!1,this.mapSetupReadyPromiseResolver=()=>{},this.mapSetupReadyPromise=new Promise((e=>{this.mapSetupReadyPromiseResolver=e})),this.mapDataReady=!1,this.mapEncodingReady=!1,this.animationDuration=0,this.interactive=null,this.level=t.level,this.levels=t.levels,this.hasMegaCountyLevel=t.hasMegaCountyLevel,this.encodings=t.encodings,this.encoding=this.encodings[0];const c=Object(B.a)((e=>this.dispatch("zoom",e)),100);this.zoom=new I(((e,t)=>{const n="function"==typeof this.encoding.getMaxZoom?this.encoding.getMaxZoom(this.level):Number.POSITIVE_INFINITY;e=Math.min(n,e);for(const t of this.encodings)"function"==typeof t.onZoom&&t.onZoom(e);t&&this.map.triggerRepaint(),c(e)}),t.bounds)}initMap(e,t){this.map=new o.Map({attributionControl:!1,container:e,style:Z,bounds:this.zoom.resetBounds,fitBounds:this.zoom.resetBoundsOptions,doubleClickZoom:!1,dragRotate:!1,pitchWithRotate:!1,touchPitch:!1,touchZoomRotate:!0,renderWorldCopies:!1,antialias:!0,maxZoom:8,minZoom:1}),this.zoom.setMap(this.map),this.map.touchZoomRotate.disableRotation();let c=null;const n=new Promise((e=>{c=e}));return this.map.on("idle",(()=>{this.dispatch("idle")})),this.map.on("load",(()=>{this.addSprites(),this.addSources().then((()=>{this.addLayers(),this.interactive=new A(this.map,this)})).then((()=>{this._setupReady(),c(this)}))})),Object(w.c)(e,(()=>{this.map.resize()})),this.setTitle(t),n}_setupReady(){this.zoom.showStateLabels("state"===this.level),this.zoom.ready(),this.markReady("setup")}markReady(e){switch(e){case"data":if(this.mapDataReady)return;this.mapDataReady=!0,this.dispatch("readyData");break;case"setup":if(this.mapSetupReady)return;this.mapSetupReady=!0,this.mapSetupReadyPromiseResolver(),this.dispatch("readySetup");break;case"encoding":if(this.mapEncodingReady)return;this.mapEncodingReady=!0,this.dispatch("readyEncoding")}this.mapSetupReady&&this.mapEncodingReady&&this.mapDataReady&&(this.dispatch("ready"),this.map.getContainer().dataset.ready="ready")}addSprites(){const e=16,t=document.createElement("canvas");t.width=e,t.height=e;const c=t.getContext("2d");c.clearRect(0,0,e,e);const n=c.createLinearGradient(0,0,e,e);n.addColorStop(0,"white"),n.addColorStop(.25,a.d),n.addColorStop(.5,"white"),n.addColorStop(.75,a.d),n.addColorStop(1,"white"),c.fillStyle=n,c.fillRect(0,0,e,e);const i=c.getImageData(0,0,e,e);this.map.addImage("hatching",i,{sdf:!0})}addSources(){return Promise.resolve()}animationOptions(e){return this.animationDuration?{[e+"-transition"]:{duration:this.animationDuration,delay:0}}:{}}addLevelSource(e,t,c){this.map.addSource(r(e),{type:"geojson",data:t}),this.map.addSource(b(e),{type:"geojson",data:c})}addFillLevelLayer(e){this.map.addLayer({id:p(e),source:r(e),type:"fill",layout:{visibility:"none"},paint:U({"fill-outline-color":a.c.countyOutlineWhenFilled,"fill-color":a.c.countyFill,"fill-opacity":["case",["==",["to-number",["feature-state","value"],s],s],0,1]},this.animationOptions("fill-color"))})}addHoverLevelLayer(e){this.map.addLayer({id:h(e),source:r(e),type:"line",layout:{visibility:"none"},paint:{"line-color":["case",["to-boolean",["feature-state","select"]],["feature-state","select"],a.c.hoverRegionOutline],"line-width":["case",["any",["to-boolean",["feature-state","hover"]],["to-boolean",["feature-state","select"]]],4,0]}})}addLayers(){}destroy(){this.mapSetupReady=!1,this.map&&(Object(w.e)(this.map.getContainer()),this.map.remove(),this.zoom.map=null,this.map=null)}validateLevel(e){return this.levels.includes(e)?e:this.levels[0]}updateOptions(e,t,c,n,a,o,s,l){t=this.validateLevel(t);const r=this.level;if(this.level=t,this.encoding=this.encodings.find((t=>t.id===e)),this.hasMegaCountyLevel||(s=null),!this.map||!this.mapSetupReady)return;r!==t&&this.zoom.showStateLabels("state"===t);const b=this.encodings.flatMap((e=>e.layers));b.push(...this.levels.map((e=>p(e)))),this.hasMegaCountyLevel&&b.push(p(i.j.id));const u=new Set(this.encoding.getVisibleLayers(t));b.forEach((e=>{this.map.setLayoutProperty(e,"visibility",u.has(e)?"visible":"none")}));const O=this.encoding.encode(this.map,{level:t,sensorType:n,sensor:c,valueMinMax:a,stops:o,stopsMega:s,scale:l,baseZoom:this.zoom.stateZoom});return this.markReady("encoding"),O}updateSources(e,t,c="value"){e=this.validateLevel(e);const n=Math.random().toString(36);this._mapDataFlag=n,this.dispatch("loading",!0),Promise.all([t,this.mapSetupReadyPromise]).then((([t])=>{if(this._mapDataFlag!==n)return;this.map.once("idle",(()=>{this.dispatch("loading",!1)}));const a=new Map(t.map((e=>[e.geo_value.toUpperCase(),e])));this.interactive.setData(a),"county"===e&&this._updateSource(r(i.j.id),a,c),this._updateSource(r(e),a,c),this._updateSource(b(e),a,c);for(const t of this.encodings)t.updateSources(this.map,e,a,c);t.length>0&&this.markReady("data")}))}_updateSource(e,t,c="value"){console.assert(null!=this.map);const n=this.map.getSource(e);if(!n)return void console.error("invalid source");n._data.features.forEach((n=>{const i=n.properties.id,a=t.get(i);this.map.setFeatureState({source:e,id:Number.parseInt(n.id,10)},{value:a?a[c]:s})}))}selectMulti(e){if(this.map&&this.interactive){if(e.length<=1){const t=this.interactive.selection.slice();return this.select(e.length>0?e[0].info:null),t}return this.interactive.selectMulti(e)}}select(e){this.map&&this.interactive&&this.interactive.select(e)}focusOn(e){if(!e||!this.map)return;const t=this.map.getSource(r(e.level));if(!t)return;const c=t._data.features.find((t=>t.id===e.id));c&&this.zoom.focusOn(c)}isMissing(e){const t=this.map.getFeatureState({source:r(e.properties.level),id:"string"==typeof id?Number.parseInt(e.id,10):e.id});return null==t.value||t.value===s}selectRandom(){if(!this.map||!this.mapSetupReady)return;const e=this.map.getSource(r(this.level));if(!e)return;const t=i.f[this.level],c=e._data.features.find((e=>e.properties.id===t));if(c&&!this.isMissing(c))return void this.dispatch("select",{feature:c});const n=e._data.features.filter((e=>!this.isMissing(e)));if(0===n.length)return;const a=n[Math.floor(Math.random()*(n.length-1))];this.dispatch("select",{feature:a})}setTitle(e){if(!this.map)return;const t=this.map.getContainer().querySelector("canvas");t&&(t.setAttribute("role","figure"),t.setAttribute("aria-roledescription","visualization"),t.setAttribute("aria-label","US Map showing: ".concat(e)))}}{constructor(e){super(e,{bounds:n.a.states,encodings:[new J(i.k),new X(a.a,i.k),new ee(a.b,i.k)],level:"county",levels:i.k,hasMegaCountyLevel:!0})}addLevelSources(){const e=this.map;return te.then((t=>{e.addSource(r(i.j.id),{type:"geojson",data:t.mega}),this.levels.forEach((e=>{this.addLevelSource(e,t[e].border,t[e].center)}))}))}addSources(){return Promise.all([(e=this.map,te.then((t=>{e.addSource(u,{type:"geojson",data:t.cities})}))),this.addLevelSources()]);var e}addLayers(){const e=this.map;e.addLayer({id:f,source:r("state"),type:"fill",paint:{"fill-color":a.d,"fill-outline-color":a.c.stateOutline,"fill-pattern":"hatching"}}),this.addFillLevelLayer(i.j.id),this.levels.forEach((e=>{this.addFillLevelLayer(e)})),this.addHoverLevelLayer(i.j.id),this.levels.forEach((e=>{this.addHoverLevelLayer(e)})),this.encodings.forEach((t=>{t.addLayers(e,this)})),function(e){const t=(t,c,n={})=>{e.addLayer(d(d(d({id:t,source:u,type:"symbol"},c?{filter:c}:{}),n),{},{layout:{"text-field":["get","name"],"text-font":["Open Sans Regular"],"text-size":12},paint:{"text-halo-color":"#fff","text-halo-width":1.5}}))};t(y.pit,["==","name","Pittsburgh"],{maxzoom:8}),t(y.pit[1],[">","population",9e5],{maxzoom:4}),t(y.pit[2],[">","population",5e5],{maxzoom:6,minzoom:4}),t(y.pit[3],[">","population",1e5],{maxzoom:8,minzoom:6}),t(y.pit[4],void 0,{minzoom:8})}(e),function(e){e.addLayer({id:v,source:b("state"),type:"symbol",maxzoom:8,layout:{"text-field":["upcase",["get","name"]],"text-font":["Open Sans Bold"],"text-size":11},paint:{"text-opacity":.5,"text-halo-color":"#fff","text-halo-width":1}})}(e)}}},483:function(e,t,c){"use strict";var n=c(1),i=c(6),a=c(466);c(354);function o(e){let t,c,i=e[3].toLocaleDateString()+"";return{c(){t=Object(n.u)("span"),c=Object(n.Z)(i),Object(n.g)(t,"data-testid","currentdate")},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,t){8&t&&i!==(i=e[3].toLocaleDateString()+"")&&Object(n.S)(c,i)},d(e){e&&Object(n.t)(t)}}}function s(e){let t,c,i,s,l,r,b;l=new a.a({props:{sensor:e[2],className:"info"}});let u=e[0]&&o(e);return{c(){t=Object(n.u)("h2"),c=Object(n.u)("span"),i=Object(n.Z)(e[1]),s=Object(n.V)(),Object(n.n)(l.$$.fragment),r=Object(n.V)(),u&&u.c(),Object(n.g)(t,"class","banner svelte-11a77rv")},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,s),Object(n.I)(l,c,null),Object(n.e)(t,r),u&&u.m(t,null),b=!0},p(e,[c]){(!b||2&c)&&Object(n.S)(i,e[1]);const a={};4&c&&(a.sensor=e[2]),l.$set(a),e[0]?u?u.p(e,c):(u=o(e),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i(e){b||(Object(n.cb)(l.$$.fragment,e),b=!0)},o(e){Object(n.db)(l.$$.fragment,e),b=!1},d(e){e&&Object(n.t)(t),Object(n.r)(l),u&&u.d()}}}function l(e,t,c){let a,o,s;Object(n.l)(e,i.r,(e=>c(1,a=e))),Object(n.l)(e,i.q,(e=>c(2,o=e))),Object(n.l)(e,i.i,(e=>c(3,s=e)));let{showDate:l=!1}=t;return e.$$set=e=>{"showDate"in e&&c(0,l=e.showDate)},[l,a,o,s]}class r extends n.b{constructor(e){super(),Object(n.E)(this,e,l,s,n.P,{showDate:0})}}var b=r,u=c(218);c(355);function O(e){let t,c,i,a,o,s,l,r,b,u,O;return{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),a=Object(n.V)(),o=Object(n.u)("button"),l=Object(n.V)(),r=Object(n.u)("button"),Object(n.g)(c,"aria-pressed",i="color"===e[4]?"true":"false"),Object(n.g)(c,"class","uk-button uk-button-default uk-button-small choropleth svelte-1eqd11i"),Object(n.g)(c,"data-uk-icon","icon: blank"),Object(n.g)(c,"title","Switch to Choropleth"),Object(n.bb)(c,"uk-active","color"===e[4]),Object(n.g)(o,"aria-pressed",s="bubble"===e[4]?"true":"false"),Object(n.g)(o,"class","uk-button uk-button-default uk-button-small bubble svelte-1eqd11i"),Object(n.g)(o,"data-uk-icon","icon: blank"),Object(n.g)(o,"title","Switch to Bubble Map"),Object(n.bb)(o,"uk-active","bubble"===e[4]),Object(n.g)(r,"aria-pressed",b="spike"===e[4]?"true":"false"),Object(n.g)(r,"class","uk-button uk-button-default uk-button-small spike svelte-1eqd11i"),Object(n.g)(r,"data-uk-icon","icon: blank"),Object(n.g)(r,"title","Switch to Spike Map"),Object(n.bb)(r,"uk-active","spike"===e[4]),Object(n.g)(t,"class","uk-vertical-button-group svelte-1eqd11i")},m(i,s){Object(n.F)(i,t,s),Object(n.e)(t,c),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(t,l),Object(n.e)(t,r),u||(O=[Object(n.H)(c,"click",e[8]),Object(n.H)(o,"click",e[9]),Object(n.H)(r,"click",e[10])],u=!0)},p(e,t){16&t&&i!==(i="color"===e[4]?"true":"false")&&Object(n.g)(c,"aria-pressed",i),16&t&&Object(n.bb)(c,"uk-active","color"===e[4]),16&t&&s!==(s="bubble"===e[4]?"true":"false")&&Object(n.g)(o,"aria-pressed",s),16&t&&Object(n.bb)(o,"uk-active","bubble"===e[4]),16&t&&b!==(b="spike"===e[4]?"true":"false")&&Object(n.g)(r,"aria-pressed",b),16&t&&Object(n.bb)(r,"uk-active","spike"===e[4])},d(e){e&&Object(n.t)(t),u=!1,Object(n.O)(O)}}}function d(e){let t;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","loader loading svelte-1eqd11i")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function j(e){let t,c,i,a,o,s,l,r,b,u,j,p,h,g,m,f,v=e[2]&&O(e),y=e[3]&&d();return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("button"),o=Object(n.V)(),s=Object(n.u)("button"),r=Object(n.V)(),b=Object(n.u)("div"),u=Object(n.u)("button"),p=Object(n.V)(),v&&v.c(),h=Object(n.V)(),y&&y.c(),Object(n.g)(i,"class","uk-button uk-button-default uk-button-small svelte-1eqd11i"),Object(n.g)(i,"data-uk-icon","icon: plus"),Object(n.g)(i,"type","button"),Object(n.g)(i,"title","Zoom in"),Object(n.g)(i,"aria-label","Zoom in"),i.disabled=a=!e[1]||e[1].getZoom()<=e[1].getMinZoom(),Object(n.g)(s,"class","uk-button uk-button-default uk-button-small svelte-1eqd11i"),Object(n.g)(s,"data-uk-icon","icon: minus"),Object(n.g)(s,"type","button"),Object(n.g)(s,"title","Zoom out"),Object(n.g)(s,"aria-label","Zoom out"),s.disabled=l=!e[1]||e[1].getZoom()>=e[1].getMaxZoom(),Object(n.g)(c,"class","uk-vertical-button-group svelte-1eqd11i"),Object(n.g)(u,"class","uk-button uk-button-default uk-button-small svelte-1eqd11i"),Object(n.g)(u,"type","button"),Object(n.g)(u,"data-uk-icon","icon: home"),Object(n.g)(u,"title","Show entire map"),Object(n.g)(u,"aria-label","Show entire map"),u.disabled=j=!e[1],Object(n.g)(b,"class","svelte-1eqd11i"),Object(n.g)(t,"class",g="root "+e[0]+" svelte-1eqd11i")},m(a,l){Object(n.F)(a,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,o),Object(n.e)(c,s),Object(n.e)(t,r),Object(n.e)(t,b),Object(n.e)(b,u),Object(n.e)(t,p),v&&v.m(t,null),Object(n.e)(t,h),y&&y.m(t,null),m||(f=[Object(n.H)(i,"click",e[5]),Object(n.H)(s,"click",e[6]),Object(n.H)(u,"click",e[7])],m=!0)},p(e,[c]){2&c&&a!==(a=!e[1]||e[1].getZoom()<=e[1].getMinZoom())&&(i.disabled=a),2&c&&l!==(l=!e[1]||e[1].getZoom()>=e[1].getMaxZoom())&&(s.disabled=l),2&c&&j!==(j=!e[1])&&(u.disabled=j),e[2]?v?v.p(e,c):(v=O(e),v.c(),v.m(t,h)):v&&(v.d(1),v=null),e[3]?y||(y=d(),y.c(),y.m(t,null)):y&&(y.d(1),y=null),1&c&&g!==(g="root "+e[0]+" svelte-1eqd11i")&&Object(n.g)(t,"class",g)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),v&&v.d(),y&&y.d(),m=!1,Object(n.O)(f)}}}function p(e,t,c){let a;Object(n.l)(e,i.s,(e=>c(4,a=e)));let{className:o=""}=t,{zoom:s}=t,{showEncodings:l=!1}=t,{loading:r=!1}=t;return e.$$set=e=>{"className"in e&&c(0,o=e.className),"zoom"in e&&c(1,s=e.zoom),"showEncodings"in e&&c(2,l=e.showEncodings),"loading"in e&&c(3,r=e.loading)},[o,s,l,r,a,()=>{Object(u.a)("map","zoomIn"),s.zoomIn()},()=>{Object(u.a)("map","zoomOut"),s.zoomOut()},()=>{Object(u.a)("map","zoomReset"),s.resetZoom()},()=>{i.s.set("color")},()=>{i.s.set("bubble")},()=>{i.s.set("spike")}]}class h extends n.b{constructor(e){super(),Object(n.E)(this,e,p,j,n.P,{className:0,zoom:1,showEncodings:2,loading:3})}}var g=h,m=c(477),f=c(468),v=c(59);c(356);function y(e,t,c){const n=e.slice();return n[7]=t[c],n}function _(e){let t,c,i,a=e[0].high+"";return{c(){t=Object(n.u)("li"),c=Object(n.Z)(a),Object(n.g)(t,"class","tick svelte-1u6a1mr"),Object(n.U)(t,"background-image","linear-gradient(to right, "+e[7].color+", "+e[7].nextColor+")"),Object(n.g)(t,"title",i=e[7].label)},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,o){1&o&&a!==(a=e[0].high+"")&&Object(n.S)(c,a),1&o&&Object(n.U)(t,"background-image","linear-gradient(to right, "+e[7].color+", "+e[7].nextColor+")"),1&o&&i!==(i=e[7].label)&&Object(n.g)(t,"title",i)},d(e){e&&Object(n.t)(t)}}}function $(e){let t,c,i,a,o,s,l,r,b,u,O,d=e[0].high+"",j=e[0].high+"",p=e[0].labels,h=[];for(let t=0;t<p.length;t+=1)h[t]=_(y(e,p,t));return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.Z)(d),a=Object(n.V)(),o=Object(n.u)("li"),s=Object(n.Z)(j),r=Object(n.V)();for(let e=0;e<h.length;e+=1)h[e].c();b=Object(n.V)(),u=Object(n.u)("li"),Object(n.g)(c,"class","tick tick-single svelte-1u6a1mr"),Object(n.U)(c,"background","repeating-linear-gradient(-45deg, "+v.d+", white 30%)"),Object(n.g)(c,"title","NA"),Object(n.g)(o,"class","tick tick-single tick-space svelte-1u6a1mr"),Object(n.U)(o,"background-color",v.e),Object(n.g)(o,"title",l=e[0].low),Object(n.g)(u,"class","tick tick-last svelte-1u6a1mr"),Object(n.g)(u,"title",O=e[0].high),Object(n.g)(t,"data-testid","color-legend"),Object(n.g)(t,"class","svelte-1u6a1mr")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(o,s),Object(n.e)(t,r);for(let e=0;e<h.length;e+=1)h[e].m(t,null);Object(n.e)(t,b),Object(n.e)(t,u)},p(e,[c]){if(1&c&&d!==(d=e[0].high+"")&&Object(n.S)(i,d),1&c&&j!==(j=e[0].high+"")&&Object(n.S)(s,j),1&c&&l!==(l=e[0].low)&&Object(n.g)(o,"title",l),1&c){let n;for(p=e[0].labels,n=0;n<p.length;n+=1){const i=y(e,p,n);h[n]?h[n].p(i,c):(h[n]=_(i),h[n].c(),h[n].m(t,b))}for(;n<h.length;n+=1)h[n].d(1);h.length=p.length}1&c&&O!==(O=e[0].high)&&Object(n.g)(u,"title",O)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(h,e)}}}function k(e,t,c){let a,o,s,l,r,b,u;return Object(n.l)(e,i.F,(e=>c(1,a=e))),Object(n.l)(e,i.q,(e=>c(2,o=e))),Object(n.l)(e,i.k,(e=>c(3,s=e))),Object(n.l)(e,i.e,(e=>c(4,l=e))),Object(n.l)(e,i.C,(e=>c(5,r=e))),Object(n.l)(e,i.v,(e=>c(6,b=e))),e.$$.update=()=>{126&e.$$.dirty&&c(0,u=Object(f.c)(a,o,s,l,r,b))},[u,a,o,s,l,r,b]}class w extends n.b{constructor(e){super(),Object(n.E)(this,e,k,$,n.P,{})}}var x=w,S=c(464);c(357);function V(e,t,c){const n=e.slice();return n[9]=t[c],n}function P(e){let t,c,i,a,o,s,l=e[9].label+"";return{c(){t=Object(n.u)("li"),c=Object(n.u)("div"),i=Object(n.u)("div"),a=Object(n.V)(),o=Object(n.u)("span"),s=Object(n.Z)(l),Object(n.g)(i,"class","bubble svelte-19hi244"),Object(n.U)(i,"width",2*e[2](e[9].value)*e[0]+"px"),Object(n.U)(i,"height",2*e[2](e[9].value)*e[0]+"px"),Object(n.U)(i,"background",Object(S.d)(e[9].color,v.a.fillOpacity)),Object(n.U)(i,"border-color",e[9].color),Object(n.g)(c,"class","bubble-wrapper svelte-19hi244"),Object(n.g)(t,"class","svelte-19hi244")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(o,s)},p(e,t){7&t&&Object(n.U)(i,"width",2*e[2](e[9].value)*e[0]+"px"),7&t&&Object(n.U)(i,"height",2*e[2](e[9].value)*e[0]+"px"),2&t&&Object(n.U)(i,"background",Object(S.d)(e[9].color,v.a.fillOpacity)),2&t&&Object(n.U)(i,"border-color",e[9].color),2&t&&l!==(l=e[9].label+"")&&Object(n.S)(s,l)},d(e){e&&Object(n.t)(t)}}}function L(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,p,h=e[1].high+"",g=e[1].labels,m=[];for(let t=0;t<g.length;t+=1)m[t]=P(V(e,g,t));return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.u)("div"),a=Object(n.u)("div"),o=Object(n.V)(),s=Object(n.u)("span"),s.textContent="NA",l=Object(n.V)();for(let e=0;e<m.length;e+=1)m[e].c();r=Object(n.V)(),b=Object(n.u)("li"),u=Object(n.u)("div"),O=Object(n.u)("div"),d=Object(n.V)(),j=Object(n.u)("span"),p=Object(n.Z)(h),Object(n.g)(a,"class","na svelte-19hi244"),Object(n.U)(a,"background","repeating-linear-gradient(-45deg, "+v.d+", white 30%)"),Object(n.g)(i,"class","bubble-wrapper svelte-19hi244"),Object(n.g)(c,"class","svelte-19hi244"),Object(n.U)(O,"width",2*e[2](e[1].highValue)*e[0]+"px"),Object(n.U)(O,"height",2*e[2](e[1].highValue)*e[0]+"px"),Object(n.U)(O,"background",Object(S.d)(e[1].highColor,v.a.fillOpacity)),Object(n.U)(O,"border-color",e[1].highColor),Object(n.g)(O,"class","bubble svelte-19hi244"),Object(n.g)(u,"class","bubble-wrapper svelte-19hi244"),Object(n.g)(b,"class","svelte-19hi244"),Object(n.g)(t,"data-testid","bubble-legend"),Object(n.g)(t,"class","svelte-19hi244")},m(e,h){Object(n.F)(e,t,h),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,a),Object(n.e)(c,o),Object(n.e)(c,s),Object(n.e)(t,l);for(let e=0;e<m.length;e+=1)m[e].m(t,null);Object(n.e)(t,r),Object(n.e)(t,b),Object(n.e)(b,u),Object(n.e)(u,O),Object(n.e)(b,d),Object(n.e)(b,j),Object(n.e)(j,p)},p(e,[c]){if(7&c){let n;for(g=e[1].labels,n=0;n<g.length;n+=1){const i=V(e,g,n);m[n]?m[n].p(i,c):(m[n]=P(i),m[n].c(),m[n].m(t,r))}for(;n<m.length;n+=1)m[n].d(1);m.length=g.length}7&c&&Object(n.U)(O,"width",2*e[2](e[1].highValue)*e[0]+"px"),7&c&&Object(n.U)(O,"height",2*e[2](e[1].highValue)*e[0]+"px"),2&c&&Object(n.U)(O,"background",Object(S.d)(e[1].highColor,v.a.fillOpacity)),2&c&&Object(n.U)(O,"border-color",e[1].highColor),2&c&&h!==(h=e[1].high+"")&&Object(n.S)(p,h)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(m,e)}}}function C(e,t,c){let a,o,s,l,r,b,u;Object(n.l)(e,i.F,(e=>c(3,a=e))),Object(n.l)(e,i.q,(e=>c(4,o=e))),Object(n.l)(e,i.k,(e=>c(5,s=e))),Object(n.l)(e,i.e,(e=>c(6,l=e))),Object(n.l)(e,i.C,(e=>c(7,r=e))),Object(n.l)(e,i.v,(e=>c(8,b=e))),Object(n.l)(e,i.d,(e=>c(2,u=e)));let O,{zoom:d=1}=t;return e.$$set=e=>{"zoom"in e&&c(0,d=e.zoom)},e.$$.update=()=>{504&e.$$.dirty&&c(1,O=Object(f.c)(a,o,s,l,r,b))},[d,O,u,a,o,s,l,r,b]}class z extends n.b{constructor(e){super(),Object(n.E)(this,e,C,L,n.P,{zoom:0})}}var M=z;c(358);function D(e,t,c){const n=e.slice();return n[13]=t[c],n}function F(e){let t,c,i,a,o,s,l,r,b,u,O,d,j=e[13].label+"";return{c(){t=Object(n.u)("li"),c=Object(n.Y)("svg"),i=Object(n.Y)("g"),a=Object(n.Y)("path"),u=Object(n.V)(),O=Object(n.u)("span"),d=Object(n.Z)(j),Object(n.g)(a,"d",o=e[3](e[13].value)),Object(n.g)(a,"class","spike svelte-f727e1"),Object(n.g)(a,"fill",s=Object(S.d)(e[13].color,v.b.fillOpacity)),Object(n.g)(a,"stroke",l=Object(S.d)(e[13].color,v.b.strokeOpacity)),Object(n.U)(i,"transform","translate("+E+"px, "+E+"px)"),Object(n.g)(c,"width",r=2*e[1]+2*E),Object(n.g)(c,"height",b=e[2](e[13].value)*e[0]+2*E),Object(n.g)(c,"class","svelte-f727e1"),Object(n.g)(t,"class","legend-direct-tick svelte-f727e1")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,a),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,d)},p(e,t){24&t&&o!==(o=e[3](e[13].value))&&Object(n.g)(a,"d",o),16&t&&s!==(s=Object(S.d)(e[13].color,v.b.fillOpacity))&&Object(n.g)(a,"fill",s),16&t&&l!==(l=Object(S.d)(e[13].color,v.b.strokeOpacity))&&Object(n.g)(a,"stroke",l),2&t&&r!==(r=2*e[1]+2*E)&&Object(n.g)(c,"width",r),21&t&&b!==(b=e[2](e[13].value)*e[0]+2*E)&&Object(n.g)(c,"height",b),16&t&&j!==(j=e[13].label+"")&&Object(n.S)(d,j)},d(e){e&&Object(n.t)(t)}}}function R(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,p,h,g,m,f,y,_=e[4].high+"",$=e[4].labels,k=[];for(let t=0;t<$.length;t+=1)k[t]=F(D(e,$,t));return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.u)("div"),a=Object(n.V)(),o=Object(n.u)("span"),o.textContent="NA",s=Object(n.V)();for(let e=0;e<k.length;e+=1)k[e].c();l=Object(n.V)(),r=Object(n.u)("li"),b=Object(n.Y)("svg"),u=Object(n.Y)("g"),O=Object(n.Y)("path"),m=Object(n.V)(),f=Object(n.u)("span"),y=Object(n.Z)(_),Object(n.g)(i,"class","na svelte-f727e1"),Object(n.U)(i,"background","repeating-linear-gradient(-45deg, "+v.d+", white 30%)"),Object(n.g)(c,"class","svelte-f727e1"),Object(n.g)(O,"d",d=e[3](e[4].highValue)),Object(n.g)(O,"class","spike svelte-f727e1"),Object(n.g)(O,"fill",j=Object(S.d)(e[4].highColor,v.b.fillOpacity)),Object(n.g)(O,"stroke",p=Object(S.d)(e[4].highColor,v.b.strokeOpacity)),Object(n.U)(u,"transform","translate("+E+"px, "+E+"px)"),Object(n.g)(b,"width",h=2*e[1]+2*E),Object(n.g)(b,"height",g=e[2](e[4].highValue)*e[0]+2*E),Object(n.g)(b,"class","svelte-f727e1"),Object(n.g)(r,"class","legend-direct-tick svelte-f727e1"),Object(n.g)(t,"class","legend-ticks svelte-f727e1"),Object(n.g)(t,"data-testid","spike-legend")},m(e,d){Object(n.F)(e,t,d),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,a),Object(n.e)(c,o),Object(n.e)(t,s);for(let e=0;e<k.length;e+=1)k[e].m(t,null);Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(b,u),Object(n.e)(u,O),Object(n.e)(r,m),Object(n.e)(r,f),Object(n.e)(f,y)},p(e,[c]){if(31&c){let n;for($=e[4].labels,n=0;n<$.length;n+=1){const i=D(e,$,n);k[n]?k[n].p(i,c):(k[n]=F(i),k[n].c(),k[n].m(t,l))}for(;n<k.length;n+=1)k[n].d(1);k.length=$.length}24&c&&d!==(d=e[3](e[4].highValue))&&Object(n.g)(O,"d",d),16&c&&j!==(j=Object(S.d)(e[4].highColor,v.b.fillOpacity))&&Object(n.g)(O,"fill",j),16&c&&p!==(p=Object(S.d)(e[4].highColor,v.b.strokeOpacity))&&Object(n.g)(O,"stroke",p),2&c&&h!==(h=2*e[1]+2*E)&&Object(n.g)(b,"width",h),21&c&&g!==(g=e[2](e[4].highValue)*e[0]+2*E)&&Object(n.g)(b,"height",g),16&c&&_!==(_=e[4].high+"")&&Object(n.S)(y,_)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(k,e)}}}const E=2;function A(e,t,c){let a,o,s,l,r,b,u;Object(n.l)(e,i.k,(e=>c(5,a=e))),Object(n.l)(e,i.F,(e=>c(7,o=e))),Object(n.l)(e,i.q,(e=>c(8,s=e))),Object(n.l)(e,i.e,(e=>c(9,l=e))),Object(n.l)(e,i.C,(e=>c(10,r=e))),Object(n.l)(e,i.v,(e=>c(11,b=e))),Object(n.l)(e,i.E,(e=>c(2,u=e)));let O,d,j,p,{zoom:h=1}=t,g=()=>"";return e.$$set=e=>{"zoom"in e&&c(0,h=e.zoom)},e.$$.update=()=>{if(33&e.$$.dirty&&c(1,O=v.b.size[a]*h),33&e.$$.dirty&&c(6,d=v.b.maxHeight[a]*h),4e3&e.$$.dirty&&c(4,j=Object(f.c)(o,s,a,l,r,b)),64&e.$$.dirty&&(p=d+2*E),7&e.$$.dirty){const e=u,t=h,n=O;c(3,g=c=>"M 0 ".concat(e(c)*t," L ").concat(n," 0 L ").concat(2*n," ").concat(e(c)*t))}},[h,O,u,g,j,a,d,o,s,l,r,b]}class Z extends n.b{constructor(e){super(),Object(n.E)(this,e,A,R,n.P,{zoom:0})}}var T=Z,N=c(4);c(359);function I(e){let t,c,i,a,o=e[5](e[2])+"";return{c(){t=Object(n.u)("div"),c=Object(n.Z)(o),i=Object(n.Z)("% Coverage"),Object(n.g)(t,"class","root base-font-size container-style svelte-9d0ztf"),Object(n.g)(t,"data-testid","coverage"),Object(n.g)(t,"title",a="Showing data for ".concat(e[2]," ").concat(e[4].labelPlural," out of ").concat(e[3]," ").concat(e[4].labelPlural," (").concat(e[5](e[2]),"%)")),Object(n.bb)(t,"hidden",!e[0]||!e[0].data),Object(n.bb)(t,"loading-bg",e[1])},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,i)},p(e,[i]){4&i&&o!==(o=e[5](e[2])+"")&&Object(n.S)(c,o),28&i&&a!==(a="Showing data for ".concat(e[2]," ").concat(e[4].labelPlural," out of ").concat(e[3]," ").concat(e[4].labelPlural," (").concat(e[5](e[2]),"%)"))&&Object(n.g)(t,"title",a),1&i&&Object(n.bb)(t,"hidden",!e[0]||!e[0].data),2&i&&Object(n.bb)(t,"loading-bg",e[1])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t)}}}function B(e,t,c){let n,i,{summary:a=null}=t,o=!0,s=0;return e.$$set=e=>{"summary"in e&&c(0,a=e.summary)},e.$$.update=()=>{1&e.$$.dirty&&c(3,n=a?a.items.reduce(((e,t)=>e+(t.level===a.level?1:0)),0):0),1&e.$$.dirty&&c(4,i=Object(N.g)(a?a.level:"county")),1&e.$$.dirty&&(c(1,o=!0),a&&a.data&&a.data.then((e=>{let t=0;for(const c of e)c.geo_value.endsWith("000")||null==c.value||Number.isNaN(c.value)||t++;c(1,o=!1),c(2,s=t)})))},[a,o,s,n,i,function(e){return Math.round(100*e/n)}]}class H extends n.b{constructor(e){super(),Object(n.E)(this,e,B,I,n.P,{summary:0})}}var U=H;c(360);function q(e){let t,c;return t=new T({props:{zoom:e[3]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};8&c&&(n.zoom=e[3]),t.$set(n)},i(e){c||(Object(n.cb)(t.$$.fragment,e),c=!0)},o(e){Object(n.db)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function J(e){let t,c;return t=new M({props:{zoom:e[3]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};8&c&&(n.zoom=e[3]),t.$set(n)},i(e){c||(Object(n.cb)(t.$$.fragment,e),c=!0)},o(e){Object(n.db)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function Y(e){let t,c;return t=new x({}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p:n.J,i(e){c||(Object(n.cb)(t.$$.fragment,e),c=!0)},o(e){Object(n.db)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function G(e){let t,c,i,a,o,s,l,r,u,O,d,j,p,h,f,v,y;i=new b({props:{showDate:e[4]}}),s=new g({props:{zoom:e[0]?e[0].zoom:null,showEncodings:!0,loading:e[1]}}),u=new m.a({props:{sensor:e[6],className:"container-bg container-style encoding-wrapper"}});const _=[Y,J,q],$=[];function k(e,t){return"color"===e[7]?0:"bubble"===e[7]?1:"spike"===e[7]?2:-1}return~(j=k(e))&&(p=$[j]=_[j](e)),v=new U({props:{summary:e[5]}}),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),Object(n.n)(i.$$.fragment),a=Object(n.V)(),o=Object(n.u)("div"),Object(n.n)(s.$$.fragment),l=Object(n.V)(),r=Object(n.u)("div"),Object(n.n)(u.$$.fragment),O=Object(n.V)(),d=Object(n.u)("div"),p&&p.c(),h=Object(n.V)(),f=Object(n.u)("div"),Object(n.n)(v.$$.fragment),Object(n.g)(c,"class","title-container container-bg svelte-azwlie"),Object(n.g)(o,"class","map-controls-container svelte-azwlie"),Object(n.g)(t,"class","map-top-overlay svelte-azwlie"),Object(n.g)(d,"class","container-bg container-style"),Object(n.bb)(d,"loading-bg",e[2]),Object(n.g)(r,"class","legend-container base-font-size svelte-azwlie"),Object(n.g)(r,"aria-label","map legend"),Object(n.g)(f,"class","summary-container svelte-azwlie"),Object(n.g)(f,"aria-label","map data summary")},m(e,b){Object(n.F)(e,t,b),Object(n.e)(t,c),Object(n.I)(i,c,null),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.I)(s,o,null),Object(n.F)(e,l,b),Object(n.F)(e,r,b),Object(n.I)(u,r,null),Object(n.e)(r,O),Object(n.e)(r,d),~j&&$[j].m(d,null),Object(n.F)(e,h,b),Object(n.F)(e,f,b),Object(n.I)(v,f,null),y=!0},p(e,[t]){const c={};16&t&&(c.showDate=e[4]),i.$set(c);const a={};1&t&&(a.zoom=e[0]?e[0].zoom:null),2&t&&(a.loading=e[1]),s.$set(a);const o={};64&t&&(o.sensor=e[6]),u.$set(o);let l=j;j=k(e),j===l?~j&&$[j].p(e,t):(p&&(Object(n.B)(),Object(n.db)($[l],1,1,(()=>{$[l]=null})),Object(n.k)()),~j?(p=$[j],p?p.p(e,t):(p=$[j]=_[j](e),p.c()),Object(n.cb)(p,1),p.m(d,null)):p=null),4&t&&Object(n.bb)(d,"loading-bg",e[2]);const r={};32&t&&(r.summary=e[5]),v.$set(r)},i(e){y||(Object(n.cb)(i.$$.fragment,e),Object(n.cb)(s.$$.fragment,e),Object(n.cb)(u.$$.fragment,e),Object(n.cb)(p),Object(n.cb)(v.$$.fragment,e),y=!0)},o(e){Object(n.db)(i.$$.fragment,e),Object(n.db)(s.$$.fragment,e),Object(n.db)(u.$$.fragment,e),Object(n.db)(p),Object(n.db)(v.$$.fragment,e),y=!1},d(e){e&&Object(n.t)(t),Object(n.r)(i),Object(n.r)(s),e&&Object(n.t)(l),e&&Object(n.t)(r),Object(n.r)(u),~j&&$[j].d(),e&&Object(n.t)(h),e&&Object(n.t)(f),Object(n.r)(v)}}}function W(e,t,c){let a,o;Object(n.l)(e,i.q,(e=>c(6,a=e))),Object(n.l)(e,i.s,(e=>c(7,o=e)));let{map:s=null}=t,{mapLoading:l=!0}=t,{legendLoading:r=!0}=t,{zoom:b=1}=t,{showDate:u=!1}=t,{summary:O=null}=t;return e.$$set=e=>{"map"in e&&c(0,s=e.map),"mapLoading"in e&&c(1,l=e.mapLoading),"legendLoading"in e&&c(2,r=e.legendLoading),"zoom"in e&&c(3,b=e.zoom),"showDate"in e&&c(4,u=e.showDate),"summary"in e&&c(5,O=e.summary)},[s,l,r,b,u,O,a,o]}class Q extends n.b{constructor(e){super(),Object(n.E)(this,e,W,G,n.P,{map:0,mapLoading:1,legendLoading:2,zoom:3,showDate:4,summary:5})}}t.a=Q},490:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(6),a=c(482),o=c(87),s=c(480),l=c(476),r=c(472),b=c(218),u=c(4),O=c(470),d=c(473);c(367);function j(e){let t,c,i;return c=new O.a({props:{data:e[0].data,spec:e[0].spec,noDataText:e[0].noDataText,signals:{currentDate:e[4],highlightTimeValue:e[1]},signalListeners:["highlight"],eventListeners:["click"],tooltip:d.a,tooltipProps:{sensor:e[0].sensor}}}),c.$on("click",(function(){Object(n.G)(e[2])&&e[2].apply(this,arguments)})),c.$on("signal",(function(){Object(n.G)(e[3])&&e[3].apply(this,arguments)})),{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"class","single-sensor-chart vega-wrapper svelte-1dx38td")},m(e,a){Object(n.F)(e,t,a),Object(n.I)(c,t,null),i=!0},p(t,[n]){e=t;const i={};1&n&&(i.data=e[0].data),1&n&&(i.spec=e[0].spec),1&n&&(i.noDataText=e[0].noDataText),18&n&&(i.signals={currentDate:e[4],highlightTimeValue:e[1]}),1&n&&(i.tooltipProps={sensor:e[0].sensor}),c.$set(i)},i(e){i||(Object(n.cb)(c.$$.fragment,e),i=!0)},o(e){Object(n.db)(c.$$.fragment,e),i=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c)}}}function p(e,t,c){let a;Object(n.l)(e,i.i,(e=>c(4,a=e)));let{s:o}=t,{highlightTimeValue:s}=t,{onClick:l}=t,{onHighlight:r}=t;return e.$$set=e=>{"s"in e&&c(0,o=e.s),"highlightTimeValue"in e&&c(1,s=e.highlightTimeValue),"onClick"in e&&c(2,l=e.onClick),"onHighlight"in e&&c(3,r=e.onHighlight)},[o,s,l,r,a]}class h extends n.b{constructor(e){super(),Object(n.E)(this,e,p,j,n.P,{s:0,highlightTimeValue:1,onClick:2,onHighlight:3})}}var g=h,m=c(471),f=c(466);c(368);function v(e,t,c){const n=e.slice();return n[15]=t[c],n}function y(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,p,h,v,y,_,$,k=e[15].sensor.plotTitleText+"";function w(){return e[13](e[15])}function x(){return e[14](e[15])}return u=new f.a({props:{sensor:e[15].sensor}}),p=new g({props:{s:e[15],highlightTimeValue:e[4],onClick:e[5],onHighlight:m.b}}),{c(){t=Object(n.u)("li"),c=Object(n.u)("div"),i=Object(n.u)("button"),a=Object(n.Z)(k),s=Object(n.V)(),l=Object(n.u)("div"),r=Object(n.V)(),b=Object(n.u)("div"),Object(n.n)(u.$$.fragment),O=Object(n.V)(),d=Object(n.u)("button"),j=Object(n.V)(),Object(n.n)(p.$$.fragment),h=Object(n.V)(),Object(n.g)(i,"class","uk-button uk-button-text svelte-1gbkhdb"),Object(n.g)(i,"title",o="function"==typeof e[15].sensor.tooltipText?e[15].sensor.tooltipText():e[15].sensor.tooltipText),Object(n.g)(l,"class","grow svelte-1gbkhdb"),Object(n.g)(d,"class","uk-icon-button uk-icon-button-small svelte-1gbkhdb"),Object(n.g)(d,"title","Show as detail view"),Object(n.g)(d,"data-uk-icon","icon: search; ratio: 0.8"),Object(n.bb)(d,"hidden",!e[1]),Object(n.bb)(d,"uk-active",e[0]===e[15].sensor),Object(n.g)(b,"class","toolbar svelte-1gbkhdb"),Object(n.g)(c,"class","header svelte-1gbkhdb"),Object(n.g)(t,"data-testid",v=e[15].sensor.key),Object(n.g)(t,"class","svelte-1gbkhdb"),Object(n.bb)(t,"selected",e[3]===e[15].sensor.key)},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,a),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.e)(c,r),Object(n.e)(c,b),Object(n.I)(u,b,null),Object(n.e)(b,O),Object(n.e)(b,d),Object(n.e)(t,j),Object(n.I)(p,t,null),Object(n.e)(t,h),y=!0,_||($=[Object(n.H)(i,"click",Object(n.N)(w)),Object(n.H)(d,"click",Object(n.W)(x))],_=!0)},p(c,s){e=c,(!y||4&s)&&k!==(k=e[15].sensor.plotTitleText+"")&&Object(n.S)(a,k),(!y||4&s&&o!==(o="function"==typeof e[15].sensor.tooltipText?e[15].sensor.tooltipText():e[15].sensor.tooltipText))&&Object(n.g)(i,"title",o);const l={};4&s&&(l.sensor=e[15].sensor),u.$set(l),2&s&&Object(n.bb)(d,"hidden",!e[1]),5&s&&Object(n.bb)(d,"uk-active",e[0]===e[15].sensor);const r={};4&s&&(r.s=e[15]),16&s&&(r.highlightTimeValue=e[4]),p.$set(r),(!y||4&s&&v!==(v=e[15].sensor.key))&&Object(n.g)(t,"data-testid",v),12&s&&Object(n.bb)(t,"selected",e[3]===e[15].sensor.key)},i(e){y||(Object(n.cb)(u.$$.fragment,e),Object(n.cb)(p.$$.fragment,e),y=!0)},o(e){Object(n.db)(u.$$.fragment,e),Object(n.db)(p.$$.fragment,e),y=!1},d(e){e&&Object(n.t)(t),Object(n.r)(u),Object(n.r)(p),_=!1,Object(n.O)($)}}}function _(e){let t,c,i=e[2],a=[];for(let t=0;t<i.length;t+=1)a[t]=y(v(e,i,t));const o=e=>Object(n.db)(a[e],1,1,(()=>{a[e]=null}));return{c(){t=Object(n.u)("ul");for(let e=0;e<a.length;e+=1)a[e].c();Object(n.g)(t,"class","root svelte-1gbkhdb")},m(e,i){Object(n.F)(e,t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);c=!0},p(e,[c]){if(63&c){let s;for(i=e[2],s=0;s<i.length;s+=1){const o=v(e,i,s);a[s]?(a[s].p(o,c),Object(n.cb)(a[s],1)):(a[s]=y(o),a[s].c(),Object(n.cb)(a[s],1),a[s].m(t,null))}for(Object(n.B)(),s=i.length;s<a.length;s+=1)o(s);Object(n.k)()}},i(e){if(!c){for(let e=0;e<i.length;e+=1)Object(n.cb)(a[e]);c=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)Object(n.db)(a[e]);c=!1},d(e){e&&Object(n.t)(t),Object(n.s)(a,e)}}}function $(e,t,c){let a,o,s;Object(n.l)(e,i.D,(e=>c(12,a=e))),Object(n.l)(e,i.p,(e=>c(3,o=e))),Object(n.l)(e,i.u,(e=>c(4,s=e)));let{detail:l=null}=t,{levels:r=u.i}=t,O=a[0],d=a[1],{selections:j=[]}=t;let p,h,g,f;return e.$$set=e=>{"detail"in e&&c(0,l=e.detail),"levels"in e&&c(6,r=e.levels),"selections"in e&&c(7,j=e.selections)},e.$$.update=()=>{64&e.$$.dirty&&c(10,p=new Set(r.map((e=>e.id)))),1024&e.$$.dirty&&c(11,h=i.B.filter((e=>e.levels.some((e=>p.has(e)))))),4864&e.$$.dirty&&(O.getTime()!==a[0].getTime()&&c(8,O=a[0]),d.getTime()!==a[1].getTime()&&c(9,d=a[1])),128&e.$$.dirty&&c(1,g=j.length>0),2944&e.$$.dirty&&c(2,f=h.map((e=>Object(m.c)(e,j,O,d))))},[l,g,f,o,s,function(e){const t=Object(m.d)(e);t&&(Object(b.a)("side-panel","set-date",t),i.h.set(t))},r,j,O,d,p,h,a,e=>{Object(b.a)("side-panel","set-sensor",e.sensor.key),i.p.set(e.sensor.key)},e=>{Object(b.a)("side-panel",l===e.sensor?"hide-detail":"show-detail",e.sensor.key),c(0,l=l===e.sensor?null:e.sensor)}]}class k extends n.b{constructor(e){super(),Object(n.E)(this,e,$,_,n.P,{detail:0,levels:6,selections:7})}}var w=k,x=c(161),S=c(162),V=c(474),P=c(86),L=c(477);c(369);function C(e){let t;return{c(){t=Object(n.u)("div"),t.innerHTML='<div class="legend-avg svelte-feepaf"></div> \n    <div>7-day average</div> \n    <div class="legend-avg legend-count svelte-feepaf"></div> \n    <div>Raw data</div>',Object(n.g)(t,"class","legend svelte-feepaf")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function z(e){let t,c,i,a,o,s,l,r,b,u,j,p,h,g,m,v,y;o=new f.a({props:{sensor:e[0],large:!0}});let _={data:e[4],spec:e[5],patchSpec:V.c,noDataText:e[3],signals:{currentDate:e[7]},signalListeners:["dateRange"],tooltip:d.a,tooltipProps:{sensor:e[0]}};u=new O.a({props:_}),e[25](u),u.$on("signal",e[9]);let $=e[0].isCasesOrDeath&&!e[6]&&C();return g=new L.a({props:{center:!0,sensor:e[0]}}),{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),a=Object(n.V)(),Object(n.n)(o.$$.fragment),s=Object(n.V)(),l=Object(n.u)("button"),r=Object(n.V)(),b=Object(n.u)("div"),Object(n.n)(u.$$.fragment),j=Object(n.V)(),$&&$.c(),p=Object(n.V)(),h=Object(n.u)("div"),Object(n.n)(g.$$.fragment),Object(n.g)(c,"title","Download this view"),Object(n.g)(c,"class","uk-icon-button"),Object(n.g)(c,"data-uk-icon","icon: download"),c.disabled=i=!e[2],Object(n.g)(l,"class","uk-icon-button"),Object(n.g)(l,"data-uk-close",""),Object(n.g)(l,"title","Close this detail view"),Object(n.g)(t,"class","buttons svelte-feepaf"),Object(n.g)(b,"class","single-sensor-chart vega-wrapper svelte-feepaf"),Object(n.g)(h,"class","encoding svelte-feepaf")},m(i,O){Object(n.F)(i,t,O),Object(n.e)(t,c),Object(n.e)(t,a),Object(n.I)(o,t,null),Object(n.e)(t,s),Object(n.e)(t,l),e[23](l),Object(n.F)(i,r,O),Object(n.F)(i,b,O),Object(n.I)(u,b,null),Object(n.F)(i,j,O),$&&$.m(i,O),Object(n.F)(i,p,O),Object(n.F)(i,h,O),Object(n.I)(g,h,null),m=!0,v||(y=[Object(n.H)(window,"keydown",e[10]),Object(n.H)(c,"click",e[12]),Object(n.H)(l,"click",e[24])],v=!0)},p(e,[t]){(!m||4&t&&i!==(i=!e[2]))&&(c.disabled=i);const n={};1&t&&(n.sensor=e[0]),o.$set(n);const a={};16&t&&(a.data=e[4]),32&t&&(a.spec=e[5]),8&t&&(a.noDataText=e[3]),128&t&&(a.signals={currentDate:e[7]}),1&t&&(a.tooltipProps={sensor:e[0]}),u.$set(a),e[0].isCasesOrDeath&&!e[6]?$||($=C(),$.c(),$.m(p.parentNode,p)):$&&($.d(1),$=null);const s={};1&t&&(s.sensor=e[0]),g.$set(s)},i(e){m||(Object(n.cb)(o.$$.fragment,e),Object(n.cb)(u.$$.fragment,e),Object(n.cb)(g.$$.fragment,e),m=!0)},o(e){Object(n.db)(o.$$.fragment,e),Object(n.db)(u.$$.fragment,e),Object(n.db)(g.$$.fragment,e),m=!1},d(c){c&&Object(n.t)(t),Object(n.r)(o),e[23](null),c&&Object(n.t)(r),c&&Object(n.t)(b),e[25](null),Object(n.r)(u),c&&Object(n.t)(j),$&&$.d(c),c&&Object(n.t)(p),c&&Object(n.t)(h),Object(n.r)(g),v=!1,Object(n.O)(y)}}}function M(e,t,c){let a,o,s;Object(n.l)(e,i.C,(e=>c(15,a=e))),Object(n.l)(e,i.D,(e=>c(21,o=e))),Object(n.l)(e,i.i,(e=>c(7,s=e)));const l=Object(P.a)();let{sensor:r}=t;let{selections:O=[]}=t;let d=null,j=null;function p(){j&&(j.focus(),j=null)}Object(P.c)((()=>{d&&(j=document.activeElement,d.focus())}));let h=null;let g,m,f,v,y,_,$,k,w,x,L,C;return e.$$set=e=>{"sensor"in e&&c(0,r=e.sensor),"selections"in e&&c(13,O=e.selections)},e.$$.update=()=>{32769&e.$$.dirty&&c(14,g="function"==typeof r.mapTitleText?r.mapTitleText(a):r.mapTitleText),8192&e.$$.dirty&&c(16,m=O.length>0?O[0].info:null),8192&e.$$.dirty&&c(17,f=O.length>0),8192&e.$$.dirty&&c(18,v=O.length>1),65536&e.$$.dirty&&c(19,y=Boolean(m)&&m.level===u.j.id),655360&e.$$.dirty&&c(3,_=f?y?"Please select a county":"No data available":"No location selected"),860161&e.$$.dirty&&c(4,$=v?function(e,t){return Promise.all(t.map((t=>{const c=t.info;return c.level===u.j.id?[]:Object(S.d)(e,c.level,c.propertyId,void 0,void 0,!1,{geo_value:c.propertyId}).then(S.a).then((e=>e.map((e=>(e.displayName=c.displayName,e)))))}))).then((e=>e.flat()))}(r,O):m&&!y?Object(S.d)(r,m.level,m.propertyId,void 0,void 0,!1,{geo_value:m.propertyId}).then((e=>Object(S.a)(e,r))):[]),3145728&e.$$.dirty&&c(20,k=k||o),8193&e.$$.dirty&&c(22,w="".concat(r.name," in ").concat(O.length>0?O.map((e=>e.info.displayName)).join(", "):"Unknown")),32769&e.$$.dirty&&(x=Object(u.l)(r,a)),4251649&e.$$.dirty&&c(5,L=Object(V.b)(r,Object(u.l)(r,a),O,(0===k.length&&c(20,k=o),k),[w,g])),32768&e.$$.dirty&&c(6,C=a.cumulative)},[r,d,h,_,$,L,C,s,l,function(e){if("dateRange"!==e.detail.name)return;const t=e.detail.value&&e.detail.value.date_value;t&&Array.isArray(t)&&t.length>0&&(!Number.isNaN(t[0])&&t[0]!==k[0].getTime()||!Number.isNaN(t[1])&&t[1]!==k[1].getTime())&&c(20,k=[new Date(t[0]),new Date(t[1])])},function(e){"Escape"!==e.key&&"Esc"!==e.key||(Object(b.a)("detail-view","close","keyboard"),p(),l("close"))},p,function(){h.vegaAccessor().then((e=>{const t=e.toImageURL("png",2),c=f?O.map((e=>e.info.displayName)).join(", "):"Unknown";t.then((e=>{!function(e,t){const c=document.createElement("a");c.download=t,c.href=e,c.style.position="absolute",c.style.left="-10000px",c.style.top="-10000px",document.body.appendChild(c),c.click(),c.remove()}(e,"".concat(r.name," in ").concat(c,".png"))}))}))},O,g,a,m,f,v,y,k,o,w,function(e){n.i[e?"unshift":"push"]((()=>{d=e,c(1,d)}))},()=>{Object(b.a)("detail-view","close","button"),p(),l("close")},function(e){n.i[e?"unshift":"push"]((()=>{h=e,c(2,h)}))}]}class D extends n.b{constructor(e){super(),Object(n.E)(this,e,M,z,n.P,{sensor:0,selections:13})}}var F=D,R=c(483);c(370);function E(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function A(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function Z(e,t,c){const n=e.slice();return n[16]=t[c],n}function T(e,t,c){const n=e.slice();return n[19]=t[c],n}function N(e){let t,c,i,a,o,s,l,r,b,u,O,d=e[19].displayName+"",j=e[6].formatValue(e[19].value)+"";function p(...t){return e[13](e[19],...t)}function h(){return e[14](e[19])}return{c(){t=Object(n.u)("li"),c=Object(n.u)("a"),i=Object(n.Z)(d),a=Object(n.Z)("\n          ("),o=Object(n.Z)(j),s=Object(n.Z)(")"),b=Object(n.V)(),Object(n.g)(c,"href",l="?region="+(e[19].info?e[19].info.propertyId:"")),Object(n.g)(c,"class","uk-link-text"),Object(n.g)(c,"disabled",r=!e[19].info||e[1].some(p))},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,a),Object(n.e)(c,o),Object(n.e)(c,s),Object(n.e)(t,b),u||(O=Object(n.H)(c,"click",Object(n.N)(h)),u=!0)},p(t,a){e=t,8&a&&d!==(d=e[19].displayName+"")&&Object(n.S)(i,d),72&a&&j!==(j=e[6].formatValue(e[19].value)+"")&&Object(n.S)(o,j),8&a&&l!==(l="?region="+(e[19].info?e[19].info.propertyId:""))&&Object(n.g)(c,"href",l),10&a&&r!==(r=!e[19].info||e[1].some(p))&&Object(n.g)(c,"disabled",r)},d(e){e&&Object(n.t)(t),u=!1,O()}}}function I(e){let t,c,i,a=e[5].reverse(),o=[];for(let t=0;t<a.length;t+=1)o[t]=B(Z(e,a,t));return{c(){t=Object(n.u)("h5"),t.textContent="Select from recent locations",c=Object(n.V)(),i=Object(n.u)("ul");for(let e=0;e<o.length;e+=1)o[e].c();Object(n.g)(i,"class","svelte-1i52rzm")},m(e,a){Object(n.F)(e,t,a),Object(n.F)(e,c,a),Object(n.F)(e,i,a);for(let e=0;e<o.length;e+=1)o[e].m(i,null)},p(e,t){if(160&t){let c;for(a=e[5].reverse(),c=0;c<a.length;c+=1){const n=Z(e,a,c);o[c]?o[c].p(n,t):(o[c]=B(n),o[c].c(),o[c].m(i,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c),e&&Object(n.t)(i),Object(n.s)(o,e)}}}function B(e){let t,c,i,a,o,s,l,r=e[16].displayName+"";function b(){return e[15](e[16])}return{c(){t=Object(n.u)("li"),c=Object(n.u)("a"),i=Object(n.Z)(r),o=Object(n.V)(),Object(n.g)(c,"href",a="?region="+e[16].propertyId),Object(n.g)(c,"class","uk-link-text")},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,o),s||(l=Object(n.H)(c,"click",Object(n.N)(b)),s=!0)},p(t,o){e=t,32&o&&r!==(r=e[16].displayName+"")&&Object(n.S)(i,r),32&o&&a!==(a="?region="+e[16].propertyId)&&Object(n.g)(c,"href",a)},d(e){e&&Object(n.t)(t),s=!1,l()}}}function H(e){let t,c,i,a,o,s,l,b,u,O,d,j,p,h,g,m,f,v,y=e[6].name+"";a=new r.a({props:{className:"container-bg",placeholder:"Search by name...",selectedItem:(e[4],null),items:e[4],labelFieldName:"displayName",maxItemsToShowInList:"5"}}),a.$on("change",e[11]);let _=e[3],$=[];for(let t=0;t<_.length;t+=1)$[t]=N(T(e,_,t));let k=e[5].length>0&&I(e);return{c(){t=Object(n.u)("section"),c=Object(n.u)("h4"),c.textContent="Add Another",i=Object(n.V)(),Object(n.n)(a.$$.fragment),o=Object(n.V)(),s=Object(n.u)("button"),l=Object(n.Z)("Select on map"),b=Object(n.V)(),u=Object(n.u)("h5"),O=Object(n.Z)("Select from Top for "),d=Object(n.u)("strong"),j=Object(n.Z)(y),p=Object(n.V)(),h=Object(n.u)("ol");for(let e=0;e<$.length;e+=1)$[e].c();g=Object(n.V)(),k&&k.c(),Object(n.g)(c,"class","svelte-1i52rzm"),Object(n.g)(s,"class","uk-button uk-button-default uk-button-small uk-width-1-1 uk-margin-top"),Object(n.g)(s,"aria-pressed",e[0]),Object(n.bb)(s,"selected",e[0]),Object(n.g)(h,"class","svelte-1i52rzm"),Object(n.bb)(h,"loading",e[2]),Object(n.g)(t,"class","container-bg container-style root svelte-1i52rzm")},m(r,y){Object(n.F)(r,t,y),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.I)(a,t,null),Object(n.e)(t,o),Object(n.e)(t,s),Object(n.e)(s,l),Object(n.e)(t,b),Object(n.e)(t,u),Object(n.e)(u,O),Object(n.e)(u,d),Object(n.e)(d,j),Object(n.e)(t,p),Object(n.e)(t,h);for(let e=0;e<$.length;e+=1)$[e].m(h,null);Object(n.e)(t,g),k&&k.m(t,null),m=!0,f||(v=Object(n.H)(s,"click",e[12]),f=!0)},p(e,[c]){const i={};if(16&c&&(i.selectedItem=(e[4],null)),16&c&&(i.items=e[4]),a.$set(i),(!m||1&c)&&Object(n.g)(s,"aria-pressed",e[0]),1&c&&Object(n.bb)(s,"selected",e[0]),(!m||64&c)&&y!==(y=e[6].name+"")&&Object(n.S)(j,y),202&c){let t;for(_=e[3],t=0;t<_.length;t+=1){const n=T(e,_,t);$[t]?$[t].p(n,c):($[t]=N(n),$[t].c(),$[t].m(h,null))}for(;t<$.length;t+=1)$[t].d(1);$.length=_.length}4&c&&Object(n.bb)(h,"loading",e[2]),e[5].length>0?k?k.p(e,c):(k=I(e),k.c(),k.m(t,null)):k&&(k.d(1),k=null)},i(e){m||(Object(n.cb)(a.$$.fragment,e),m=!0)},o(e){Object(n.db)(a.$$.fragment,e),m=!1},d(e){e&&Object(n.t)(t),Object(n.r)(a),Object(n.s)($,e),k&&k.d(),f=!1,v()}}}function U(e,t,c){let a,s;Object(n.l)(e,i.x,(e=>c(10,a=e))),Object(n.l)(e,i.q,(e=>c(6,s=e)));const l=Object(P.a)();let{mapData:r}=t,{regionSearchList:b}=t,{pickMapMode:O=!1}=t,{selections:d=[]}=t,j=!0,p=[];let h,g;return e.$$set=e=>{"mapData"in e&&c(8,r=e.mapData),"regionSearchList"in e&&c(9,b=e.regionSearchList),"pickMapMode"in e&&c(0,O=e.pickMapMode),"selections"in e&&c(1,d=e.selections)},e.$$.update=()=>{514&e.$$.dirty&&c(4,h=b.filter((e=>e.level!==u.j.id&&!d.some((t=>t.info.id===e.id))&&(0===d.length||d.some((t=>t.info.level===e.level)))))),1026&e.$$.dirty&&c(5,g=a.filter((e=>!d.some((t=>t.info.id===e.id))))),256&e.$$.dirty&&(c(2,j=!0),r.then((e=>{c(2,j=!1),c(3,p=e.map((e=>{const t=Object(o.c)(e.geo_value);return function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?E(Object(c),!0).forEach((function(t){A(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):E(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({displayName:t?t.displayName:e.geo_value,info:t},e)})).sort(((e,t)=>e.value!==t.value?e.value<t.value?1:-1:e.displayName.localeCompare(t.displayName))).slice(0,10))})))},[O,d,j,p,h,g,s,l,r,b,a,e=>{e.detail&&l("add",e.detail)},()=>c(0,O=!O),(e,t)=>t.info.id===e.info.id,e=>l("add",e.info),e=>l("add",e)]}class q extends n.b{constructor(e){super(),Object(n.E)(this,e,U,H,n.P,{mapData:8,regionSearchList:9,pickMapMode:0,selections:1})}}var J=q;c(371);function Y(e,t,c){const n=e.slice();return n[43]=t[c],n}function G(e){let t,c,i,a,o;function s(e,t){return e[15]?W:Q}c=new r.a({props:{placeholder:"Search for a location...",items:e[1],selectedItem:e[16],labelFieldName:"displayName",maxItemsToShowInList:"5"}}),c.$on("change",e[26]);let l=s(e),b=l(e);return{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),i=Object(n.V)(),a=Object(n.u)("div"),b.c(),Object(n.g)(t,"class","search-container container-bg container-style svelte-y06a60"),Object(n.g)(a,"class","view-switcher svelte-y06a60")},m(e,s){Object(n.F)(e,t,s),Object(n.I)(c,t,null),Object(n.F)(e,i,s),Object(n.F)(e,a,s),b.m(a,null),o=!0},p(e,t){const n={};2&t[0]&&(n.items=e[1]),65536&t[0]&&(n.selectedItem=e[16]),c.$set(n),l===(l=s(e))&&b?b.p(e,t):(b.d(1),b=l(e),b&&(b.c(),b.m(a,null)))},i(e){o||(Object(n.cb)(c.$$.fragment,e),o=!0)},o(e){Object(n.db)(c.$$.fragment,e),o=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c),e&&Object(n.t)(i),e&&Object(n.t)(a),b.d()}}}function W(e){let t,c,i,a,o,s,l,r;return{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),a=Object(n.V)(),o=Object(n.u)("button"),Object(n.g)(c,"aria-pressed",i=String(e[6])),Object(n.g)(c,"class","uk-button uk-button-default map-button svelte-y06a60"),Object(n.g)(c,"title","Switch to Map"),Object(n.g)(c,"data-uk-icon","icon: blank"),Object(n.bb)(c,"uk-active",e[6]),Object(n.g)(o,"aria-pressed",s=String(!e[6])),Object(n.g)(o,"class","uk-button uk-button-default chart-button svelte-y06a60"),Object(n.g)(o,"title","Switch to Line Charts"),Object(n.g)(o,"data-uk-icon","icon: chart-line"),Object(n.bb)(o,"uk-active",!e[6]),Object(n.g)(t,"class","uk-button-group")},m(i,s){Object(n.F)(i,t,s),Object(n.e)(t,c),Object(n.e)(t,a),Object(n.e)(t,o),l||(r=[Object(n.H)(c,"click",e[28]),Object(n.H)(o,"click",e[29])],l=!0)},p(e,t){64&t[0]&&i!==(i=String(e[6]))&&Object(n.g)(c,"aria-pressed",i),64&t[0]&&Object(n.bb)(c,"uk-active",e[6]),64&t[0]&&s!==(s=String(!e[6]))&&Object(n.g)(o,"aria-pressed",s),64&t[0]&&Object(n.bb)(o,"uk-active",!e[6])},d(e){e&&Object(n.t)(t),l=!1,Object(n.O)(r)}}}function Q(e){let t,c,i,a,o,s;return{c(){t=Object(n.u)("button"),Object(n.g)(t,"aria-pressed",c=String(!e[7])),Object(n.g)(t,"class","uk-button uk-button-default chart-button single-toggle svelte-y06a60"),Object(n.g)(t,"title",i=(e[7]?"Hide":"Show")+" Line Charts panel"),Object(n.g)(t,"data-uk-icon",a="icon: "+(e[7]?"chart-line-ban":"chart-line"))},m(c,i){Object(n.F)(c,t,i),o||(s=Object(n.H)(t,"click",e[27]),o=!0)},p(e,o){128&o[0]&&c!==(c=String(!e[7]))&&Object(n.g)(t,"aria-pressed",c),128&o[0]&&i!==(i=(e[7]?"Hide":"Show")+" Line Charts panel")&&Object(n.g)(t,"title",i),128&o[0]&&a!==(a="icon: "+(e[7]?"chart-line-ban":"chart-line"))&&Object(n.g)(t,"data-uk-icon",a)},d(e){e&&Object(n.t)(t),o=!1,s()}}}function X(e){let t,c,i;return c=new F({props:{sensor:e[4],selections:e[14]}}),c.$on("close",e[36]),{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"class","detail-container container-bg container-style svelte-y06a60")},m(e,a){Object(n.F)(e,t,a),Object(n.I)(c,t,null),i=!0},p(e,t){const n={};16&t[0]&&(n.sensor=e[4]),16384&t[0]&&(n.selections=e[14]),c.$set(n)},i(e){i||(Object(n.cb)(c.$$.fragment,e),i=!0)},o(e){Object(n.db)(c.$$.fragment,e),i=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c)}}}function K(e){let t,c,a,o,s,l,r,b,u,O,d,j,p,h=e[13]?"Exit":"Open";function g(t){e[37].call(null,t)}let m={levels:i.w,selections:e[14]};return void 0!==e[4]&&(m.detail=e[4]),o=new w({props:m}),n.i.push((()=>Object(n.h)(o,"detail",g))),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),a=Object(n.u)("div"),Object(n.n)(o.$$.fragment),l=Object(n.V)(),r=Object(n.u)("div"),b=Object(n.u)("button"),u=Object(n.Z)(h),O=Object(n.Z)("\n          compare mode"),Object(n.g)(a,"class","panel-scroll-container svelte-y06a60"),Object(n.g)(c,"class","panel-wrapper container-bg container-style svelte-y06a60"),Object(n.g)(b,"class","uk-button uk-button-default uk-button-small"),Object(n.g)(r,"class","panel-bottom-wrapper mobileHide svelte-y06a60"),Object(n.g)(t,"class","panel-container svelte-y06a60")},m(i,s){Object(n.F)(i,t,s),Object(n.e)(t,c),Object(n.e)(c,a),Object(n.I)(o,a,null),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(b,u),Object(n.e)(b,O),d=!0,j||(p=Object(n.H)(b,"click",e[38]),j=!0)},p(e,t){const c={};16384&t[0]&&(c.selections=e[14]),!s&&16&t[0]&&(s=!0,c.detail=e[4],Object(n.c)((()=>s=!1))),o.$set(c),(!d||8192&t[0])&&h!==(h=e[13]?"Exit":"Open")&&Object(n.S)(u,h)},i(e){d||(Object(n.cb)(o.$$.fragment,e),d=!0)},o(e){Object(n.db)(o.$$.fragment,e),d=!1},d(e){e&&Object(n.t)(t),Object(n.r)(o),j=!1,p()}}}function ee(e){let t,c,i,a,o,s,l,r=e[14],b=[];for(let t=0;t<r.length;t+=1)b[t]=te(Y(e,r,t));function u(t){e[40].call(null,t)}let O={regionSearchList:e[1],selections:e[14],mapData:e[12]};return void 0!==e[8]&&(O.pickMapMode=e[8]),o=new J({props:O}),n.i.push((()=>Object(n.h)(o,"pickMapMode",u))),o.$on("add",e[41]),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("ul");for(let e=0;e<b.length;e+=1)b[e].c();a=Object(n.V)(),Object(n.n)(o.$$.fragment),Object(n.g)(i,"class","uk-list uk-list-square uk-margin-remove svelte-y06a60"),Object(n.g)(c,"class","selection-container container-bg container-style svelte-y06a60"),Object(n.g)(t,"class","add-container svelte-y06a60")},m(e,s){Object(n.F)(e,t,s),Object(n.e)(t,c),Object(n.e)(c,i);for(let e=0;e<b.length;e+=1)b[e].m(i,null);Object(n.e)(t,a),Object(n.I)(o,t,null),l=!0},p(e,t){if(16384&t[0]){let c;for(r=e[14],c=0;c<r.length;c+=1){const n=Y(e,r,c);b[c]?b[c].p(n,t):(b[c]=te(n),b[c].c(),b[c].m(i,null))}for(;c<b.length;c+=1)b[c].d(1);b.length=r.length}const c={};2&t[0]&&(c.regionSearchList=e[1]),16384&t[0]&&(c.selections=e[14]),4096&t[0]&&(c.mapData=e[12]),!s&&256&t[0]&&(s=!0,c.pickMapMode=e[8],Object(n.c)((()=>s=!1))),o.$set(c)},i(e){l||(Object(n.cb)(o.$$.fragment,e),l=!0)},o(e){Object(n.db)(o.$$.fragment,e),l=!1},d(e){e&&Object(n.t)(t),Object(n.s)(b,e),Object(n.r)(o)}}}function te(e){let t,c,i,a,o,s,l,r,b=e[43].info.displayName+"";function u(){return e[39](e[43])}return{c(){t=Object(n.u)("li"),c=Object(n.u)("button"),i=Object(n.V)(),a=Object(n.u)("span"),o=Object(n.Z)(b),s=Object(n.V)(),Object(n.g)(c,"class","selection-toolbar uk-icon-button uk-icon-button-small svelte-y06a60"),Object(n.g)(c,"data-uk-icon","icon: close; ratio: 0.8"),Object(n.g)(c,"title","Remove selected"),Object(n.g)(t,"class","selection-legend svelte-y06a60"),Object(n.U)(t,"color",e[43].color)},m(e,b){Object(n.F)(e,t,b),Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(t,a),Object(n.e)(a,o),Object(n.e)(t,s),l||(r=Object(n.H)(c,"click",u),l=!0)},p(c,i){e=c,16384&i[0]&&b!==(b=e[43].info.displayName+"")&&Object(n.S)(o,b),16384&i[0]&&Object(n.U)(t,"color",e[43].color)},d(e){e&&Object(n.t)(t),l=!1,r()}}}function ce(e){let t,c,a,o,r,b,u,O,d,j,p,h;c=new l.a({props:{className:"options-container",levels:i.w}});let g=!e[13]&&G(e);b=new R.a({props:{map:e[3],mapLoading:e[5],legendLoading:e[5],zoom:e[9],summary:{data:e[12],level:e[2],items:e[1]}}});let m={data:e[12],sensor:e[17],level:e[2],signalOptions:e[18],selections:e[14],focusOn:e[10],encoding:e[11],wrapperClass:e[0],title:e[19]};O=new s.a({props:m}),e[30](O),O.$on("loading",e[31]),O.$on("ready",e[32]),O.$on("zoom",e[33]),O.$on("updatedEncoding",e[34]),O.$on("select",e[35]);let f=null!=e[4]&&!e[15]&&e[7]&&X(e),v=(e[15]&&!e[6]||!e[15]&&e[7])&&K(e),y=e[13]&&ee(e);return{c(){t=Object(n.u)("main"),Object(n.n)(c.$$.fragment),a=Object(n.V)(),g&&g.c(),o=Object(n.V)(),r=Object(n.u)("div"),Object(n.n)(b.$$.fragment),u=Object(n.V)(),Object(n.n)(O.$$.fragment),d=Object(n.V)(),f&&f.c(),j=Object(n.V)(),v&&v.c(),p=Object(n.V)(),y&&y.c(),Object(n.g)(r,"class","map-container svelte-y06a60"),Object(n.bb)(r,"mobileHide",!e[6]),Object(n.bb)(r,"pick",e[8]),Object(n.g)(t,"class","root base-font-size svelte-y06a60"),Object(n.bb)(t,"hiddenPanel",!e[15]&&!e[7]),Object(n.bb)(t,"compare",e[13])},m(e,i){Object(n.F)(e,t,i),Object(n.I)(c,t,null),Object(n.e)(t,a),g&&g.m(t,null),Object(n.e)(t,o),Object(n.e)(t,r),Object(n.I)(b,r,null),Object(n.e)(r,u),Object(n.I)(O,r,null),Object(n.e)(r,d),f&&f.m(r,null),Object(n.e)(t,j),v&&v.m(t,null),Object(n.e)(t,p),y&&y.m(t,null),h=!0},p(e,c){e[13]?g&&(Object(n.B)(),Object(n.db)(g,1,1,(()=>{g=null})),Object(n.k)()):g?(g.p(e,c),8192&c[0]&&Object(n.cb)(g,1)):(g=G(e),g.c(),Object(n.cb)(g,1),g.m(t,o));const i={};8&c[0]&&(i.map=e[3]),32&c[0]&&(i.mapLoading=e[5]),32&c[0]&&(i.legendLoading=e[5]),512&c[0]&&(i.zoom=e[9]),4102&c[0]&&(i.summary={data:e[12],level:e[2],items:e[1]}),b.$set(i);const a={};4096&c[0]&&(a.data=e[12]),131072&c[0]&&(a.sensor=e[17]),4&c[0]&&(a.level=e[2]),262144&c[0]&&(a.signalOptions=e[18]),16384&c[0]&&(a.selections=e[14]),1024&c[0]&&(a.focusOn=e[10]),2048&c[0]&&(a.encoding=e[11]),1&c[0]&&(a.wrapperClass=e[0]),524288&c[0]&&(a.title=e[19]),O.$set(a),null!=e[4]&&!e[15]&&e[7]?f?(f.p(e,c),32912&c[0]&&Object(n.cb)(f,1)):(f=X(e),f.c(),Object(n.cb)(f,1),f.m(r,null)):f&&(Object(n.B)(),Object(n.db)(f,1,1,(()=>{f=null})),Object(n.k)()),64&c[0]&&Object(n.bb)(r,"mobileHide",!e[6]),256&c[0]&&Object(n.bb)(r,"pick",e[8]),e[15]&&!e[6]||!e[15]&&e[7]?v?(v.p(e,c),32960&c[0]&&Object(n.cb)(v,1)):(v=K(e),v.c(),Object(n.cb)(v,1),v.m(t,p)):v&&(Object(n.B)(),Object(n.db)(v,1,1,(()=>{v=null})),Object(n.k)()),e[13]?y?(y.p(e,c),8192&c[0]&&Object(n.cb)(y,1)):(y=ee(e),y.c(),Object(n.cb)(y,1),y.m(t,null)):y&&(Object(n.B)(),Object(n.db)(y,1,1,(()=>{y=null})),Object(n.k)()),32896&c[0]&&Object(n.bb)(t,"hiddenPanel",!e[15]&&!e[7]),8192&c[0]&&Object(n.bb)(t,"compare",e[13])},i(e){h||(Object(n.cb)(c.$$.fragment,e),Object(n.cb)(g),Object(n.cb)(b.$$.fragment,e),Object(n.cb)(O.$$.fragment,e),Object(n.cb)(f),Object(n.cb)(v),Object(n.cb)(y),h=!0)},o(e){Object(n.db)(c.$$.fragment,e),Object(n.db)(g),Object(n.db)(b.$$.fragment,e),Object(n.db)(O.$$.fragment,e),Object(n.db)(f),Object(n.db)(v),Object(n.db)(y),h=!1},d(i){i&&Object(n.t)(t),Object(n.r)(c),g&&g.d(),Object(n.r)(b),e[30](null),Object(n.r)(O),f&&f.d(),v&&v.d(),y&&y.d()}}}function ne(e,t,c){let s,l,r,u,O,d,j,p,h,g,m,f;Object(n.l)(e,i.n,(e=>c(42,s=e))),Object(n.l)(e,i.s,(e=>c(11,l=e))),Object(n.l)(e,i.k,(e=>c(2,r=e))),Object(n.l)(e,i.q,(e=>c(22,u=e))),Object(n.l)(e,i.i,(e=>c(23,O=e))),Object(n.l)(e,i.g,(e=>c(24,d=e))),Object(n.l)(e,i.m,(e=>c(25,j=e))),Object(n.l)(e,i.v,(e=>c(15,p=e))),Object(n.l)(e,i.o,(e=>c(16,h=e))),Object(n.l)(e,i.p,(e=>c(17,g=e))),Object(n.l)(e,i.C,(e=>c(18,m=e))),Object(n.l)(e,i.r,(e=>c(19,f=e)));let v,{wrapperClass:y=a.a}=t,{regionSearchList:_=o.e}=t;function $(){s||v.selectRandom()}function k(e){e&&(e.scale&&i.e.set(e.scale),i.f.set(e.stops),"bubble"===l&&e.custom&&i.d.set(e.custom),"spike"===l&&e.custom&&i.E.set(e.custom))}let w=null,S=!0,V=!0,P=!0,L=!1,C=1,z=null;let M,D,F;return e.$$set=e=>{"wrapperClass"in e&&c(0,y=e.wrapperClass),"regionSearchList"in e&&c(1,_=e.regionSearchList)},e.$$.update=()=>{4&e.$$.dirty[0]&&(i.w.find((e=>e.id===r))||i.k.set(i.w[0].id)),12582916&e.$$.dirty[0]&&c(12,M=Object(x.b)(u,r,O,{stderr:null})),16777216&e.$$.dirty[0]&&c(13,D=null!=d),33554432&e.$$.dirty[0]&&c(14,F=j)},[y,_,r,v,w,S,V,P,L,C,z,l,M,D,F,p,h,g,m,f,$,k,u,O,d,j,e=>{Object(i.A)(e.detail)&&c(10,z=e.detail||null),Object(b.a)("search","select",e.detail?e.detail.id:"")},()=>{Object(b.a)("overview","show-panel",String(!P)),c(7,P=!P)},()=>{Object(b.a)("overview","show-map","true"),c(6,V=!0)},()=>{Object(b.a)("overview","show-map","false"),c(6,V=!1)},function(e){n.i[e?"unshift":"push"]((()=>{v=e,c(3,v)}))},e=>c(5,S=e.detail),()=>$(),e=>c(9,C=e.detail),e=>k(e.detail),e=>{if(null!=z&&c(10,z=null),L){const t=Object(o.c)(e.detail.feature.properties.id);Object(i.b)(t),c(8,L=!1)}else Object(i.z)(e.detail.feature,!0),e.detail.feature&&Object(b.a)("map","select",e.detail.feature.id)},()=>c(4,w=null),function(e){w=e,c(4,w)},()=>i.g.set(D?null:[]),e=>Object(i.y)(e.info),function(e){L=e,c(8,L)},e=>Object(i.b)(e.detail)]}class ie extends n.b{constructor(e){super(),Object(n.E)(this,e,ne,ce,n.P,{wrapperClass:0,regionSearchList:1},[-1,-1])}}t.default=ie}}]);