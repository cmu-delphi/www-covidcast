(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{396:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(461),o=c(453),i=c(3),s=c(376),r=c(160),l=c(377),b=c.n(l),u=(c(378),c(211));c(379);function O(e){let t,c;return{c(){t=Object(n.Z)("svg"),c=Object(n.Z)("path"),Object(n.h)(c,"d","M140 52v408l320-204L140 52z"),Object(n.h)(t,"xmlns","http://www.w3.org/2000/svg"),Object(n.h)(t,"viewBox","0 0 512 512"),Object(n.h)(t,"class","svelte-c8tyih")},m(e,a){Object(n.G)(e,t,a),Object(n.f)(t,c)},i:n.K,o:n.K,d(e){e&&Object(n.u)(t)}}}function j(e){let t,c;return t=new s.a({}),{c(){Object(n.o)(t.$$.fragment)},m(e,a){Object(n.J)(t,e,a),c=!0},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.s)(t,e)}}}function h(e){let t,c,a,o,i,s,r,l,b,u,h,d;const p=[j,O],f=[];function m(e,t){return e[1]?0:1}return a=m(e),o=f[a]=p[a](e),{c(){t=Object(n.v)("div"),c=Object(n.v)("button"),o.c(),r=Object(n.W)(),l=Object(n.v)("div"),Object(n.h)(c,"aria-pressed",i=e[1]?"true":"false"),Object(n.h)(c,"title",s=e[1]?"Stop timeline to a specific date":"Play timeline to see how data changes over time"),Object(n.h)(c,"class","play-button svelte-h77nbq"),Object(n.h)(l,"class","slider svelte-h77nbq"),Object(n.h)(t,"class",b="player container-bg container-style base-font-size "+e[0]+" svelte-h77nbq")},m(o,i){Object(n.G)(o,t,i),Object(n.f)(t,c),f[a].m(c,null),e[9](c),Object(n.f)(t,r),Object(n.f)(t,l),e[10](l),u=!0,h||(d=[Object(n.I)(window,"keydown",e[5]),Object(n.I)(c,"click",e[4])],h=!0)},p(e,[r]){let l=a;a=m(e),a!==l&&(Object(n.C)(),Object(n.eb)(f[l],1,1,()=>{f[l]=null}),Object(n.l)(),o=f[a],o||(o=f[a]=p[a](e),o.c()),Object(n.db)(o,1),o.m(c,null)),(!u||2&r&&i!==(i=e[1]?"true":"false"))&&Object(n.h)(c,"aria-pressed",i),(!u||2&r&&s!==(s=e[1]?"Stop timeline to a specific date":"Play timeline to see how data changes over time"))&&Object(n.h)(c,"title",s),(!u||1&r&&b!==(b="player container-bg container-style base-font-size "+e[0]+" svelte-h77nbq"))&&Object(n.h)(t,"class",b)},i(e){u||(Object(n.db)(o),u=!0)},o(e){Object(n.eb)(o),u=!1},d(c){c&&Object(n.u)(t),f[a].d(),e[9](null),e[10](null),h=!1,Object(n.P)(d)}}}function d(e,t,c){let{className:a=""}=t;const o=864e5,i=Object(r.b)(),s=Object(u.a)("%m/%d"),l=Object(u.a)("%x");let{running:O=!1}=t,{value:j=new Date}=t,{min:h=new Date}=t,{max:d=new Date}=t,p=null;function f(){i("toggle",!O)}function m(e){return Math.floor(e.getTime())/o}function g(e){return new Date(e*o)}let v=null,y=null;const _={to:e=>l(g(e)),from:e=>Number.parseInt(e,10)},$={to:e=>{const t=g(e);return t.getTime()===h.getTime()||t.getTime()===d.getTime()?l(t):s(t)},from:e=>Number.parseInt(e,10)};return Object(r.d)(()=>{c(11,y=b.a.create(v,{step:1,tooltips:[_],connect:"lower",range:{min:m(h),max:m(d)},start:m(j),pips:{mode:"positions",values:[0,25,50,75,100],density:4,format:$},ariaFormat:_})),y.on("change",e=>{i("change",g(Number.parseInt(e[0],10)))})}),Object(r.c)(()=>{y&&(y.destroy(),c(11,y=null))}),e.$$set=e=>{"className"in e&&c(0,a=e.className),"running"in e&&c(1,O=e.running),"value"in e&&c(6,j=e.value),"min"in e&&c(7,h=e.min),"max"in e&&c(8,d=e.max)},e.$$.update=()=>{if(2112&e.$$.dirty){const e=m(j);y&&y.set(e)}384&e.$$.dirty&&function(e,t){if(!y)return;const c=m(e),n=m(t);y.updateOptions({range:{min:c,max:n},start:m(j)},!1)}(h,d)},[a,O,p,v,f,function(e){" "===e.key&&e.target!==p&&f()},j,h,d,function(e){n.j[e?"unshift":"push"](()=>{p=e,c(2,p)})},function(e){n.j[e?"unshift":"push"](()=>{v=e,c(3,v)})}]}class p extends n.b{constructor(e){super(),Object(n.F)(this,e,d,h,n.Q,{className:0,running:1,value:6,min:7,max:8})}}var f=p,m=c(83),g=c(161),v=c(162),y=c(118),_=c(462),$=c(463);c(380);function w(e){let t,c,i,s,r,l,b,u,O,j;c=new o.a({props:{showDate:!1,className:"options-container"}}),s=new f({props:{className:"player-container",running:e[1],value:e[10],max:e[8],min:e[7]}}),s.$on("toggle",e[16]),s.$on("change",e[18]),b=new $.a({props:{map:e[0],mapLoading:e[1]||e[2],legendLoading:!1,zoom:e[5],showDate:!0}});let h={data:e[4],sensor:e[12],level:e[9],signalType:e[13],encoding:e[6],signalOptions:e[11],wrapperClass:_.a,title:e[14]};return O=new a.a({props:h}),e[19](O),O.$on("loading",e[20]),O.$on("zoom",e[21]),O.$on("updatedEncoding",e[22]),{c(){t=Object(n.v)("main"),Object(n.o)(c.$$.fragment),i=Object(n.W)(),Object(n.o)(s.$$.fragment),r=Object(n.W)(),l=Object(n.v)("div"),Object(n.o)(b.$$.fragment),u=Object(n.W)(),Object(n.o)(O.$$.fragment),Object(n.h)(l,"class","map-container svelte-1p5mvls"),Object(n.h)(t,"class","root svelte-1p5mvls")},m(e,a){Object(n.G)(e,t,a),Object(n.J)(c,t,null),Object(n.f)(t,i),Object(n.J)(s,t,null),Object(n.f)(t,r),Object(n.f)(t,l),Object(n.J)(b,l,null),Object(n.f)(l,u),Object(n.J)(O,l,null),j=!0},p(e,t){const c={};2&t[0]&&(c.running=e[1]),1024&t[0]&&(c.value=e[10]),256&t[0]&&(c.max=e[8]),128&t[0]&&(c.min=e[7]),s.$set(c);const n={};1&t[0]&&(n.map=e[0]),6&t[0]&&(n.mapLoading=e[1]||e[2]),32&t[0]&&(n.zoom=e[5]),b.$set(n);const a={};16&t[0]&&(a.data=e[4]),4096&t[0]&&(a.sensor=e[12]),512&t[0]&&(a.level=e[9]),8192&t[0]&&(a.signalType=e[13]),64&t[0]&&(a.encoding=e[6]),2048&t[0]&&(a.signalOptions=e[11]),16384&t[0]&&(a.title=e[14]),O.$set(a)},i(e){j||(Object(n.db)(c.$$.fragment,e),Object(n.db)(s.$$.fragment,e),Object(n.db)(b.$$.fragment,e),Object(n.db)(O.$$.fragment,e),j=!0)},o(e){Object(n.eb)(c.$$.fragment,e),Object(n.eb)(s.$$.fragment,e),Object(n.eb)(b.$$.fragment,e),Object(n.eb)(O.$$.fragment,e),j=!1},d(a){a&&Object(n.u)(t),Object(n.s)(c),Object(n.s)(s),Object(n.s)(b),e[19](null),Object(n.s)(O)}}}function x(e,t,c){let a,o,s,l,b,u,O,j,h,d;function p(e){e&&(e.scale&&i.e.set(e.scale),i.f.set(e.stops),"bubble"===a&&e.custom&&i.d.set(e.custom),"spike"===a&&e.custom&&i.H.set(e.custom))}Object(n.m)(e,i.s,e=>c(6,a=e)),Object(n.m)(e,i.J,e=>c(25,o=e)),Object(n.m)(e,i.q,e=>c(26,s=e)),Object(n.m)(e,i.k,e=>c(9,l=e)),Object(n.m)(e,i.i,e=>c(10,b=e)),Object(n.m)(e,i.E,e=>c(11,u=e)),Object(n.m)(e,i.p,e=>c(12,O=e)),Object(n.m)(e,i.F,e=>c(13,j=e)),Object(n.m)(e,i.r,e=>c(14,h=e));let f=3;const _=new Map;let $=-1,w=!1,x=!0,S=()=>{},L=Promise.resolve([]);function M(e){const t="".concat(e,"-").concat(s.key,"-").concat(l);if(_.has(t)){const e=_.get(t);return _.delete(e),e}return Object(v.b)(s,l,e,{stderr:null})}function k(e,t=!1){if($=-1,!t)return c(1,w=!1),c(4,L=M(e)),void L.then(()=>{i.h.set(Object(g.d)(e))});const n=m.a.offset(e,1);!function(e){let t=m.a.offset(e,f);t>V&&(t=V);const c=m.a.range(m.a.floor(e),t);for(const e of c){const t="".concat(e,"-").concat(s.key,"-").concat(l);_.has(t)||_.set(t,Object(v.b)(s,l,e,{stderr:null}))}}(e);const a=new Promise(e=>c(3,S=e)),o=Date.now();c(4,L=M(e)),L.then(()=>{i.h.set(Object(g.d)(e))}),a.then(()=>{if(!w)return;const e=Date.now()-o;e>250&&f<7&&f++,$=setTimeout(()=>{k(n,n<V)},Math.max(0,250-e))})}function R(){if(c(1,w=!w),!w)return Object(y.a)("player","stop"),$>=0&&(clearTimeout($),$=-1),void _.clear();Object(y.a)("player","start"),V.getTime()===b.getTime()?k(C,!0):k(m.a.offset(b,1),!0)}function P(e){w&&R(),Object(y.a)("player","jump",e.toString()),k(e,!1)}Object(r.d)(()=>{k(b,!1)});let z=1;let C,V;return e.$$.update=()=>{100663296&e.$$.dirty[0]&&c(7,C=null!=o&&o.has(s.key)?Object(g.f)(o.get(s.key)[0]):new Date(2020,1,1)),100663296&e.$$.dirty[0]&&c(8,V=null!=o&&o.has(s.key)?Object(g.f)(o.get(s.key)[1]):new Date(2020,8,1)),67111424&e.$$.dirty[0]&&(w&&R(),k(b,!1))},[d,w,x,S,L,z,a,C,V,l,b,u,O,j,h,p,R,P,e=>P(e.detail),function(e){n.j[e?"unshift":"push"](()=>{d=e,c(0,d)})},e=>{c(2,x=e.detail),e.detail||S()},e=>c(5,z=e.detail),e=>p(e.detail)]}class S extends n.b{constructor(e){super(),Object(n.F)(this,e,x,w,n.Q,{},[-1,-1])}}t.default=S},450:function(e,t,c){"use strict";c.d(t,"c",(function(){return i})),c.d(t,"g",(function(){return s})),c.d(t,"e",(function(){return r})),c.d(t,"a",(function(){return l})),c.d(t,"d",(function(){return O})),c.d(t,"f",(function(){return j})),c.d(t,"b",(function(){return h}));var n=c(16),a=c(344),o=c(121);function i(e){return Object(n.f)(e).l>.32?"#000":"#fff"}function s(e,t){return e.map((e,c)=>[e,t[c]])}function r(e,t){return Array.isArray(e)?e.map(e=>{const c=Object(n.g)(e);return c.opacity=t,c.toString()}):r([e],t)[0]}function l(e,t,c,n){null==n&&(n=c-t);const a={start:e-n/2,end:e.getTime()+n/2};let o=t-a.start;return o<=0&&(o=c-a.end,o>=0&&(o=0)),a.start=a.start+o,a.end=a.end+o,a}const b=new WeakMap,u=new a.a(e=>{for(const t of e){const e=b.get(t.target);e&&e(t.contentRect,t)}});function O(e,t){b.set(e,t),u.observe(e)}function j(e){b.delete(e),u.unobserve(e)}const h=Object(o.a)(()=>{window.dispatchEvent(new Event("resize"))},100,{leading:!1,trailing:!0})},451:function(e,t,c){"use strict";c.d(t,"b",(function(){return O})),c.d(t,"a",(function(){return j})),c.d(t,"c",(function(){return d}));var n=c(71),a=c(346),o=c.n(a),i=c(61),s=c(450),r=c(452),l=c(6);const b={min:0,max:100,mean:50,std:10};function u(e,t){if(!e||!e.has(t))return b;const c=e.get(t);return[c.max,c.std,c.mean].some(e=>null==e||Number.isNaN(e))?(console.warn("invalid stats detected for",t),b):c}function O(e,t,c,n,a=!1){let o=t.key;if("count"===t.getType(n)){o+="_".concat(c),t.isCasesOrDeath&&(o+="_".concat(Object(l.i)(t,n)));const i=u(e,o);return a?[0,i.max]:[Math.max(.14,i.mean-3*i.std),i.mean+3*i.std]}t.isCasesOrDeath&&(o+="_".concat(Object(l.i)(t,n)));const i=u(e,o);return a?[0,i.max]:[Math.max(0,i.mean-3*i.std),i.mean+3*i.std]}function j(e,t,c,a){return"value"===t?function(e,t,c){if("count"===c)return function(e,t){const c=Object(n.c)(t.colorScale).domain(e),a=o()(Math.log10(e[0]),Math.log10(e[1]),7),i=a.map(e=>c(e).toString());return{stops:Object(s.g)(a,i),scale:c}}(e,t);if("prop"===c)return function(e,t){const c=Math.max(e[0],0),a=Math.max(c+.01,e[1]),o=c+(a-c)/2,i=c+(o-c)/2,r=o+(a-o)/2,l=Object(n.b)(t.colorScale).domain(e),b=[c,i,o,r,a],u=b.map(e=>l(e).toString());return{stops:Object(s.g)(b,u),scale:l}}(e,t);return function(e,t){const c=e[0]+(e[1]-e[0])/2,a=e[0]+(c-e[0])/2,o=c+(e[1]-c)/2,i=Object(n.b)(t.colorScale).domain(e),r=[e[0],a,c,o,e[1]],l=r.map(e=>i(e).toString());return{stops:Object(s.g)(r,l),scale:i}}(e,t)}(e,c,a):function(){const e=[[r.a,i.e],[-1,i.a.decreasing],[0,i.a.steady],[1,i.a.increasing]],t=[[r.a,i.e],[-1,i.a.gradientMinMega],[0,i.a.gradientMiddleMega],[1,i.a.gradientMaxMega]];return{stops:e,stopsMega:t}}()}function h(e,t,c){const n=[e],a=(t-e)/c;for(let e=1;e<c;e++)n.push(n[e-1]+a);return n.push(t),n}function d(e,t,c,n,a,s=!1){const r=e?O(e,t,c,a):null;if(!r)return{labels:[],high:"",valueMinMax:[0,0]};const l=function(e,t,c,n){const a=n?5:7;if("count"===e.getType(t)){const e=Math.log10(Math.max(.01,c[0])),t=Math.log10(Math.max(.1,c[1]));return o()(e,t,a)}return"raw"===e.format?(c[0]=Math.max(0,c[0]),h(c[0],c[1],a)):(c[0]=Math.max(0,c[0]),c[1]=Math.min(100,c[1]),h(c[0],c[1],a))}(t,a,r,s);return{low:t.formatValue(0),lowValue:0,lowColor:i.f,labels:l.slice(0,-1).map((e,c)=>({label:t.formatValue(e),value:e,color:n(e),nextColor:n(l[c+1])})),high:"".concat(t.formatValue(r[1]),"+"),highValue:r[1],highColor:n(r[1]),valueMinMax:r}}},452:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return o}));var n=c(61);const a=-100;function o(e){return["case",["==",["to-number",["feature-state","value"],a],a],n.e,["==",["to-number",["feature-state","value"],a],0],n.f,["interpolate",["linear"],["to-number",["feature-state","value"],0],...e.flat()]]}},453:function(e,t,c){"use strict";var n=c(1),a=c(3),o=c(458),i=c(211),s=c(83),r=c(161),l=c(337),b=c(338),u=c(339);c(340);function O(e,t,c){const n=e.slice();return n[22]=t[c],n}function j(e,t,c){const n=e.slice();return n[28]=t[c],n}function h(e,t,c){const n=e.slice();return n[25]=t[c],n}function d(e){let t,c,a,o,i,s=e[28].name+"";return{c(){t=Object(n.v)("option"),c=Object(n.ab)(s),a=Object(n.W)(),Object(n.h)(t,"title",o="function"==typeof e[28].tooltipText?e[28].tooltipText():e[28].tooltipText),t.__value=i=e[28].key,t.value=t.__value},m(e,o){Object(n.G)(e,t,o),Object(n.f)(t,c),Object(n.f)(t,a)},p(e,a){128&a[0]&&s!==(s=e[28].name+"")&&Object(n.T)(c,s),128&a[0]&&o!==(o="function"==typeof e[28].tooltipText?e[28].tooltipText():e[28].tooltipText)&&Object(n.h)(t,"title",o),128&a[0]&&i!==(i=e[28].key)&&(t.__value=i,t.value=t.__value)},d(e){e&&Object(n.u)(t)}}}function p(e){let t,c,a=e[25].sensors,o=[];for(let t=0;t<a.length;t+=1)o[t]=d(j(e,a,t));return{c(){t=Object(n.v)("optgroup");for(let e=0;e<o.length;e+=1)o[e].c();Object(n.h)(t,"label",c=e[25].label)},m(e,c){Object(n.G)(e,t,c);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(128&i[0]){let c;for(a=e[25].sensors,c=0;c<a.length;c+=1){const n=j(e,a,c);o[c]?o[c].p(n,i):(o[c]=d(n),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}128&i[0]&&c!==(c=e[25].label)&&Object(n.h)(t,"label",c)},d(e){e&&Object(n.u)(t),Object(n.t)(o,e)}}}function f(e){let t,c,a,o,i=e[22].labelPlural+"";return{c(){t=Object(n.v)("option"),c=Object(n.ab)(i),t.__value=a=e[22].id,t.value=t.__value,t.disabled=o=!e[9].levels.includes(e[22].id)},m(e,a){Object(n.G)(e,t,a),Object(n.f)(t,c)},p(e,s){1&s[0]&&i!==(i=e[22].labelPlural+"")&&Object(n.T)(c,i),1&s[0]&&a!==(a=e[22].id)&&(t.__value=a,t.value=t.__value),513&s[0]&&o!==(o=!e[9].levels.includes(e[22].id))&&(t.disabled=o)},d(e){e&&Object(n.u)(t)}}}function m(e){let t,c,a,o,i,s,r,O,j,h,d,p,f,m,y,_,$,w,x,S,L,M;const k=[v,g],R=[];function P(e,t){return null!=e[4]&&0!==e[5].length?0:1}return o=P(e),i=R[o]=k[o](e),j=new b.a({}),f=new l.a({}),w=new u.a({}),{c(){t=Object(n.v)("div"),c=Object(n.v)("span"),c.textContent="on",a=Object(n.W)(),i.c(),s=Object(n.W)(),r=Object(n.v)("div"),O=Object(n.v)("button"),Object(n.o)(j.$$.fragment),d=Object(n.W)(),p=Object(n.v)("button"),Object(n.o)(f.$$.fragment),_=Object(n.W)(),$=Object(n.v)("button"),Object(n.o)(w.$$.fragment),Object(n.h)(c,"class","option-title svelte-1jjcvfp"),Object(n.h)(O,"class","pg-button"),O.disabled=h=null==e[4]||0===e[5].length||e[4]<=e[5][0],Object(n.h)(O,"title","Go to the previous day"),Object(n.h)(p,"class","pg-button"),p.disabled=m=null==e[4]||0===e[5].length||e[4].valueOf()===e[5][1].valueOf(),Object(n.h)(p,"title",y="Go to the latest date for which '"+e[9].name+"' is available"),Object(n.h)($,"class","pg-button"),$.disabled=x=null==e[4]||0===e[5].length||e[4]>=e[5][1],Object(n.h)($,"title","Go to the next day"),Object(n.h)(r,"class","shortcuts pg-button-group svelte-1jjcvfp"),Object(n.h)(t,"class","option-wrapper svelte-1jjcvfp")},m(i,l){Object(n.G)(i,t,l),Object(n.f)(t,c),Object(n.f)(t,a),R[o].m(t,null),Object(n.f)(t,s),Object(n.f)(t,r),Object(n.f)(r,O),Object(n.J)(j,O,null),Object(n.f)(r,d),Object(n.f)(r,p),Object(n.J)(f,p,null),Object(n.f)(r,_),Object(n.f)(r,$),Object(n.J)(w,$,null),S=!0,L||(M=[Object(n.I)(O,"click",e[15]),Object(n.I)(p,"click",e[16]),Object(n.I)($,"click",e[17])],L=!0)},p(e,c){let a=o;o=P(e),o===a?R[o].p(e,c):(Object(n.C)(),Object(n.eb)(R[a],1,1,()=>{R[a]=null}),Object(n.l)(),i=R[o],i||(i=R[o]=k[o](e),i.c()),Object(n.db)(i,1),i.m(t,s)),(!S||48&c[0]&&h!==(h=null==e[4]||0===e[5].length||e[4]<=e[5][0]))&&(O.disabled=h),(!S||48&c[0]&&m!==(m=null==e[4]||0===e[5].length||e[4].valueOf()===e[5][1].valueOf()))&&(p.disabled=m),(!S||512&c[0]&&y!==(y="Go to the latest date for which '"+e[9].name+"' is available"))&&Object(n.h)(p,"title",y),(!S||48&c[0]&&x!==(x=null==e[4]||0===e[5].length||e[4]>=e[5][1]))&&($.disabled=x)},i(e){S||(Object(n.db)(i),Object(n.db)(j.$$.fragment,e),Object(n.db)(f.$$.fragment,e),Object(n.db)(w.$$.fragment,e),S=!0)},o(e){Object(n.eb)(i),Object(n.eb)(j.$$.fragment,e),Object(n.eb)(f.$$.fragment,e),Object(n.eb)(w.$$.fragment,e),S=!1},d(e){e&&Object(n.u)(t),R[o].d(),Object(n.s)(j),Object(n.s)(f),Object(n.s)(w),L=!1,Object(n.P)(M)}}}function g(e){let t,c,a,o,i=e[3](e[4])+"";return{c(){t=Object(n.v)("button"),c=Object(n.ab)(i),Object(n.h)(t,"aria-label","selected date"),Object(n.h)(t,"class","calendar base-font-size svelte-1jjcvfp")},m(i,s){Object(n.G)(i,t,s),Object(n.f)(t,c),a||(o=Object(n.I)(t,"",e[11]),a=!0)},p(e,t){24&t[0]&&i!==(i=e[3](e[4])+"")&&Object(n.T)(c,i)},i:n.K,o:n.K,d(e){e&&Object(n.u)(t),a=!1,o()}}}function v(e){let t,c,a;function i(t){e[14].call(null,t)}let s={start:e[5][0],end:e[5][1],formattedSelected:e[3](e[4]),$$slots:{default:[y]},$$scope:{ctx:e}};return void 0!==e[4]&&(s.selected=e[4]),t=new o.a({props:s}),n.j.push(()=>Object(n.i)(t,"selected",i)),{c(){Object(n.o)(t.$$.fragment)},m(e,c){Object(n.J)(t,e,c),a=!0},p(e,a){const o={};32&a[0]&&(o.start=e[5][0]),32&a[0]&&(o.end=e[5][1]),24&a[0]&&(o.formattedSelected=e[3](e[4])),24&a[0]|1&a[1]&&(o.$$scope={dirty:a,ctx:e}),!c&&16&a[0]&&(c=!0,o.selected=e[4],Object(n.c)(()=>c=!1)),t.$set(o)},i(e){a||(Object(n.db)(t.$$.fragment,e),a=!0)},o(e){Object(n.eb)(t.$$.fragment,e),a=!1},d(e){Object(n.s)(t,e)}}}function y(e){let t,c,a,o,i=e[3](e[4])+"";return{c(){t=Object(n.v)("button"),c=Object(n.ab)(i),Object(n.h)(t,"aria-label","selected date"),Object(n.h)(t,"class","calendar base-font-size svelte-1jjcvfp")},m(i,s){Object(n.G)(i,t,s),Object(n.f)(t,c),a||(o=Object(n.I)(t,"",e[10]),a=!0)},p(e,t){24&t[0]&&i!==(i=e[3](e[4])+"")&&Object(n.T)(c,i)},d(e){e&&Object(n.u)(t),a=!1,o()}}}function _(e){let t,c,a,o,i,s,r,l,b,u,j,d,g,v,y,_=e[7],$=[];for(let t=0;t<_.length;t+=1)$[t]=p(h(e,_,t));let w=e[0],x=[];for(let t=0;t<w.length;t+=1)x[t]=f(O(e,w,t));let S=e[2]&&m(e);return{c(){t=Object(n.v)("div"),c=Object(n.v)("div"),a=Object(n.v)("span"),a.textContent="Displaying",o=Object(n.W)(),i=Object(n.v)("select");for(let e=0;e<$.length;e+=1)$[e].c();s=Object(n.W)(),r=Object(n.v)("div"),l=Object(n.v)("span"),l.textContent="for",b=Object(n.W)(),u=Object(n.v)("select");for(let e=0;e<x.length;e+=1)x[e].c();j=Object(n.W)(),S&&S.c(),Object(n.h)(a,"class","option-title svelte-1jjcvfp"),Object(n.h)(i,"id","option-indicator"),Object(n.h)(i,"aria-label","indicator options"),Object(n.h)(i,"class","indicators base-font-size svelte-1jjcvfp"),void 0===e[6]&&Object(n.d)(()=>e[12].call(i)),Object(n.h)(c,"class","option-wrapper svelte-1jjcvfp"),Object(n.h)(l,"class","option-title svelte-1jjcvfp"),Object(n.h)(u,"id","option-geo-level"),Object(n.h)(u,"aria-label","geographic level"),Object(n.h)(u,"class","geo-level base-font-size svelte-1jjcvfp"),void 0===e[8]&&Object(n.d)(()=>e[13].call(u)),Object(n.h)(r,"class","option-wrapper svelte-1jjcvfp"),Object(n.h)(t,"class",d="options base-font-size container-bg container-style "+e[1]+" svelte-1jjcvfp")},m(O,h){Object(n.G)(O,t,h),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(c,o),Object(n.f)(c,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);Object(n.R)(i,e[6]),Object(n.f)(t,s),Object(n.f)(t,r),Object(n.f)(r,l),Object(n.f)(r,b),Object(n.f)(r,u);for(let e=0;e<x.length;e+=1)x[e].m(u,null);Object(n.R)(u,e[8]),Object(n.f)(t,j),S&&S.m(t,null),g=!0,v||(y=[Object(n.I)(i,"change",e[12]),Object(n.I)(u,"change",e[13])],v=!0)},p(e,c){if(128&c[0]){let t;for(_=e[7],t=0;t<_.length;t+=1){const n=h(e,_,t);$[t]?$[t].p(n,c):($[t]=p(n),$[t].c(),$[t].m(i,null))}for(;t<$.length;t+=1)$[t].d(1);$.length=_.length}if(192&c[0]&&Object(n.R)(i,e[6]),513&c[0]){let t;for(w=e[0],t=0;t<w.length;t+=1){const n=O(e,w,t);x[t]?x[t].p(n,c):(x[t]=f(n),x[t].c(),x[t].m(u,null))}for(;t<x.length;t+=1)x[t].d(1);x.length=w.length}257&c[0]&&Object(n.R)(u,e[8]),e[2]?S?(S.p(e,c),4&c[0]&&Object(n.db)(S,1)):(S=m(e),S.c(),Object(n.db)(S,1),S.m(t,null)):S&&(Object(n.C)(),Object(n.eb)(S,1,1,()=>{S=null}),Object(n.l)()),(!g||2&c[0]&&d!==(d="options base-font-size container-bg container-style "+e[1]+" svelte-1jjcvfp"))&&Object(n.h)(t,"class",d)},i(e){g||(Object(n.db)(S),g=!0)},o(e){Object(n.eb)(S),g=!1},d(e){e&&Object(n.u)(t),Object(n.t)($,e),Object(n.t)(x,e),S&&S.d(),v=!1,Object(n.P)(y)}}}function $(e,t,c){let o,l,b,u,O,j;Object(n.m)(e,a.w,e=>c(18,o=e)),Object(n.m)(e,a.h,e=>c(19,l=e)),Object(n.m)(e,a.J,e=>c(20,b=e)),Object(n.m)(e,a.p,e=>c(6,u=e)),Object(n.m)(e,a.k,e=>c(8,O=e)),Object(n.m)(e,a.q,e=>c(9,j=e));let{levels:h=a.y}=t,{className:d=""}=t,{showDate:p=!0}=t;let f,m,g,v,y;return e.$$set=e=>{"levels"in e&&c(0,h=e.levels),"className"in e&&c(1,d=e.className),"showDate"in e&&c(2,p=e.showDate)},e.$$.update=()=>{if(262144&e.$$.dirty[0]&&c(3,f=o?Object(i.a)("%x"):Object(i.a)("%B %-d, %Y")),524288&e.$$.dirty[0]&&c(4,m=Object(r.f)(l)),1048640&e.$$.dirty[0]&&null!==b){const e=b.get(u);c(5,g=e?e.map(r.f):[])}16&e.$$.dirty[0]&&void 0!==m&&a.h.set(Object(r.d)(m)),1&e.$$.dirty[0]&&c(21,v=new Set(h.map(e=>e.id))),2097152&e.$$.dirty[0]&&c(7,y=a.t.map(e=>({label:e.label,sensors:e.sensors.filter(e=>e.levels.some(e=>v.has(e)))})).filter(e=>e.sensors.length>0))},c(5,g=[]),[h,d,p,f,m,g,u,y,O,j,function(t){Object(n.k)(e,t)},function(t){Object(n.k)(e,t)},function(){u=Object(n.S)(this),a.p.set(u),c(7,y),c(21,v),c(0,h)},function(){O=Object(n.S)(this),a.k.set(O),c(0,h)},function(e){m=e,c(4,m),c(19,l)},()=>c(4,m=s.a.offset(m,-1)),()=>c(4,m=g[1]),()=>c(4,m=s.a.offset(m,1))]}class w extends n.b{constructor(e){super(),Object(n.F)(this,e,$,_,n.Q,{levels:0,className:1,showDate:2},[-1,-1])}}t.a=w},457:function(e,t,c){"use strict";var n=c(1),a=c(3);c(348);function o(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function i(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?o(Object(c),!0).forEach((function(t){s(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function s(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function r(e){let t,c,a,o,i,s,r,l,b,u,O,j,h,d,p,f,m,g,v,y,_;return{c(){t=Object(n.v)("div"),c=Object(n.v)("div"),a=Object(n.v)("button"),o=Object(n.ab)("New"),s=Object(n.W)(),r=Object(n.v)("button"),l=Object(n.ab)("Cumulative"),u=Object(n.W)(),O=Object(n.v)("div"),j=Object(n.v)("button"),h=Object(n.ab)("Counts"),p=Object(n.W)(),f=Object(n.v)("button"),m=Object(n.ab)("Ratios (per 100,000)"),Object(n.h)(a,"aria-pressed",i=String(!e[3].cumulative)),Object(n.h)(a,"class","pg-button button svelte-9gh462"),Object(n.cb)(a,"selected",!e[3].cumulative),Object(n.h)(r,"aria-pressed",b=e[3].cumulative),Object(n.h)(r,"class","pg-button button svelte-9gh462"),Object(n.cb)(r,"selected",e[3].cumulative),Object(n.h)(c,"aria-label","display cumulative or new incidents"),Object(n.h)(c,"class","pg-button-group button-group svelte-9gh462"),Object(n.h)(j,"aria-pressed",d=String(!e[3].ratio)),Object(n.h)(j,"class","pg-button button svelte-9gh462"),Object(n.cb)(j,"selected",!e[3].ratio),Object(n.h)(f,"aria-pressed",g=String(e[3].ratio)),Object(n.h)(f,"class","pg-button button svelte-9gh462"),Object(n.cb)(f,"selected",e[3].ratio),Object(n.h)(O,"aria-label","display counts or ratios per 100,000 people"),Object(n.h)(O,"class","pg-button-group button-group svelte-9gh462"),Object(n.h)(t,"class",v="root "+e[2]+" svelte-9gh462"),Object(n.cb)(t,"center",e[0])},m(i,b){Object(n.G)(i,t,b),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(a,o),Object(n.f)(c,s),Object(n.f)(c,r),Object(n.f)(r,l),Object(n.f)(t,u),Object(n.f)(t,O),Object(n.f)(O,j),Object(n.f)(j,h),Object(n.f)(O,p),Object(n.f)(O,f),Object(n.f)(f,m),y||(_=[Object(n.I)(a,"click",e[4]),Object(n.I)(r,"click",e[5]),Object(n.I)(j,"click",e[6]),Object(n.I)(f,"click",e[7])],y=!0)},p(e,c){8&c&&i!==(i=String(!e[3].cumulative))&&Object(n.h)(a,"aria-pressed",i),8&c&&Object(n.cb)(a,"selected",!e[3].cumulative),8&c&&b!==(b=e[3].cumulative)&&Object(n.h)(r,"aria-pressed",b),8&c&&Object(n.cb)(r,"selected",e[3].cumulative),8&c&&d!==(d=String(!e[3].ratio))&&Object(n.h)(j,"aria-pressed",d),8&c&&Object(n.cb)(j,"selected",!e[3].ratio),8&c&&g!==(g=String(e[3].ratio))&&Object(n.h)(f,"aria-pressed",g),8&c&&Object(n.cb)(f,"selected",e[3].ratio),4&c&&v!==(v="root "+e[2]+" svelte-9gh462")&&Object(n.h)(t,"class",v),5&c&&Object(n.cb)(t,"center",e[0])},d(e){e&&Object(n.u)(t),y=!1,Object(n.P)(_)}}}function l(e){let t,c=e[1].isCasesOrDeath&&r(e);return{c(){c&&c.c(),t=Object(n.w)()},m(e,a){c&&c.m(e,a),Object(n.G)(e,t,a)},p(e,[n]){e[1].isCasesOrDeath?c?c.p(e,n):(c=r(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.K,o:n.K,d(e){c&&c.d(e),e&&Object(n.u)(t)}}}function b(e,t,c){let o,s;Object(n.m)(e,a.q,e=>c(8,o=e)),Object(n.m)(e,a.E,e=>c(3,s=e));let{center:r=!1}=t,{sensor:l=o}=t,{className:b=""}=t;return e.$$set=e=>{"center"in e&&c(0,r=e.center),"sensor"in e&&c(1,l=e.sensor),"className"in e&&c(2,b=e.className)},[r,l,b,s,()=>{s.cumulative&&a.E.set(i(i({},s),{},{cumulative:!1}))},()=>{s.cumulative||a.E.set(i(i({},s),{},{cumulative:!0}))},()=>{s.ratio&&a.E.set(i(i({},s),{},{ratio:!1}))},()=>{s.ratio||a.E.set(i(i({},s),{},{ratio:!0}))}]}class u extends n.b{constructor(e){super(),Object(n.F)(this,e,b,l,n.Q,{center:0,sensor:1,className:2})}}t.a=u},460:function(e){e.exports=JSON.parse('{"version":8,"name":"Albers USA","metadata":{"mapbox:autocomposite":true,"mapbox:type":"template","mapbox:sdk-support":{"js":"1.6.0","android":"8.6.0","ios":"5.6.0"},"mapbox:groups":{},"mapbox:uiParadigm":"layers"},"center":[-1.9392753230472408,-1.4351091963094262],"zoom":4.035119632783768,"bearing":0,"pitch":0,"glyphs":"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf","sources":{},"layers":[]}')},461:function(e,t,c){"use strict";var n=c(1),a=c(160),o=c(3),i=c(451),s=c(6);c(347);function r(e){let t,c,a;return{c(){t=Object(n.v)("div"),Object(n.h)(t,"class","map-wrapper svelte-54x2e1")},m(o,i){Object(n.G)(o,t,i),e[14](t),c||(a=Object(n.I)(window,"resize",e[1]),c=!0)},p:n.K,i:n.K,o:n.K,d(o){o&&Object(n.u)(t),e[14](null),c=!1,a()}}}function l(e,t,c){let r;Object(n.m)(e,o.I,e=>c(17,r=e));let{wrapperClass:l}=t,b=null;const u=Object(a.b)(),O=new l((e,t)=>u(e,t)),j=O.zoom;let{data:h=Promise.resolve([])}=t,{sensor:d=""}=t,{level:p="state"}=t,{encoding:f="color"}=t,{signalType:m="value"}=t,{signalOptions:g={}}=t,{animationDuration:v=0}=t,{title:y=""}=t,{selections:_=[]}=t,$=!1;return Object(a.d)(()=>{c(15,O.animationDuration=v,O),O.initMap(b,y).then(()=>{c(16,$=!0)})}),Object(a.c)(()=>{O.destroy()}),e.$$set=e=>{"wrapperClass"in e&&c(2,l=e.wrapperClass),"data"in e&&c(5,h=e.data),"sensor"in e&&c(6,d=e.sensor),"level"in e&&c(7,p=e.level),"encoding"in e&&c(8,f=e.encoding),"signalType"in e&&c(9,m=e.signalType),"signalOptions"in e&&c(10,g=e.signalOptions),"animationDuration"in e&&c(11,v=e.animationDuration),"title"in e&&c(12,y=e.title),"selections"in e&&c(13,_=e.selections)},e.$$.update=()=>{34016&e.$$.dirty&&O.updateSources(p,h,Object(s.i)(s.l.get(d),g)),198592&e.$$.dirty&&r&&function(e,t,c,n,a,o){const r=s.l.get(c),l=r.getType(o),b=Object(i.b)(a,r,e,o),{stops:j,scale:h}=Object(i.a)(b,n,r,l),d="county"===e,p=O.updateOptions(t,e,n,c,l,b,j,d&&j,h);u("updatedEncoding",{range:"value"===n?b:[-1,1],custom:p,scale:h,stops:j})}(p,f,d,m,r,g),106496&e.$$.dirty&&O.selectMulti(_),36864&e.$$.dirty&&O.setTitle(y)},[b,function(){O.zoom.resized()},l,j,function(){O.selectRandom()},h,d,p,f,m,g,v,y,_,function(e){n.j[e?"unshift":"push"](()=>{b=e,c(0,b)})}]}class b extends n.b{constructor(e){super(),Object(n.F)(this,e,l,r,n.Q,{wrapperClass:2,zoom:3,selectRandom:4,data:5,sensor:6,level:7,encoding:8,signalType:9,signalOptions:10,animationDuration:11,title:12,selections:13})}get zoom(){return this.$$.ctx[3]}get selectRandom(){return this.$$.ctx[4]}}t.a=b},462:function(e,t,c){"use strict";c.d(t,"a",(function(){return ie}));c(336);var n=c(86),a=c(6),o=c(61),i=c(343),s=c.n(i),r=c(334),l=c(452);function b(e){return"".concat(e,"-border")}function u(e){return"".concat(e,"-centers")}const O="city-point";function j(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function h(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?j(Object(c),!0).forEach((function(t){d(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):j(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function d(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function p(e){return"".concat(e,"-fill")}function f(e){return"".concat(e,"-hover")}function m(e){return"".concat(e,"-bubble")}function g(e){return"".concat(e,"-spike")}const v="state-stroke",y="state-names",_={pit:"city-point-unclustered-pit",1:"city-point-unclustered-1",2:"city-point-unclustered-2",3:"city-point-unclustered-3",4:"city-point-unclustered-4",5:"city-point-unclustered-5"};var $=c(1),w=c(211),x=c(3),S=c(450);c(345);function L(e){let t,c,n,a,o,i,s,r,l,b,u,O=e[1].displayName+"",j=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"";function h(e,t){return e[4]?z:e[5].isCasesOrDeath?P:R}let d=h(e),p=d(e);return{c(){t=Object($.v)("h5"),c=Object($.ab)(O),n=Object($.W)(),a=Object($.v)("table"),o=Object($.v)("tbody"),i=Object($.v)("tr"),s=Object($.v)("th"),s.textContent="Population",r=Object($.W)(),l=Object($.v)("td"),b=Object($.ab)(j),u=Object($.W)(),p.c(),Object($.h)(t,"class","svelte-1u8gn73"),Object($.h)(s,"class","svelte-1u8gn73"),Object($.h)(l,"class","right svelte-1u8gn73"),Object($.h)(a,"class","svelte-1u8gn73")},m(e,O){Object($.G)(e,t,O),Object($.f)(t,c),Object($.G)(e,n,O),Object($.G)(e,a,O),Object($.f)(a,o),Object($.f)(o,i),Object($.f)(i,s),Object($.f)(i,r),Object($.f)(i,l),Object($.f)(l,b),Object($.f)(o,u),p.m(o,null)},p(e,t){2&t&&O!==(O=e[1].displayName+"")&&Object($.T)(c,O),2&t&&j!==(j=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"")&&Object($.T)(b,j),d===(d=h(e))&&p?p.p(e,t):(p.d(1),p=d(e),p&&(p.c(),p.m(o,null)))},d(e){e&&Object($.u)(t),e&&Object($.u)(n),e&&Object($.u)(a),p.d()}}}function M(e){let t,c,n,a=e[1].displayName+"";return{c(){t=Object($.v)("h5"),c=Object($.ab)("Estimate unavailable for rest of "),n=Object($.ab)(a),Object($.h)(t,"class","svelte-1u8gn73")},m(e,a){Object($.G)(e,t,a),Object($.f)(t,c),Object($.f)(t,n)},p(e,t){2&t&&a!==(a=e[1].displayName+"")&&Object($.T)(n,a)},d(e){e&&Object($.u)(t)}}}function k(e){let t;return{c(){t=Object($.v)("h5"),t.textContent="Estimate unavailable",Object($.h)(t,"class","svelte-1u8gn73")},m(e,c){Object($.G)(e,t,c)},p:$.K,d(e){e&&Object($.u)(t)}}}function R(e){let t,c,n,a,o,i,s,r=e[5].yAxis+"",l=e[5].formatValue(e[2])+"";return{c(){t=Object($.v)("tr"),c=Object($.v)("th"),n=Object($.ab)(r),a=Object($.W)(),o=Object($.v)("td"),i=Object($.ab)(l),Object($.h)(c,"class","svelte-1u8gn73"),Object($.h)(o,"class","right svelte-1u8gn73"),Object($.h)(o,"style",s=e[8](e[2]))},m(e,s){Object($.G)(e,t,s),Object($.f)(t,c),Object($.f)(c,n),Object($.f)(t,a),Object($.f)(t,o),Object($.f)(o,i)},p(e,t){32&t&&r!==(r=e[5].yAxis+"")&&Object($.T)(n,r),36&t&&l!==(l=e[5].formatValue(e[2])+"")&&Object($.T)(i,l),4&t&&s!==(s=e[8](e[2]))&&Object($.h)(o,"style",s)},d(e){e&&Object($.u)(t)}}}function P(e){let t,c,n,a,o,i,s,r,l,b,u,O,j,h,d,p,f,m,g,v,y,_,w,x,S,L,M,k,R,P,z,C,V,A,D,T,E,W,I,Z,N,F,B,G=e[5].yAxis+"",H=e[7](e[6])+"",J=e[5].formatValue(e[1].count)+"",K=e[5].formatValue(e[1].countRatio)+"",U=e[5].formatValue(e[1].avg)+"",q=e[5].formatValue(e[1].avgRatio)+"",Q=e[7](e[6])+"",Y=e[5].formatValue(e[1].countCumulative)+"",X=e[5].formatValue(e[1].countRatioCumulative)+"";return{c(){t=Object($.v)("tr"),c=Object($.v)("th"),n=Object($.ab)(G),a=Object($.W)(),o=Object($.v)("th"),o.textContent="Count",i=Object($.W)(),s=Object($.v)("th"),s.textContent="Ratios (per 100,000)",r=Object($.W)(),l=Object($.v)("tr"),b=Object($.v)("th"),u=Object($.ab)(H),O=Object($.W)(),j=Object($.v)("td"),h=Object($.ab)(J),p=Object($.W)(),f=Object($.v)("td"),m=Object($.ab)(K),v=Object($.W)(),y=Object($.v)("tr"),_=Object($.v)("th"),_.textContent="7-day avg",w=Object($.W)(),x=Object($.v)("td"),S=Object($.ab)(U),M=Object($.W)(),k=Object($.v)("td"),R=Object($.ab)(q),z=Object($.W)(),C=Object($.v)("tr"),V=Object($.v)("th"),A=Object($.ab)("Cumulative "),D=Object($.ab)(Q),T=Object($.W)(),E=Object($.v)("td"),W=Object($.ab)(Y),Z=Object($.W)(),N=Object($.v)("td"),F=Object($.ab)(X),Object($.h)(c,"class","svelte-1u8gn73"),Object($.h)(o,"class","area svelte-1u8gn73"),Object($.h)(s,"class","area svelte-1u8gn73"),Object($.h)(b,"class","svelte-1u8gn73"),Object($.h)(j,"class","right svelte-1u8gn73"),Object($.h)(j,"style",d=e[3].cumulative||e[3].ratio?"":e[8](e[1].count)),Object($.h)(f,"class","right svelte-1u8gn73"),Object($.h)(f,"style",g=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):""),Object($.h)(_,"class","svelte-1u8gn73"),Object($.h)(x,"class","right svelte-1u8gn73"),Object($.h)(x,"style",L=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg)),Object($.h)(k,"class","right svelte-1u8gn73"),Object($.h)(k,"style",P=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):""),Object($.h)(V,"class","svelte-1u8gn73"),Object($.h)(E,"class","right svelte-1u8gn73"),Object($.h)(E,"style",I=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):""),Object($.h)(N,"class","right svelte-1u8gn73"),Object($.h)(N,"style",B=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")},m(e,d){Object($.G)(e,t,d),Object($.f)(t,c),Object($.f)(c,n),Object($.f)(t,a),Object($.f)(t,o),Object($.f)(t,i),Object($.f)(t,s),Object($.G)(e,r,d),Object($.G)(e,l,d),Object($.f)(l,b),Object($.f)(b,u),Object($.f)(l,O),Object($.f)(l,j),Object($.f)(j,h),Object($.f)(l,p),Object($.f)(l,f),Object($.f)(f,m),Object($.G)(e,v,d),Object($.G)(e,y,d),Object($.f)(y,_),Object($.f)(y,w),Object($.f)(y,x),Object($.f)(x,S),Object($.f)(y,M),Object($.f)(y,k),Object($.f)(k,R),Object($.G)(e,z,d),Object($.G)(e,C,d),Object($.f)(C,V),Object($.f)(V,A),Object($.f)(V,D),Object($.f)(C,T),Object($.f)(C,E),Object($.f)(E,W),Object($.f)(C,Z),Object($.f)(C,N),Object($.f)(N,F)},p(e,t){32&t&&G!==(G=e[5].yAxis+"")&&Object($.T)(n,G),64&t&&H!==(H=e[7](e[6])+"")&&Object($.T)(u,H),34&t&&J!==(J=e[5].formatValue(e[1].count)+"")&&Object($.T)(h,J),10&t&&d!==(d=e[3].cumulative||e[3].ratio?"":e[8](e[1].count))&&Object($.h)(j,"style",d),34&t&&K!==(K=e[5].formatValue(e[1].countRatio)+"")&&Object($.T)(m,K),10&t&&g!==(g=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):"")&&Object($.h)(f,"style",g),34&t&&U!==(U=e[5].formatValue(e[1].avg)+"")&&Object($.T)(S,U),10&t&&L!==(L=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg))&&Object($.h)(x,"style",L),34&t&&q!==(q=e[5].formatValue(e[1].avgRatio)+"")&&Object($.T)(R,q),10&t&&P!==(P=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):"")&&Object($.h)(k,"style",P),64&t&&Q!==(Q=e[7](e[6])+"")&&Object($.T)(D,Q),34&t&&Y!==(Y=e[5].formatValue(e[1].countCumulative)+"")&&Object($.T)(W,Y),10&t&&I!==(I=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):"")&&Object($.h)(E,"style",I),34&t&&X!==(X=e[5].formatValue(e[1].countRatioCumulative)+"")&&Object($.T)(F,X),10&t&&B!==(B=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")&&Object($.h)(N,"style",B)},d(e){e&&Object($.u)(t),e&&Object($.u)(r),e&&Object($.u)(l),e&&Object($.u)(v),e&&Object($.u)(y),e&&Object($.u)(z),e&&Object($.u)(C)}}}function z(e){let t;function c(e,t){return 1===e[1].value?D:0===e[2]?A:-1===e[2]?V:C}let n=c(e),a=n(e);return{c(){t=Object($.v)("tr"),a.c()},m(e,c){Object($.G)(e,t,c),a.m(t,null)},p(e,o){n===(n=c(e))&&a?a.p(e,o):(a.d(1),a=n(e),a&&(a.c(),a.m(t,null)))},d(e){e&&Object($.u)(t),a.d()}}}function C(e){let t;return{c(){t=Object($.v)("td"),t.textContent="Unknown",Object($.h)(t,"colspan","2"),Object($.h)(t,"class","svelte-1u8gn73")},m(e,c){Object($.G)(e,t,c)},p:$.K,d(e){e&&Object($.u)(t)}}}function V(e){let t,c,n,a=o.a.decreasingIcon+"";return{c(){t=Object($.v)("td"),n=Object($.ab)("\n                Decreasing"),c=new $.a(n),Object($.h)(t,"colspan","2"),Object($.V)(t,"background-color",o.a.decreasing),Object($.h)(t,"class","svelte-1u8gn73")},m(e,o){Object($.G)(e,t,o),c.m(a,t),Object($.f)(t,n)},p:$.K,d(e){e&&Object($.u)(t)}}}function A(e){let t,c,n,a=o.a.steadyIcon+"";return{c(){t=Object($.v)("td"),n=Object($.ab)("\n                Steady"),c=new $.a(n),Object($.h)(t,"colspan","2"),Object($.V)(t,"background-color",o.a.steady),Object($.h)(t,"class","svelte-1u8gn73")},m(e,o){Object($.G)(e,t,o),c.m(a,t),Object($.f)(t,n)},p:$.K,d(e){e&&Object($.u)(t)}}}function D(e){let t,c,n,a=o.a.increasingIcon+"";return{c(){t=Object($.v)("td"),n=Object($.ab)("\n                Increasing"),c=new $.a(n),Object($.h)(t,"colspan","2"),Object($.V)(t,"background-color",o.a.increasing),Object($.h)(t,"class","svelte-1u8gn73")},m(e,o){Object($.G)(e,t,o),c.m(a,t),Object($.f)(t,n)},p:$.K,d(e){e&&Object($.u)(t)}}}function T(e){let t;function c(e,t){return e[1]?e[0]?M:L:k}let n=c(e),a=n(e);return{c(){t=Object($.v)("div"),a.c(),Object($.h)(t,"aria-label","tooltip"),Object($.h)(t,"class","tooltip svelte-1u8gn73")},m(e,c){Object($.G)(e,t,c),a.m(t,null)},p(e,[o]){n===(n=c(e))&&a?a.p(e,o):(a.d(1),a=n(e),a&&(a.c(),a.m(t,null)))},i:$.K,o:$.K,d(e){e&&Object($.u)(t),a.d()}}}function E(e,t,c){let n,a,i,s,r;Object($.m)(e,x.E,e=>c(9,n=e)),Object($.m)(e,x.e,e=>c(10,a=e)),Object($.m)(e,x.v,e=>c(4,i=e)),Object($.m)(e,x.q,e=>c(5,s=e)),Object($.m)(e,x.i,e=>c(6,r=e));let{invalid:l=!1}=t,{properties:b}=t;const u=Object(w.a)("%B %d");let O,j;return e.$$set=e=>{"invalid"in e&&c(0,l=e.invalid),"properties"in e&&c(1,b=e.properties)},e.$$.update=()=>{2&e.$$.dirty&&c(2,O=b?b.value:0),512&e.$$.dirty&&c(3,j=n)},[l,b,O,j,i,s,r,u,function(e){const t=0===e?o.f:a(e);return"background-color: ".concat(t,"; color: ").concat(Object(S.c)(t))}]}class W extends $.b{constructor(e){super(),Object($.F)(this,e,E,T,$.Q,{invalid:0,properties:1})}}var I=W;function Z(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function N(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(c),!0).forEach((function(t){F(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function F(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class B{constructor(e,t){this.adapter=t,this.map=e,this.data=new Map,this.popup=new r.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup"}),this.topPopup=new r.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup",anchor:"top"}),this.selection=[],this.hovered={id:null,level:null},this.tooltipElement=document.createElement("div"),this.tooltip=new I({target:this.tooltipElement,props:{properties:null,invalid:!0}}),this.initListeners()}initListeners(){if(this.map.on("mouseenter",v,this._onMapMouseEnter.bind(this)),this.map.on("mouseleave",v,this._onMapMouseLeave.bind(this)),this.map.on("mousemove",v,this._onMapMouseMove.bind(this)),this.adapter.levels.forEach(e=>{const t=p(e);this.map.on("mouseleave",t,this._onLevelMouseLeave.bind(this)),this.map.on("mousemove",t,this._onLevelMouseMove.bind(this)),this.map.on("click",t,this._onLevelMouseClick.bind(this))}),this.adapter.hasMegaCountyLevel){const e=p(a.g.id);this.map.on("mouseleave",e,this._onMegaMouseLeave.bind(this)),this.map.on("mousemove",e,this._onMegaMouseMove.bind(this)),this.map.on("click",e,this._onMegaMouseClick.bind(this))}}get activePopup(){return"spike"===this.adapter.encoding.id?this.topPopup:this.popup}_onMapMouseEnter(){this.map.getCanvas().style.cursor="pointer"}_onLevelMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMegaMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMapMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove()}_onLevelMouseMove(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMegaMouseMove(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMapMouseMove(e){e.defaultPrevented||this._renderTooltip(e,!0)}_onLevelMouseClick(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_onMegaMouseClick(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_renderTooltip(e,t=!1){this.map.getCanvas().style.cursor="pointer";const c=e.features[0],n=this.activePopup;this.tooltip.$set({properties:N(N({},c.properties),this.data.get(c.properties.id)||{}),invalid:t}),n.setLngLat(e.lngLat).setDOMContent(this.tooltipElement).addTo(this.map)}_updateState(e,t,c){this.map.setFeatureState({source:e,id:"string"==typeof t?Number.parseInt(t,10):t},c)}_updateHoverLayerVisibility(){const e=new Set(this.selection.map(e=>e.level));null!=this.hovered.id&&e.add(this.hovered.level);const t=t=>{"none"!==this.map.getLayoutProperty(f(t),"visibility")!==e.has(t)&&this.map.setLayoutProperty(f(t),"visibility",e.has(t)?"visible":"none")};for(const e of this.adapter.levels)t(e);this.adapter.hasMegaCountyLevel&&t(a.g.id)}_updateHoverHighlight(e=null,t=null){this.hovered.id!=e&&(this.hovered.id&&this._updateState(b(this.hovered.level),this.hovered.id,{hover:!1}),e&&this._updateState(b(t),e,{hover:!0}),this.hovered.id=e,this.hovered.level=t,this._updateHoverLayerVisibility())}select(e){return this.selectMulti(e?[{info:e,color:o.d.selectedRegionOutline}]:[])[0]}selectMulti(e){const t=this.selection.slice();for(const e of this.selection)this._updateState(b(e.level),e.id,{select:!1});return this.selection=e.map(e=>{const t=Number(e.info.id);return this._updateState(b(e.info.level),t,{select:e.color}),{id:t,level:e.info.level,color:e.color}}),this._updateHoverLayerVisibility(),t}forceHover(e){this._updateHoverHighlight(e.id,e.properties.level)}isHovered(e){return!!e&&(e.id==this.hovered.id&&e.level===this.hovered.level)}}var G=c(460);class H{constructor(e,t){this.map=null,this.onZoom=e,this.resetBounds=new r.LngLatBounds(t),this.resetBoundsOptions={padding:20,linear:!1},this.stateZoom=1,this.initialZoomView=!0}_triggerZoom(e){const t=this.map.getZoom(),c=this.stateZoom,n=Math.pow(2,.75*(t-c));this.onZoom(n,e)}setMap(e){this.map=e,this.stateZoom=this.map.getZoom(),this.map.on("zoom",()=>{this._triggerZoom()})}ready(){this.stateZoom=this.map.getZoom(),this._triggerZoom()}getZoom(){return this.map?this.map.getZoom():0}getMaxZoom(){return this.map?this.map.getMaxZoom():100}getMinZoom(){return this.map?this.map.getMinZoom():-100}zoomIn(){this.map&&(this.initialZoomView=!1,this.map.zoomIn())}zoomOut(){this.map&&(this.initialZoomView=!1,this.map.zoomOut())}resetZoom(){this.map&&(this.initialZoomView=!0,this.map.fitBounds(this.resetBounds,this.resetBoundsOptions),this.map.once("idle",()=>{this.stateZoom=this.map.getZoom(),this._triggerZoom(!0)}))}resized(){this.initialZoomView&&this.map&&requestAnimationFrame(()=>{this.map&&this.map.fitBounds(this.resetBounds,this.resetBoundsOptions)})}showStateLabels(e){this.map&&this.map.getLayer(y)&&this.map.setLayoutProperty(y,"visibility",e?"visible":"none")}toggleStateLabels(){this.map&&this.map.getLayer(y)&&this.showStateLabels("visible"!==this.map.getLayoutProperty(y,"visibility"))}}var J=c(448);function K(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function U(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?K(Object(c),!0).forEach((function(t){q(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):K(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function q(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class Q{constructor(){this.id="color",this.layers=[]}getVisibleLayers(e){return[p(e),"county"===e&&p(a.g.id)].filter(Boolean)}addLayers(){}encode(e,{level:t,stops:c,stopsMega:n}){e.setPaintProperty(p(t),"fill-color",Object(l.b)(c)),n&&e.setPaintProperty(p(a.g.id),"fill-color",Object(l.b)(n))}updateSources(){}}var Y=c(119),X=c(16);class ee{constructor(e,t,c,n){this._sourceId=e,this._level=t,this._colorsDirty=!0,this.featureIds=[],this._valueLookup=new Map,this._valuePrimaryValue="value",this._valueToColor=()=>o.e,this._valueToSize=()=>0,this._vertexSource=c,this._fragmentSource=n,this._map=null,this.zoom=1}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}_createVertices(e){return[e.x,e.y]}onAdd(e,t){this._map=e,this._vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertexShader,this._vertexSource),t.compileShader(this._vertexShader),this._fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragmentShader,this._fragmentSource),t.compileShader(this._fragmentShader),this._program=t.createProgram(),t.attachShader(this._program,this._vertexShader),t.attachShader(this._program,this._fragmentShader),t.linkProgram(this._program),this._uPos=t.getUniformLocation(this._program,"u_matrix"),this._uOpacity=t.getUniformLocation(this._program,"u_opacity"),this._uPixelToClip=t.getUniformLocation(this._program,"u_pixelToClip"),this._uZoom=t.getUniformLocation(this._program,"u_zoom"),this._uDevicePixelRatio=t.getUniformLocation(this._program,"u_device_pixel_ratio"),this._aPos=t.getAttribLocation(this._program,"a_pos"),this._centerBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._centerBuffer);const c=e.getSource(this._sourceId)._data.features.map(e=>{const t=e.geometry.coordinates,c=t[0],n=t[1];if(null==n||Number.isNaN(n))return[];this.featureIds.push(e.properties.id);const a=r.MercatorCoordinate.fromLngLat({lat:n,lng:c});return this._createVertices(a)}).flat();t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),this._verticesPerFeatures=c.length/3/this.featureIds.length,this._aColorAndValue=t.getAttribLocation(this._program,"a_colorAndValue"),this._colorAndValueBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._colorAndValueBuffer),this._colorAndValueData=new Float32Array(4*this.featureIds.length*this._verticesPerFeatures),this._colorAndValueData.fill(0),t.bufferData(t.ARRAY_BUFFER,this._colorAndValueData,t.STATIC_DRAW)}onRemove(e,t){this._map=null,t.deleteBuffer(this._centerBuffer),t.deleteBuffer(this._colorAndValueBuffer),t.deleteShader(this._fragmentShader),t.deleteShader(this._vertexShader),t.deleteProgram(this._program)}_prepareRender(e,t){e.useProgram(this._program),e.uniformMatrix4fv(this._uPos,!1,t);const c=this._map.painter.transform;e.uniform1f(this._uZoom,this.zoom),e.uniform2f(this._uPixelToClip,c.pixelsToGLUnits[0],c.pixelsToGLUnits[1]),e.uniform1f(this._uDevicePixelRatio,window.devicePixelRatio),e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.enableVertexAttribArray(this._aColorAndValue),e.vertexAttribPointer(this._aColorAndValue,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._centerBuffer),e.enableVertexAttribArray(this._aPos),e.vertexAttribPointer(this._aPos,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}preRender(e){if(this._colorsDirty){this._colorsDirty=!1;for(let e=0;e<this.featureIds.length;e++){const t=this.featureIds[e],c=this._valueLookup.has(t)?this._valueLookup.get(t)[this._valuePrimaryValue]:null,n=this._verticesPerFeatures;if(null==c||Number.isNaN(c)){for(let t=0;t<n;t++){const c=4*e*n+4*t;this._colorAndValueData[c]=0,this._colorAndValueData[c+1]=0,this._colorAndValueData[c+2]=0,this._colorAndValueData[c+3]=0}continue}const a=Object(X.g)(this._valueToColor(c)),o=this._valueToSize(c);for(let t=0;t<n;t++){const c=4*e*n+4*t;this._colorAndValueData[c]=a.r,this._colorAndValueData[c+1]=a.g,this._colorAndValueData[c+2]=a.b,this._colorAndValueData[c+3]=o}}e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.bufferData(e.ARRAY_BUFFER,this._colorAndValueData,e.STATIC_DRAW)}}encode(e,t){this._colorsDirty=!0,this._valueToSize=e,this._valueToColor=t}updateSources(e,t){this._colorsDirty=!0,this._valueLookup=e,this._valuePrimaryValue=t}}class te extends ee{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform float u_zoom;\nuniform vec2 u_pixelToClip;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n\n  vec2 pos = vec2(a_pos.z < 0.0 ? -1.0 : 1.0, abs(a_pos.z) < 2.0 ? -1.0 : 1.0);\n  p.xy += pos * u_pixelToClip * (u_zoom * a_colorAndValue.a + 1.0) * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n\n  v_data = vec4(pos, a_colorAndValue.a * u_zoom, 1.0);\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n}","\nprecision mediump float;\nuniform float u_opacity;\nuniform float u_device_pixel_ratio;\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n\n  float extrude_length = length(v_data.xy);\n  float radius = v_data.z;\n  float stroke_width = v_data.w;\n\n  float blur = -(1.0 / u_device_pixel_ratio / (radius + stroke_width));\n  float opacity_t = smoothstep(0.0, blur, extrude_length - 1.0);\n\n  float color_t = smoothstep(\n      blur,\n      0.0,\n      extrude_length - radius / (radius + stroke_width)\n  );\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = opacity_t * mix(fill_color, stroke_color, color_t);\n}")}_createVertices(e){return[e.x,e.y,-2,e.x,e.y,-1,e.x,e.y,1,e.x,e.y,2]}onAdd(e,t){super.onAdd(e,t),this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);const c=new Uint16Array(6*this.featureIds.length);for(let e=0;e<this.featureIds.length;e++){const t=6*e,n=4*e;c[t]=n,c[t+1]=n+1,c[t+2]=n+2,c[t+3]=n+2,c[t+4]=n+3,c[t+5]=n}t.bufferData(t.ELEMENT_ARRAY_BUFFER,c,t.STATIC_DRAW)}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,o.b.fillOpacity),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.drawElements(e.TRIANGLES,6*this.featureIds.length,e.UNSIGNED_SHORT,0)}}class ce{constructor(e,t){this.id="bubble",this.theme=e,this.layers=t.map(e=>m(e)),this.customLayers=new Map(t.map(e=>[e,new te(u(e),e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[p(e),m(e)]}onZoom(e){this.customLayers.forEach(t=>t.zoom=e)}getMaxZoom(e){return 50/this.theme.maxRadius[e]}addLayers(e,t){t.levels.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(m(t)))})}encode(e,{level:t,sensorType:c,valueMinMax:n,scale:a}){e.setPaintProperty(p(t),"fill-color",this.theme.countyFill);const o=this.theme.maxRadius[t],i=this.theme.radiusScale[c],s=Object(Y.c)(i).domain([0,n[1]]).range([0,o]).clamp(!0);return this.customLayers.get(t).encode(s,a),s}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}class ne extends ee{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform vec2 u_pixelToClip;\nuniform float u_zoom;\n\nuniform float u_size;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n  float height = (a_colorAndValue.a * u_zoom + 1.0);\n  float shift = a_pos.z * (u_size * u_zoom + 1.0);\n\n  p.y -= (1.0 - abs(a_pos.z)) * height * u_pixelToClip.y * p.w;\n  p.x += shift * u_pixelToClip.x * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n  float thickness = 1.0;\n  // encode the barycentric coordinate but such that the bottom line is not shown\n  v_data = vec4(-min(shift, 0.0), height, max(shift, 0.0), thickness);\n\n}","\n#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\nuniform float u_device_pixel_ratio;\nuniform float u_opacity;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\n// This is like\nfloat aastep (float threshold, float dist) {\n  float afwidth = fwidth(dist) * 0.5;\n  return smoothstep(threshold - afwidth, threshold + afwidth, dist);\n}\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n  vec3 barycentric = v_data.xyz;\n  float stroke_width = v_data.w;\n\n  // this will be our signed distance for the wireframe edge\n  float d = min(min(barycentric.x, barycentric.y), barycentric.z);\n  // compute the anti-aliased stroke edge\n  float edge = 1.0 - aastep(stroke_width, d);\n\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = mix(fill_color, stroke_color, edge);\n}")}_createVertices(e){return[e.x,e.y,-1,e.x,e.y,0,e.x,e.y,1]}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}onAdd(e,t){t.getExtension("OES_standard_derivatives"),super.onAdd(e,t),this._uSize=t.getUniformLocation(this._program,"u_size")}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,o.c.fillOpacity),e.uniform1f(this._uSize,o.c.size[this._level]),e.drawArrays(e.TRIANGLES,0,this.featureIds.length*this._verticesPerFeatures)}}class ae{constructor(e,t){this.id="spike",this.theme=e,this.layers=t.map(e=>g(e)),this.customLayers=new Map(t.map(e=>[e,new ne(u(e),e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[p(e),g(e)]}onZoom(e){this.customLayers.forEach(t=>t.zoom=e)}getMaxZoom(e){return 100/this.theme.maxHeight[e]}addLayers(e,t){t.levels.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(g(t)))})}encode(e,{level:t,sensorType:c,valueMinMax:n,scale:a}){e.setPaintProperty(p(t),"fill-color",this.theme.countyFill);const o=n[1],i=this.theme.maxHeight[t],s=this.theme.heightScale[c],r=Object(Y.c)(s).range([0,i]).domain([0,o]).clamp(!0);return this.customLayers.get(t).encode(r,a),r}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}const oe=Object(n.c)();class ie extends class{constructor(e,t){this.dispatch=e,this.map=null,this.mapSetupReady=!1,this.mapSetupReadyPromiseResolver=()=>{},this.mapSetupReadyPromise=new Promise(e=>{this.mapSetupReadyPromiseResolver=e}),this.mapDataReady=!1,this.mapEncodingReady=!1,this.animationDuration=0,this.interactive=null,this.level=t.level,this.levels=t.levels,this.hasMegaCountyLevel=t.hasMegaCountyLevel,this.encodings=t.encodings,this.encoding=this.encodings[0];const c=Object(J.a)(e=>this.dispatch("zoom",e),100);this.zoom=new H((e,t)=>{const n="function"==typeof this.encoding.getMaxZoom?this.encoding.getMaxZoom(this.level):Number.POSITIVE_INFINITY;e=Math.min(n,e);for(const t of this.encodings)"function"==typeof t.onZoom&&t.onZoom(e);t&&this.map.triggerRepaint(),c(e)},t.bounds)}initMap(e,t){this.map=new r.Map({attributionControl:!1,container:e,style:G,bounds:this.zoom.resetBounds,fitBounds:this.zoom.resetBoundsOptions,doubleClickZoom:!1,dragRotate:!1,pitchWithRotate:!1,touchPitch:!1,touchZoomRotate:!0,renderWorldCopies:!1,antialias:!0}),this.zoom.setMap(this.map),this.map.touchZoomRotate.disableRotation();let c=null;const n=new Promise(e=>{c=e});return this.map.on("idle",()=>{this.dispatch("idle")}),this.map.on("load",()=>{this.addSprites(),this.addSources().then(()=>{this.addLayers(),this.interactive=new B(this.map,this)}).then(()=>{this._setupReady(),c(this)})}),Object(S.d)(e,()=>{this.map.resize()}),this.setTitle(t),n}_setupReady(){this.zoom.showStateLabels("state"===this.level),this.zoom.ready(),this.markReady("setup")}markReady(e){switch(e){case"data":if(this.mapDataReady)return;this.mapDataReady=!0,this.dispatch("readyData");break;case"setup":if(this.mapSetupReady)return;this.mapSetupReady=!0,this.mapSetupReadyPromiseResolver(),this.dispatch("readySetup");break;case"encoding":if(this.mapEncodingReady)return;this.mapEncodingReady=!0,this.dispatch("readyEncoding")}this.mapSetupReady&&this.mapEncodingReady&&this.mapDataReady&&(this.dispatch("ready"),this.map.getContainer().dataset.ready="ready")}addSprites(){const e=16,t=document.createElement("canvas");t.width=e,t.height=e;const c=t.getContext("2d");c.clearRect(0,0,e,e);const n=c.createLinearGradient(0,0,e,e);n.addColorStop(0,"white"),n.addColorStop(.25,o.e),n.addColorStop(.5,"white"),n.addColorStop(.75,o.e),n.addColorStop(1,"white"),c.fillStyle=n,c.fillRect(0,0,e,e);const a=c.getImageData(0,0,e,e);this.map.addImage("hatching",a,{sdf:!0})}addSources(){return Promise.resolve()}animationOptions(e){return this.animationDuration?{[e+"-transition"]:{duration:this.animationDuration,delay:0}}:{}}addLevelSource(e,t,c){this.map.addSource(b(e),{type:"geojson",data:t}),this.map.addSource(u(e),{type:"geojson",data:c})}addFillLevelLayer(e){this.map.addLayer({id:p(e),source:b(e),type:"fill",layout:{visibility:"none"},paint:U({"fill-outline-color":o.d.countyOutlineWhenFilled,"fill-color":o.d.countyFill,"fill-opacity":["case",["==",["to-number",["feature-state","value"],l.a],l.a],0,1]},this.animationOptions("fill-color"))})}addHoverLevelLayer(e){this.map.addLayer({id:f(e),source:b(e),type:"line",layout:{visibility:"none"},paint:{"line-color":["case",["to-boolean",["feature-state","select"]],["feature-state","select"],o.d.hoverRegionOutline],"line-width":["case",["any",["to-boolean",["feature-state","hover"]],["to-boolean",["feature-state","select"]]],4,0]}})}addLayers(){}destroy(){this.mapSetupReady=!1,this.map&&(Object(S.f)(this.map.getContainer()),this.map.remove(),this.zoom.map=null,this.map=null)}validateLevel(e){return this.levels.includes(e)?e:this.levels[0]}updateOptions(e,t,c,n,o,i,s,r,l){t=this.validateLevel(t);const b=this.level;if(this.level=t,this.encoding=this.encodings.find(t=>t.id===e),this.hasMegaCountyLevel||(r=null),!this.map||!this.mapSetupReady)return;b!==t&&this.zoom.showStateLabels("state"===t);const u=this.encodings.flatMap(e=>e.layers);u.push(...this.levels.map(e=>p(e))),this.hasMegaCountyLevel&&u.push(p(a.g.id));const O=new Set(this.encoding.getVisibleLayers(t,c));u.forEach(e=>{this.map.setLayoutProperty(e,"visibility",O.has(e)?"visible":"none")});const j=this.encoding.encode(this.map,{level:t,signalType:c,sensorType:o,sensor:n,valueMinMax:i,stops:s,stopsMega:r,scale:l,baseZoom:this.zoom.stateZoom});return this.markReady("encoding"),j}updateSources(e,t,c="value"){e=this.validateLevel(e);const n=Math.random().toString(36);this._mapDataFlag=n,this.dispatch("loading",!0),Promise.all([t,this.mapSetupReadyPromise]).then(([t])=>{if(this._mapDataFlag!==n)return;this.map.once("idle",()=>{this.dispatch("loading",!1)});const o=new Map(t.map(e=>[e.geo_value.toUpperCase(),e]));this.interactive.data=o,"county"===e&&this._updateSource(b(a.g.id),o,c),this._updateSource(b(e),o,c),this._updateSource(u(e),o,c);for(const t of this.encodings)t.updateSources(this.map,e,o,c);t.length>0&&this.markReady("data")})}_updateSource(e,t,c="value"){console.assert(null!=this.map);const n=this.map.getSource(e);if(!n)return void console.error("invalid source");n._data.features.forEach(n=>{const a=n.properties.id,o=t.get(a);this.map.setFeatureState({source:e,id:Number.parseInt(n.id,10)},{value:o?o[c]:l.a})})}selectMulti(e){if(this.map&&this.interactive){if(e.length<=1){const t=this.interactive.selection.slice();return this.select(e.length>0?e[0].info:null),t}return this.interactive.selectMulti(e)}}select(e){if(!this.map||!this.interactive)return;if(null!=this.interactive.select(e)&&!e)return void this.zoom.resetZoom();if(!e||this.interactive.isHovered(e))return;const t=this.map.getSource(b(e.level));if(!t)return;const c=t._data.features.find(t=>t.id===e.id);c&&this.map.fitBounds(s()(c),{maxZoom:1.5*this.zoom.getZoom(),linear:!1,essential:!0})}isMissing(e){const t=this.map.getFeatureState({source:b(e.properties.level),id:"string"==typeof id?Number.parseInt(e.id,10):e.id});return null==t.value||t.value===l.a}selectRandom(){if(!this.map||!this.mapSetupReady)return;const e=this.map.getSource(b(this.level));if(!e)return;const t=a.b[this.level],c=e._data.features.find(e=>e.properties.id===t);if(c&&!this.isMissing(c))return this.interactive.forceHover(c),void this.dispatch("select",{feature:c});const n=e._data.features.filter(e=>!this.isMissing(e));if(0===n.length)return;const o=n[Math.floor(Math.random()*(n.length-1))];this.interactive.forceHover(o),this.dispatch("select",{feature:o})}setTitle(e){if(!this.map)return;const t=this.map.getContainer().querySelector("canvas");t&&(t.setAttribute("role","figure"),t.setAttribute("aria-roledescription","visualization"),t.setAttribute("aria-label","US Map showing: ".concat(e)))}}{constructor(e){super(e,{bounds:n.a.states,encodings:[new Q(a.h),new ce(o.b,a.h),new ae(o.c,a.h)],level:"county",levels:a.h,hasMegaCountyLevel:!0})}addLevelSources(){const e=this.map;return oe.then(t=>{e.addSource(b(a.g.id),{type:"geojson",data:t.mega}),this.levels.forEach(e=>{this.addLevelSource(e,t[e].border,t[e].center)})})}addSources(){return Promise.all([(e=this.map,oe.then(t=>{e.addSource(O,{type:"geojson",data:t.cities})})),this.addLevelSources()]);var e}addLayers(){const e=this.map;e.addLayer({id:v,source:b("state"),type:"fill",paint:{"fill-color":o.e,"fill-outline-color":o.d.stateOutline,"fill-pattern":"hatching"}}),this.addFillLevelLayer(a.g.id),this.levels.forEach(e=>{this.addFillLevelLayer(e)}),this.addHoverLevelLayer(a.g.id),this.levels.forEach(e=>{this.addHoverLevelLayer(e)}),this.encodings.forEach(t=>{t.addLayers(e,this)}),function(e){const t=(t,c,n={})=>{e.addLayer(h(h(h({id:t,source:O,type:"symbol"},c?{filter:c}:{}),n),{},{layout:{"text-field":["get","name"],"text-font":["Open Sans Regular"],"text-size":12},paint:{"text-halo-color":"#fff","text-halo-width":1.5}}))};t(_.pit,["==","name","Pittsburgh"],{maxzoom:8}),t(_.pit[1],[">","population",9e5],{maxzoom:4}),t(_.pit[2],[">","population",5e5],{maxzoom:6,minzoom:4}),t(_.pit[3],[">","population",1e5],{maxzoom:8,minzoom:6}),t(_.pit[4],void 0,{minzoom:8})}(e),function(e){e.addLayer({id:y,source:u("state"),type:"symbol",maxzoom:8,layout:{"text-field":["upcase",["get","name"]],"text-font":["Open Sans Bold"],"text-size":11},paint:{"text-opacity":.5,"text-halo-color":"#fff","text-halo-width":1}})}(e)}}},463:function(e,t,c){"use strict";var n=c(1),a=c(3),o=c(335);c(349);function i(e){let t,c,a=e[3].toLocaleDateString()+"";return{c(){t=Object(n.v)("span"),c=Object(n.ab)(a),Object(n.h)(t,"data-testid","currentdate")},m(e,a){Object(n.G)(e,t,a),Object(n.f)(t,c)},p(e,t){8&t&&a!==(a=e[3].toLocaleDateString()+"")&&Object(n.T)(c,a)},d(e){e&&Object(n.u)(t)}}}function s(e){let t,c,a,s,r,l,b,u,O,j;l=new o.a({});let h=e[0]&&i(e);return{c(){t=Object(n.v)("h2"),c=Object(n.v)("span"),a=Object(n.ab)(e[1]),s=Object(n.W)(),r=Object(n.v)("button"),Object(n.o)(l.$$.fragment),b=Object(n.W)(),h&&h.c(),Object(n.h)(r,"title","Show sensor description"),Object(n.h)(r,"class","pg-button pg-button-circle info svelte-15deon4"),Object(n.h)(t,"class","banner svelte-15deon4")},m(o,i){Object(n.G)(o,t,i),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(c,s),Object(n.f)(c,r),Object(n.J)(l,r,null),Object(n.f)(t,b),h&&h.m(t,null),u=!0,O||(j=Object(n.I)(r,"click",e[4]),O=!0)},p(e,[c]){(!u||2&c)&&Object(n.T)(a,e[1]),e[0]?h?h.p(e,c):(h=i(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(e){u||(Object(n.db)(l.$$.fragment,e),u=!0)},o(e){Object(n.eb)(l.$$.fragment,e),u=!1},d(e){e&&Object(n.u)(t),Object(n.s)(l),h&&h.d(),O=!1,j()}}}function r(e,t,c){let o,i,s;Object(n.m)(e,a.r,e=>c(1,o=e)),Object(n.m)(e,a.q,e=>c(2,i=e)),Object(n.m)(e,a.i,e=>c(3,s=e));let{showDate:r=!1}=t;return e.$$set=e=>{"showDate"in e&&c(0,r=e.showDate)},[r,o,i,s,()=>{a.j.set(i)}]}class l extends n.b{constructor(e){super(),Object(n.F)(this,e,r,s,n.Q,{showDate:0})}}var b=l,u=c(350),O=c(341),j=c(351),h=c(118);c(352);function d(e){let t,c,a,o,i,s,r,l,b,u,O,h,d,p,f,m,g,v,y,_,$;return i=new j.a({}),O=new j.a({}),g=new j.a({}),{c(){t=Object(n.v)("div"),c=Object(n.v)("button"),a=Object(n.v)("span"),a.textContent="Switch to Choropleth",o=Object(n.W)(),Object(n.o)(i.$$.fragment),r=Object(n.W)(),l=Object(n.v)("button"),b=Object(n.v)("span"),b.textContent="Switch to Bubble Map",u=Object(n.W)(),Object(n.o)(O.$$.fragment),d=Object(n.W)(),p=Object(n.v)("button"),f=Object(n.v)("span"),f.textContent="Switch to Spike Map",m=Object(n.W)(),Object(n.o)(g.$$.fragment),Object(n.h)(a,"aria-hidden",""),Object(n.h)(c,"aria-pressed",s="color"===e[5]?"true":"false"),Object(n.h)(c,"class","pg-button encoding-button choropleth svelte-1ncn4fm"),Object(n.h)(c,"title","Switch to Choropleth"),Object(n.cb)(c,"selected","color"===e[5]),Object(n.h)(b,"aria-hidden",""),Object(n.h)(l,"aria-pressed",h="bubble"===e[5]?"true":"false"),Object(n.h)(l,"class","pg-button encoding-button bubble svelte-1ncn4fm"),Object(n.h)(l,"title","Switch to Bubble Map"),Object(n.cb)(l,"selected","bubble"===e[5]),Object(n.h)(f,"aria-hidden",""),Object(n.h)(p,"aria-pressed",v="spike"===e[5]?"true":"false"),Object(n.h)(p,"class","pg-button encoding-button spike svelte-1ncn4fm"),Object(n.h)(p,"title","Switch to Spike Map"),Object(n.cb)(p,"selected","spike"===e[5]),Object(n.h)(t,"class","pg-button-vertical-group svelte-1ncn4fm")},m(s,j){Object(n.G)(s,t,j),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(c,o),Object(n.J)(i,c,null),Object(n.f)(t,r),Object(n.f)(t,l),Object(n.f)(l,b),Object(n.f)(l,u),Object(n.J)(O,l,null),Object(n.f)(t,d),Object(n.f)(t,p),Object(n.f)(p,f),Object(n.f)(p,m),Object(n.J)(g,p,null),y=!0,_||($=[Object(n.I)(c,"click",e[9]),Object(n.I)(l,"click",e[10]),Object(n.I)(p,"click",e[11])],_=!0)},p(e,t){(!y||32&t&&s!==(s="color"===e[5]?"true":"false"))&&Object(n.h)(c,"aria-pressed",s),32&t&&Object(n.cb)(c,"selected","color"===e[5]),(!y||32&t&&h!==(h="bubble"===e[5]?"true":"false"))&&Object(n.h)(l,"aria-pressed",h),32&t&&Object(n.cb)(l,"selected","bubble"===e[5]),(!y||32&t&&v!==(v="spike"===e[5]?"true":"false"))&&Object(n.h)(p,"aria-pressed",v),32&t&&Object(n.cb)(p,"selected","spike"===e[5])},i(e){y||(Object(n.db)(i.$$.fragment,e),Object(n.db)(O.$$.fragment,e),Object(n.db)(g.$$.fragment,e),y=!0)},o(e){Object(n.eb)(i.$$.fragment,e),Object(n.eb)(O.$$.fragment,e),Object(n.eb)(g.$$.fragment,e),y=!1},d(e){e&&Object(n.u)(t),Object(n.s)(i),Object(n.s)(O),Object(n.s)(g),_=!1,Object(n.P)($)}}}function p(e){let t;return{c(){t=Object(n.v)("div"),Object(n.h)(t,"class","loader loading svelte-1ncn4fm")},m(e,c){Object(n.G)(e,t,c)},d(e){e&&Object(n.u)(t)}}}function f(e){let t,c,a,o,i,s,r,l,b,h,f,m,g,v,y,_,$,w,x,S;o=new u.a({}),l=new O.a({}),g=new j.a({});let L=e[2]&&e[4]&&d(e),M=e[3]&&p();return{c(){t=Object(n.v)("div"),c=Object(n.v)("div"),a=Object(n.v)("button"),Object(n.o)(o.$$.fragment),s=Object(n.W)(),r=Object(n.v)("button"),Object(n.o)(l.$$.fragment),h=Object(n.W)(),f=Object(n.v)("div"),m=Object(n.v)("button"),Object(n.o)(g.$$.fragment),y=Object(n.W)(),L&&L.c(),_=Object(n.W)(),M&&M.c(),Object(n.h)(a,"class","pg-button"),Object(n.h)(a,"type","button"),Object(n.h)(a,"title","Zoom in"),Object(n.h)(a,"aria-label","Zoom in"),a.disabled=i=!e[1]||e[1].getZoom()<=e[1].getMinZoom(),Object(n.h)(r,"class","pg-button"),Object(n.h)(r,"type","button"),Object(n.h)(r,"title","Zoom out"),Object(n.h)(r,"aria-label","Zoom out"),r.disabled=b=!e[1]||e[1].getZoom()>=e[1].getMaxZoom(),Object(n.h)(c,"class","pg-button-vertical-group svelte-1ncn4fm"),Object(n.h)(m,"class","pg-button"),Object(n.h)(m,"type","button"),Object(n.h)(m,"title","Show entire map"),Object(n.h)(m,"aria-label","Show entire map"),m.disabled=v=!e[1],Object(n.h)(f,"class","svelte-1ncn4fm"),Object(n.h)(t,"class",$="root base-font-size "+e[0]+" svelte-1ncn4fm")},m(i,b){Object(n.G)(i,t,b),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.J)(o,a,null),Object(n.f)(c,s),Object(n.f)(c,r),Object(n.J)(l,r,null),Object(n.f)(t,h),Object(n.f)(t,f),Object(n.f)(f,m),Object(n.J)(g,m,null),Object(n.f)(t,y),L&&L.m(t,null),Object(n.f)(t,_),M&&M.m(t,null),w=!0,x||(S=[Object(n.I)(a,"click",e[6]),Object(n.I)(r,"click",e[7]),Object(n.I)(m,"click",e[8])],x=!0)},p(e,[c]){(!w||2&c&&i!==(i=!e[1]||e[1].getZoom()<=e[1].getMinZoom()))&&(a.disabled=i),(!w||2&c&&b!==(b=!e[1]||e[1].getZoom()>=e[1].getMaxZoom()))&&(r.disabled=b),(!w||2&c&&v!==(v=!e[1]))&&(m.disabled=v),e[2]&&e[4]?L?(L.p(e,c),20&c&&Object(n.db)(L,1)):(L=d(e),L.c(),Object(n.db)(L,1),L.m(t,_)):L&&(Object(n.C)(),Object(n.eb)(L,1,1,()=>{L=null}),Object(n.l)()),e[3]?M||(M=p(),M.c(),M.m(t,null)):M&&(M.d(1),M=null),(!w||1&c&&$!==($="root base-font-size "+e[0]+" svelte-1ncn4fm"))&&Object(n.h)(t,"class",$)},i(e){w||(Object(n.db)(o.$$.fragment,e),Object(n.db)(l.$$.fragment,e),Object(n.db)(g.$$.fragment,e),Object(n.db)(L),w=!0)},o(e){Object(n.eb)(o.$$.fragment,e),Object(n.eb)(l.$$.fragment,e),Object(n.eb)(g.$$.fragment,e),Object(n.eb)(L),w=!1},d(e){e&&Object(n.u)(t),Object(n.s)(o),Object(n.s)(l),Object(n.s)(g),L&&L.d(),M&&M.d(),x=!1,Object(n.P)(S)}}}function m(e,t,c){let o,i;Object(n.m)(e,a.x,e=>c(4,o=e)),Object(n.m)(e,a.s,e=>c(5,i=e));let{className:s=""}=t,{zoom:r}=t,{showEncodings:l=!1}=t,{loading:b=!1}=t;return e.$$set=e=>{"className"in e&&c(0,s=e.className),"zoom"in e&&c(1,r=e.zoom),"showEncodings"in e&&c(2,l=e.showEncodings),"loading"in e&&c(3,b=e.loading)},[s,r,l,b,o,i,()=>{Object(h.a)("map","zoomIn"),r.zoomIn()},()=>{Object(h.a)("map","zoomOut"),r.zoomOut()},()=>{Object(h.a)("map","zoomReset"),r.resetZoom()},()=>{a.s.set("color")},()=>{a.s.set("bubble")},()=>{a.s.set("spike")}]}class g extends n.b{constructor(e){super(),Object(n.F)(this,e,m,f,n.Q,{className:0,zoom:1,showEncodings:2,loading:3})}}var v=g,y=c(457),_=c(61);c(353);function $(e){let t,c,a,o,i,s,r,l,b,u,O,j,h,d,p,f,m,g,v=_.a.increasingIcon+"",y=_.a.steadyIcon+"",$=_.a.decreasingIcon+"";return{c(){t=Object(n.v)("ul"),c=Object(n.v)("li"),a=Object(n.v)("div"),o=Object(n.W)(),s=Object(n.ab)("\n    Increasing"),r=Object(n.W)(),l=Object(n.v)("li"),b=Object(n.v)("div"),u=Object(n.W)(),j=Object(n.ab)("\n    Steady"),h=Object(n.W)(),d=Object(n.v)("li"),p=Object(n.v)("div"),f=Object(n.W)(),g=Object(n.ab)("\n    Decreasing"),Object(n.h)(a,"class","color-block svelte-i5n6tl"),Object(n.V)(a,"background-color",_.a.increasing),i=new n.a(s),Object(n.h)(c,"class","svelte-i5n6tl"),Object(n.h)(b,"class","color-block svelte-i5n6tl"),Object(n.V)(b,"background-color",_.a.steady),O=new n.a(j),Object(n.h)(l,"class","svelte-i5n6tl"),Object(n.h)(p,"class","color-block svelte-i5n6tl"),Object(n.V)(p,"background-color",_.a.decreasing),m=new n.a(g),Object(n.h)(d,"class","svelte-i5n6tl"),Object(n.h)(t,"class","svelte-i5n6tl")},m(e,_){Object(n.G)(e,t,_),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(c,o),i.m(v,c),Object(n.f)(c,s),Object(n.f)(t,r),Object(n.f)(t,l),Object(n.f)(l,b),Object(n.f)(l,u),O.m(y,l),Object(n.f)(l,j),Object(n.f)(t,h),Object(n.f)(t,d),Object(n.f)(d,p),Object(n.f)(d,f),m.m($,d),Object(n.f)(d,g)},p:n.K,i:n.K,o:n.K,d(e){e&&Object(n.u)(t)}}}class w extends n.b{constructor(e){super(),Object(n.F)(this,e,null,$,n.Q,{})}}var x=w,S=c(451);c(354);function L(e,t,c){const n=e.slice();return n[8]=t[c],n}function M(e){let t,c,a,o=e[1].high+"";return{c(){t=Object(n.v)("li"),c=Object(n.ab)(o),Object(n.h)(t,"class","tick svelte-uoycec"),Object(n.V)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),Object(n.h)(t,"title",a=e[8].label)},m(e,a){Object(n.G)(e,t,a),Object(n.f)(t,c)},p(e,i){2&i&&o!==(o=e[1].high+"")&&Object(n.T)(c,o),2&i&&Object(n.V)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),2&i&&a!==(a=e[8].label)&&Object(n.h)(t,"title",a)},d(e){e&&Object(n.u)(t)}}}function k(e){let t,c,a,o,i,s,r,l,b,u,O,j=e[1].high+"",h=e[1].high+"",d=e[1].labels,p=[];for(let t=0;t<d.length;t+=1)p[t]=M(L(e,d,t));return{c(){t=Object(n.v)("ul"),c=Object(n.v)("li"),a=Object(n.ab)(j),o=Object(n.W)(),i=Object(n.v)("li"),s=Object(n.ab)(h),l=Object(n.W)();for(let e=0;e<p.length;e+=1)p[e].c();b=Object(n.W)(),u=Object(n.v)("li"),Object(n.h)(c,"class","tick tick-single svelte-uoycec"),Object(n.V)(c,"background","repeating-linear-gradient(-45deg, "+_.e+", white 30%)"),Object(n.h)(c,"title","NA"),Object(n.h)(i,"class","tick tick-single tick-space svelte-uoycec"),Object(n.V)(i,"background-color",_.f),Object(n.h)(i,"title",r=e[1].low),Object(n.h)(u,"class","tick tick-last svelte-uoycec"),Object(n.h)(u,"title",O=e[1].high),Object(n.h)(t,"data-testid","color-legend"),Object(n.h)(t,"class","svelte-uoycec"),Object(n.cb)(t,"loading-bg",e[0])},m(e,r){Object(n.G)(e,t,r),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(t,o),Object(n.f)(t,i),Object(n.f)(i,s),Object(n.f)(t,l);for(let e=0;e<p.length;e+=1)p[e].m(t,null);Object(n.f)(t,b),Object(n.f)(t,u)},p(e,[c]){if(2&c&&j!==(j=e[1].high+"")&&Object(n.T)(a,j),2&c&&h!==(h=e[1].high+"")&&Object(n.T)(s,h),2&c&&r!==(r=e[1].low)&&Object(n.h)(i,"title",r),2&c){let n;for(d=e[1].labels,n=0;n<d.length;n+=1){const a=L(e,d,n);p[n]?p[n].p(a,c):(p[n]=M(a),p[n].c(),p[n].m(t,b))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}2&c&&O!==(O=e[1].high)&&Object(n.h)(u,"title",O),1&c&&Object(n.cb)(t,"loading-bg",e[0])},i:n.K,o:n.K,d(e){e&&Object(n.u)(t),Object(n.t)(p,e)}}}function R(e,t,c){let o,i,s,r,l,b;Object(n.m)(e,a.I,e=>c(2,o=e)),Object(n.m)(e,a.q,e=>c(3,i=e)),Object(n.m)(e,a.k,e=>c(4,s=e)),Object(n.m)(e,a.e,e=>c(5,r=e)),Object(n.m)(e,a.E,e=>c(6,l=e)),Object(n.m)(e,a.w,e=>c(7,b=e));let u,{loading:O=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,O=e.loading)},e.$$.update=()=>{252&e.$$.dirty&&c(1,u=Object(S.c)(o,i,s,r,l,b))},[O,u]}class P extends n.b{constructor(e){super(),Object(n.F)(this,e,R,k,n.Q,{loading:0})}}var z=P,C=c(450);c(355);function V(e,t,c){const n=e.slice();return n[10]=t[c],n}function A(e){let t,c,a,o,i,s,r=e[10].label+"";return{c(){t=Object(n.v)("li"),c=Object(n.v)("div"),a=Object(n.v)("div"),o=Object(n.W)(),i=Object(n.v)("span"),s=Object(n.ab)(r),Object(n.h)(a,"class","bubble svelte-19hi244"),Object(n.V)(a,"width",2*e[3](e[10].value)*e[1]+"px"),Object(n.V)(a,"height",2*e[3](e[10].value)*e[1]+"px"),Object(n.V)(a,"background",Object(C.e)(e[10].color,_.b.fillOpacity)),Object(n.V)(a,"border-color",e[10].color),Object(n.h)(c,"class","bubble-wrapper svelte-19hi244"),Object(n.h)(t,"class","svelte-19hi244")},m(e,r){Object(n.G)(e,t,r),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(t,o),Object(n.f)(t,i),Object(n.f)(i,s)},p(e,t){14&t&&Object(n.V)(a,"width",2*e[3](e[10].value)*e[1]+"px"),14&t&&Object(n.V)(a,"height",2*e[3](e[10].value)*e[1]+"px"),4&t&&Object(n.V)(a,"background",Object(C.e)(e[10].color,_.b.fillOpacity)),4&t&&Object(n.V)(a,"border-color",e[10].color),4&t&&r!==(r=e[10].label+"")&&Object(n.T)(s,r)},d(e){e&&Object(n.u)(t)}}}function D(e){let t,c,a,o,i,s,r,l,b,u,O,j,h,d,p=e[2].high+"",f=e[2].labels,m=[];for(let t=0;t<f.length;t+=1)m[t]=A(V(e,f,t));return{c(){t=Object(n.v)("ul"),c=Object(n.v)("li"),a=Object(n.v)("div"),o=Object(n.v)("div"),i=Object(n.W)(),s=Object(n.v)("span"),s.textContent="NA",r=Object(n.W)();for(let e=0;e<m.length;e+=1)m[e].c();l=Object(n.W)(),b=Object(n.v)("li"),u=Object(n.v)("div"),O=Object(n.v)("div"),j=Object(n.W)(),h=Object(n.v)("span"),d=Object(n.ab)(p),Object(n.h)(o,"class","na svelte-19hi244"),Object(n.V)(o,"background","repeating-linear-gradient(-45deg, "+_.e+", white 30%)"),Object(n.h)(a,"class","bubble-wrapper svelte-19hi244"),Object(n.h)(c,"class","svelte-19hi244"),Object(n.V)(O,"width",2*e[3](e[2].highValue)*e[1]+"px"),Object(n.V)(O,"height",2*e[3](e[2].highValue)*e[1]+"px"),Object(n.V)(O,"background",Object(C.e)(e[2].highColor,_.b.fillOpacity)),Object(n.V)(O,"border-color",e[2].highColor),Object(n.h)(O,"class","bubble svelte-19hi244"),Object(n.h)(u,"class","bubble-wrapper svelte-19hi244"),Object(n.h)(b,"class","svelte-19hi244"),Object(n.h)(t,"data-testid","bubble-legend"),Object(n.h)(t,"class","svelte-19hi244"),Object(n.cb)(t,"loading-bg",e[0])},m(e,p){Object(n.G)(e,t,p),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(a,o),Object(n.f)(c,i),Object(n.f)(c,s),Object(n.f)(t,r);for(let e=0;e<m.length;e+=1)m[e].m(t,null);Object(n.f)(t,l),Object(n.f)(t,b),Object(n.f)(b,u),Object(n.f)(u,O),Object(n.f)(b,j),Object(n.f)(b,h),Object(n.f)(h,d)},p(e,[c]){if(14&c){let n;for(f=e[2].labels,n=0;n<f.length;n+=1){const a=V(e,f,n);m[n]?m[n].p(a,c):(m[n]=A(a),m[n].c(),m[n].m(t,l))}for(;n<m.length;n+=1)m[n].d(1);m.length=f.length}14&c&&Object(n.V)(O,"width",2*e[3](e[2].highValue)*e[1]+"px"),14&c&&Object(n.V)(O,"height",2*e[3](e[2].highValue)*e[1]+"px"),4&c&&Object(n.V)(O,"background",Object(C.e)(e[2].highColor,_.b.fillOpacity)),4&c&&Object(n.V)(O,"border-color",e[2].highColor),4&c&&p!==(p=e[2].high+"")&&Object(n.T)(d,p),1&c&&Object(n.cb)(t,"loading-bg",e[0])},i:n.K,o:n.K,d(e){e&&Object(n.u)(t),Object(n.t)(m,e)}}}function T(e,t,c){let o,i,s,r,l,b,u;Object(n.m)(e,a.I,e=>c(4,o=e)),Object(n.m)(e,a.q,e=>c(5,i=e)),Object(n.m)(e,a.k,e=>c(6,s=e)),Object(n.m)(e,a.e,e=>c(7,r=e)),Object(n.m)(e,a.E,e=>c(8,l=e)),Object(n.m)(e,a.w,e=>c(9,b=e)),Object(n.m)(e,a.d,e=>c(3,u=e));let O,{loading:j=!1}=t,{zoom:h=1}=t;return e.$$set=e=>{"loading"in e&&c(0,j=e.loading),"zoom"in e&&c(1,h=e.zoom)},e.$$.update=()=>{1008&e.$$.dirty&&c(2,O=Object(S.c)(o,i,s,r,l,b))},[j,h,O,u]}class E extends n.b{constructor(e){super(),Object(n.F)(this,e,T,D,n.Q,{loading:0,zoom:1})}}var W=E;c(356);function I(e,t,c){const n=e.slice();return n[14]=t[c],n}function Z(e){let t,c,a,o,i,s,r,l,b,u,O,j,h=e[14].label+"";return{c(){t=Object(n.v)("li"),c=Object(n.Z)("svg"),a=Object(n.Z)("g"),o=Object(n.Z)("path"),u=Object(n.W)(),O=Object(n.v)("span"),j=Object(n.ab)(h),Object(n.h)(o,"d",i=e[2](e[14].value)),Object(n.h)(o,"class","spike svelte-f727e1"),Object(n.h)(o,"fill",s=Object(C.e)(e[14].color,_.c.fillOpacity)),Object(n.h)(o,"stroke",r=Object(C.e)(e[14].color,_.c.strokeOpacity)),Object(n.V)(a,"transform","translate("+F+"px, "+F+"px)"),Object(n.h)(c,"width",l=2*e[3]+2*F),Object(n.h)(c,"height",b=e[5](e[14].value)*e[1]+2*F),Object(n.h)(c,"class","svelte-f727e1"),Object(n.h)(t,"class","legend-direct-tick svelte-f727e1")},m(e,i){Object(n.G)(e,t,i),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(a,o),Object(n.f)(t,u),Object(n.f)(t,O),Object(n.f)(O,j)},p(e,t){20&t&&i!==(i=e[2](e[14].value))&&Object(n.h)(o,"d",i),16&t&&s!==(s=Object(C.e)(e[14].color,_.c.fillOpacity))&&Object(n.h)(o,"fill",s),16&t&&r!==(r=Object(C.e)(e[14].color,_.c.strokeOpacity))&&Object(n.h)(o,"stroke",r),8&t&&l!==(l=2*e[3]+2*F)&&Object(n.h)(c,"width",l),50&t&&b!==(b=e[5](e[14].value)*e[1]+2*F)&&Object(n.h)(c,"height",b),16&t&&h!==(h=e[14].label+"")&&Object(n.T)(j,h)},d(e){e&&Object(n.u)(t)}}}function N(e){let t,c,a,o,i,s,r,l,b,u,O,j,h,d,p,f,m,g,v,y=e[4].high+"",$=e[4].labels,w=[];for(let t=0;t<$.length;t+=1)w[t]=Z(I(e,$,t));return{c(){t=Object(n.v)("ul"),c=Object(n.v)("li"),a=Object(n.v)("div"),o=Object(n.W)(),i=Object(n.v)("span"),i.textContent="NA",s=Object(n.W)();for(let e=0;e<w.length;e+=1)w[e].c();r=Object(n.W)(),l=Object(n.v)("li"),b=Object(n.Z)("svg"),u=Object(n.Z)("g"),O=Object(n.Z)("path"),m=Object(n.W)(),g=Object(n.v)("span"),v=Object(n.ab)(y),Object(n.h)(a,"class","na svelte-f727e1"),Object(n.V)(a,"background","repeating-linear-gradient(-45deg, "+_.e+", white 30%)"),Object(n.h)(c,"class","svelte-f727e1"),Object(n.h)(O,"d",j=e[2](e[4].highValue)),Object(n.h)(O,"class","spike svelte-f727e1"),Object(n.h)(O,"fill",h=Object(C.e)(e[4].highColor,_.c.fillOpacity)),Object(n.h)(O,"stroke",d=Object(C.e)(e[4].highColor,_.c.strokeOpacity)),Object(n.V)(u,"transform","translate("+F+"px, "+F+"px)"),Object(n.h)(b,"width",p=2*e[3]+2*F),Object(n.h)(b,"height",f=e[5](e[4].highValue)*e[1]+2*F),Object(n.h)(b,"class","svelte-f727e1"),Object(n.h)(l,"class","legend-direct-tick svelte-f727e1"),Object(n.h)(t,"class","legend-ticks svelte-f727e1"),Object(n.h)(t,"data-testid","spike-legend"),Object(n.cb)(t,"loading-bg",e[0])},m(e,j){Object(n.G)(e,t,j),Object(n.f)(t,c),Object(n.f)(c,a),Object(n.f)(c,o),Object(n.f)(c,i),Object(n.f)(t,s);for(let e=0;e<w.length;e+=1)w[e].m(t,null);Object(n.f)(t,r),Object(n.f)(t,l),Object(n.f)(l,b),Object(n.f)(b,u),Object(n.f)(u,O),Object(n.f)(l,m),Object(n.f)(l,g),Object(n.f)(g,v)},p(e,[c]){if(62&c){let n;for($=e[4].labels,n=0;n<$.length;n+=1){const a=I(e,$,n);w[n]?w[n].p(a,c):(w[n]=Z(a),w[n].c(),w[n].m(t,r))}for(;n<w.length;n+=1)w[n].d(1);w.length=$.length}20&c&&j!==(j=e[2](e[4].highValue))&&Object(n.h)(O,"d",j),16&c&&h!==(h=Object(C.e)(e[4].highColor,_.c.fillOpacity))&&Object(n.h)(O,"fill",h),16&c&&d!==(d=Object(C.e)(e[4].highColor,_.c.strokeOpacity))&&Object(n.h)(O,"stroke",d),8&c&&p!==(p=2*e[3]+2*F)&&Object(n.h)(b,"width",p),50&c&&f!==(f=e[5](e[4].highValue)*e[1]+2*F)&&Object(n.h)(b,"height",f),16&c&&y!==(y=e[4].high+"")&&Object(n.T)(v,y),1&c&&Object(n.cb)(t,"loading-bg",e[0])},i:n.K,o:n.K,d(e){e&&Object(n.u)(t),Object(n.t)(w,e)}}}const F=2;function B(e,t,c){let o,i,s,r,l,b,u;Object(n.m)(e,a.k,e=>c(6,o=e)),Object(n.m)(e,a.I,e=>c(8,i=e)),Object(n.m)(e,a.q,e=>c(9,s=e)),Object(n.m)(e,a.e,e=>c(10,r=e)),Object(n.m)(e,a.E,e=>c(11,l=e)),Object(n.m)(e,a.w,e=>c(12,b=e)),Object(n.m)(e,a.H,e=>c(5,u=e));let O,j,h,d,{loading:p=!1}=t,{zoom:f=1}=t,m=()=>"";return e.$$set=e=>{"loading"in e&&c(0,p=e.loading),"zoom"in e&&c(1,f=e.zoom)},e.$$.update=()=>{if(66&e.$$.dirty&&c(3,O=_.c.size[o]*f),66&e.$$.dirty&&c(7,j=_.c.maxHeight[o]*f),8e3&e.$$.dirty&&c(4,h=Object(S.c)(i,s,o,r,l,b)),128&e.$$.dirty&&(d=j+2*F),42&e.$$.dirty){const e=u,t=f,n=O;c(2,m=c=>"M 0 ".concat(e(c)*t," L ").concat(n," 0 L ").concat(2*n," ").concat(e(c)*t))}},[p,f,m,O,h,u]}class G extends n.b{constructor(e){super(),Object(n.F)(this,e,B,N,n.Q,{loading:0,zoom:1})}}var H=G,J=c(6);c(357);function K(e){let t,c,a,o,i=e[5](e[2])+"";return{c(){t=Object(n.v)("div"),c=Object(n.ab)(i),a=Object(n.ab)("% Coverage"),Object(n.h)(t,"class","root base-font-size container-style svelte-9d0ztf"),Object(n.h)(t,"data-testid","coverage"),Object(n.h)(t,"title",o="Showing data for ".concat(e[2]," ").concat(e[4].labelPlural," out of ").concat(e[3]," ").concat(e[4].labelPlural," (").concat(e[5](e[2]),"%)")),Object(n.cb)(t,"hidden",!e[0]||!e[0].data),Object(n.cb)(t,"loading-bg",e[1])},m(e,o){Object(n.G)(e,t,o),Object(n.f)(t,c),Object(n.f)(t,a)},p(e,[a]){4&a&&i!==(i=e[5](e[2])+"")&&Object(n.T)(c,i),28&a&&o!==(o="Showing data for ".concat(e[2]," ").concat(e[4].labelPlural," out of ").concat(e[3]," ").concat(e[4].labelPlural," (").concat(e[5](e[2]),"%)"))&&Object(n.h)(t,"title",o),1&a&&Object(n.cb)(t,"hidden",!e[0]||!e[0].data),2&a&&Object(n.cb)(t,"loading-bg",e[1])},i:n.K,o:n.K,d(e){e&&Object(n.u)(t)}}}function U(e,t,c){let n,a,{summary:o=null}=t,i=!0,s=0;return e.$$set=e=>{"summary"in e&&c(0,o=e.summary)},e.$$.update=()=>{1&e.$$.dirty&&c(3,n=o?o.items.reduce((e,t)=>e+(t.level===o.level?1:0),0):0),1&e.$$.dirty&&c(4,a=Object(J.d)(o?o.level:"county")),1&e.$$.dirty&&(c(1,i=!0),o&&o.data&&o.data.then(e=>{let t=0;for(const c of e)c.geo_value.endsWith("000")||null==c.value||Number.isNaN(c.value)||t++;c(1,i=!1),c(2,s=t)}))},[o,i,s,n,a,function(e){return Math.round(100*e/n)}]}class q extends n.b{constructor(e){super(),Object(n.F)(this,e,U,K,n.Q,{summary:0})}}var Q=q;c(358);function Y(e){let t,c;return t=new H({props:{loading:e[2],zoom:e[3]}}),{c(){Object(n.o)(t.$$.fragment)},m(e,a){Object(n.J)(t,e,a),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),8&c&&(n.zoom=e[3]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.s)(t,e)}}}function X(e){let t,c;return t=new W({props:{loading:e[2],zoom:e[3]}}),{c(){Object(n.o)(t.$$.fragment)},m(e,a){Object(n.J)(t,e,a),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),8&c&&(n.zoom=e[3]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.s)(t,e)}}}function ee(e){let t,c;return t=new z({props:{loading:e[2]}}),{c(){Object(n.o)(t.$$.fragment)},m(e,a){Object(n.J)(t,e,a),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.s)(t,e)}}}function te(e){let t,c;return t=new x({}),{c(){Object(n.o)(t.$$.fragment)},m(e,a){Object(n.J)(t,e,a),c=!0},p:n.K,i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.s)(t,e)}}}function ce(e){let t,c,a,o,i,s,r,l,u,O,j,h,d,p,f,m,g,_,$;a=new b({props:{showDate:e[4]}}),s=new v({props:{zoom:e[0]?e[0].zoom:null,showEncodings:!0,loading:e[1]}}),u=new y.a({props:{sensor:e[6],className:"container-bg container-style encoding-wrapper"}});const w=[te,ee,X,Y],x=[];function S(e,t){return e[7]?0:"color"===e[8]?1:"bubble"===e[8]?2:"spike"===e[8]?3:-1}return~(p=S(e))&&(f=x[p]=w[p](e)),_=new Q({props:{summary:e[5]}}),{c(){t=Object(n.v)("div"),c=Object(n.v)("div"),Object(n.o)(a.$$.fragment),o=Object(n.W)(),i=Object(n.v)("div"),Object(n.o)(s.$$.fragment),r=Object(n.W)(),l=Object(n.v)("div"),Object(n.o)(u.$$.fragment),O=Object(n.W)(),j=Object(n.v)("div"),h=Object(n.v)("div"),d=Object(n.W)(),f&&f.c(),m=Object(n.W)(),g=Object(n.v)("div"),Object(n.o)(_.$$.fragment),Object(n.h)(c,"class","title-container container-bg svelte-linlhm"),Object(n.h)(i,"class","map-controls-container svelte-linlhm"),Object(n.h)(t,"class","map-top-overlay svelte-linlhm"),Object(n.h)(h,"class","signal-description svelte-linlhm"),Object(n.h)(j,"class","container-bg container-style"),Object(n.h)(l,"class","legend-container base-font-size svelte-linlhm"),Object(n.h)(l,"aria-label","map legend"),Object(n.h)(g,"class","summary-container svelte-linlhm"),Object(n.h)(g,"aria-label","map data summary")},m(e,b){Object(n.G)(e,t,b),Object(n.f)(t,c),Object(n.J)(a,c,null),Object(n.f)(t,o),Object(n.f)(t,i),Object(n.J)(s,i,null),Object(n.G)(e,r,b),Object(n.G)(e,l,b),Object(n.J)(u,l,null),Object(n.f)(l,O),Object(n.f)(l,j),Object(n.f)(j,h),Object(n.f)(j,d),~p&&x[p].m(j,null),Object(n.G)(e,m,b),Object(n.G)(e,g,b),Object(n.J)(_,g,null),$=!0},p(e,[t]){const c={};16&t&&(c.showDate=e[4]),a.$set(c);const o={};1&t&&(o.zoom=e[0]?e[0].zoom:null),2&t&&(o.loading=e[1]),s.$set(o);const i={};64&t&&(i.sensor=e[6]),u.$set(i);let r=p;p=S(e),p===r?~p&&x[p].p(e,t):(f&&(Object(n.C)(),Object(n.eb)(x[r],1,1,()=>{x[r]=null}),Object(n.l)()),~p?(f=x[p],f||(f=x[p]=w[p](e),f.c()),Object(n.db)(f,1),f.m(j,null)):f=null);const l={};32&t&&(l.summary=e[5]),_.$set(l)},i(e){$||(Object(n.db)(a.$$.fragment,e),Object(n.db)(s.$$.fragment,e),Object(n.db)(u.$$.fragment,e),Object(n.db)(f),Object(n.db)(_.$$.fragment,e),$=!0)},o(e){Object(n.eb)(a.$$.fragment,e),Object(n.eb)(s.$$.fragment,e),Object(n.eb)(u.$$.fragment,e),Object(n.eb)(f),Object(n.eb)(_.$$.fragment,e),$=!1},d(e){e&&Object(n.u)(t),Object(n.s)(a),Object(n.s)(s),e&&Object(n.u)(r),e&&Object(n.u)(l),Object(n.s)(u),~p&&x[p].d(),e&&Object(n.u)(m),e&&Object(n.u)(g),Object(n.s)(_)}}}function ne(e,t,c){let o,i,s;Object(n.m)(e,a.q,e=>c(6,o=e)),Object(n.m)(e,a.v,e=>c(7,i=e)),Object(n.m)(e,a.s,e=>c(8,s=e));let{map:r=null}=t,{mapLoading:l=!0}=t,{legendLoading:b=!0}=t,{zoom:u=1}=t,{showDate:O=!1}=t,{summary:j=null}=t;return e.$$set=e=>{"map"in e&&c(0,r=e.map),"mapLoading"in e&&c(1,l=e.mapLoading),"legendLoading"in e&&c(2,b=e.legendLoading),"zoom"in e&&c(3,u=e.zoom),"showDate"in e&&c(4,O=e.showDate),"summary"in e&&c(5,j=e.summary)},[r,l,b,u,O,j,o,i,s]}class ae extends n.b{constructor(e){super(),Object(n.F)(this,e,ne,ce,n.Q,{map:0,mapLoading:1,legendLoading:2,zoom:3,showDate:4,summary:5})}}t.a=ae}}]);