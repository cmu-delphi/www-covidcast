(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{379:function(e,t,c){"use strict";c.r(t);var n=c(1),l=c(409),a=c(2),r=c(157),o=c(330),i=c(370),b=c(38),s=c(82),u=c(410),O=c(406),j=c(42),d=c(403),p=c(331),g=c(400),m=c(155),f=c(4);c(371);function h(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function v(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?h(Object(c),!0).forEach((function(t){y(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):h(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function y(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function $(e){let t,c,l,a,r,o=(e[3]&&null!=e[3].value?e[2].formatValue(e[3].value):"Unknown")+"",i=e[8].toLocaleDateString()+"";return{c(){t=Object(n.u)("td"),c=Object(n.ab)(o),l=Object(n.W)(),a=Object(n.u)("span"),r=Object(n.ab)(i),Object(n.g)(a,"class","date svelte-19byogp"),Object(n.g)(t,"class","right svelte-19byogp")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(t,l),Object(n.e)(t,a),Object(n.e)(a,r)},p(e,t){12&t&&o!==(o=(e[3]&&null!=e[3].value?e[2].formatValue(e[3].value):"Unknown")+"")&&Object(n.S)(c,o),256&t&&i!==(i=e[8].toLocaleDateString()+"")&&Object(n.S)(r,i)},d(e){e&&Object(n.t)(t)}}}function w(e){let t,c,l,a,r,o,i,b,s,u,O,j,d,p=(e[3]&&null!=e[3][e[4]]?e[2].formatValue(e[3][e[4]]):"Unknown")+"",g=e[8].toLocaleDateString()+"",m=(e[3]&&null!=e[3][e[5]]?e[2].formatValue(e[3][e[5]]):"Unknown")+"",f=e[8].toLocaleDateString()+"";return{c(){t=Object(n.u)("td"),c=Object(n.ab)(p),l=Object(n.W)(),a=Object(n.u)("span"),r=Object(n.ab)(g),o=Object(n.W)(),i=Object(n.u)("td"),b=Object(n.ab)(m),s=Object(n.W)(),u=Object(n.u)("span"),O=Object(n.ab)(f),j=Object(n.W)(),d=Object(n.u)("span"),d.textContent="(cumulative)",Object(n.g)(a,"class","date svelte-19byogp"),Object(n.g)(t,"class","right svelte-19byogp"),Object(n.g)(u,"class","date svelte-19byogp"),Object(n.g)(d,"class","date svelte-19byogp"),Object(n.g)(i,"class","right svelte-19byogp")},m(e,p){Object(n.F)(e,t,p),Object(n.e)(t,c),Object(n.e)(t,l),Object(n.e)(t,a),Object(n.e)(a,r),Object(n.F)(e,o,p),Object(n.F)(e,i,p),Object(n.e)(i,b),Object(n.e)(i,s),Object(n.e)(i,u),Object(n.e)(u,O),Object(n.e)(i,j),Object(n.e)(i,d)},p(e,t){28&t&&p!==(p=(e[3]&&null!=e[3][e[4]]?e[2].formatValue(e[3][e[4]]):"Unknown")+"")&&Object(n.S)(c,p),256&t&&g!==(g=e[8].toLocaleDateString()+"")&&Object(n.S)(r,g),44&t&&m!==(m=(e[3]&&null!=e[3][e[5]]?e[2].formatValue(e[3][e[5]]):"Unknown")+"")&&Object(n.S)(b,m),256&t&&f!==(f=e[8].toLocaleDateString()+"")&&Object(n.S)(O,f)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(o),e&&Object(n.t)(i)}}}function S(e){let t,c,l,a;function r(e,t){return e[2].isCasesOrDeath?w:$}let o=r(e),i=o(e);return l=new O.a({props:{data:e[6],spec:e[7],signals:{currentDate:e[8],highlightTimeValue:e[0]},signalListeners:["highlight"],tooltip:d.a,tooltipProps:{sensor:e[2]}}}),l.$on("signal",(function(){Object(n.G)(e[1])&&e[1].apply(this,arguments)})),{c(){i.c(),t=Object(n.W)(),c=Object(n.u)("td"),Object(n.n)(l.$$.fragment),Object(n.g)(c,"class","chart svelte-19byogp")},m(e,r){i.m(e,r),Object(n.F)(e,t,r),Object(n.F)(e,c,r),Object(n.I)(l,c,null),a=!0},p(c,[n]){o===(o=r(e=c))&&i?i.p(e,n):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)));const a={};64&n&&(a.data=e[6]),128&n&&(a.spec=e[7]),257&n&&(a.signals={currentDate:e[8],highlightTimeValue:e[0]}),4&n&&(a.tooltipProps={sensor:e[2]}),l.$set(a)},i(e){a||(Object(n.db)(l.$$.fragment,e),a=!0)},o(e){Object(n.eb)(l.$$.fragment,e),a=!1},d(e){i.d(e),e&&Object(n.t)(t),e&&Object(n.t)(c),Object(n.r)(l)}}}function k(e,t,c){let l,o;Object(n.l)(e,a.E,e=>c(14,l=e)),Object(n.l)(e,a.h,e=>c(8,o=e));let{row:i}=t,{level:b}=t;const s=Object(j.h)("20200401"),O=a.G;let d,h,y,$,w,S,{highlightTimeValue:k}=t,{onHighlight:x}=t,{sensor:P}=t,{single:F}=t,{ratioOptions:T}=t;return e.$$set=e=>{"row"in e&&c(9,i=e.row),"level"in e&&c(10,b=e.level),"highlightTimeValue"in e&&c(0,k=e.highlightTimeValue),"onHighlight"in e&&c(1,x=e.onHighlight),"sensor"in e&&c(2,P=e.sensor),"single"in e&&c(3,F=e.single),"ratioOptions"in e&&c(11,T=e.ratioOptions)},e.$$.update=()=>{512&e.$$.dirty&&c(12,d=i.propertyId),2052&e.$$.dirty&&c(4,h=Object(f.i)(P,T)),2052&e.$$.dirty&&c(5,y=Object(f.i)(P,v(v({},T),{},{cumulative:!0}))),5124&e.$$.dirty&&c(6,$=Object(r.c)(P,b,d,s,O,!0,{geo_value:d,stderr:null})),19460&e.$$.dirty&&c(13,w=Object(g.b)(l,P,b,T)),8724&e.$$.dirty&&c(7,S=Object(p.a)({},Object(u.a)(P,[{info:i,color:m.d.selectedRegionOutline}],null),{encoding:{y:{field:"percent"===P.format?"pValue":h,scale:{domain:"percent"===P.format?[w[0]/100,w[1]/100]:w,clamp:!0}}}}))},[k,x,P,F,h,y,$,S,o,i,b,T]}class x extends n.b{constructor(e){super(),Object(n.E)(this,e,k,S,n.P,{row:9,level:10,highlightTimeValue:0,onHighlight:1,sensor:2,single:3,ratioOptions:11})}}var P=x,F=c(402),T=c(351),D=c(372),_=c(373);c(374);function E(e){let t,c,l,a;const r=[I,W],o=[];function i(e,t){return e[0]?0:1}return t=i(e),c=o[t]=r[t](e),{c(){c.c(),l=Object(n.v)()},m(e,c){o[t].m(e,c),Object(n.F)(e,l,c),a=!0},p(e,a){let b=t;t=i(e),t!==b&&(Object(n.B)(),Object(n.eb)(o[b],1,1,()=>{o[b]=null}),Object(n.k)(),c=o[t],c||(c=o[t]=r[t](e),c.c()),Object(n.db)(c,1),c.m(l.parentNode,l))},i(e){a||(Object(n.db)(c),a=!0)},o(e){Object(n.eb)(c),a=!1},d(e){o[t].d(e),e&&Object(n.t)(l)}}}function W(e){let t,c;return t=new D.a({}),{c(){Object(n.n)(t.$$.fragment)},m(e,l){Object(n.I)(t,e,l),c=!0},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function I(e){let t,c;return t=new _.a({}),{c(){Object(n.n)(t.$$.fragment)},m(e,l){Object(n.I)(t,e,l),c=!0},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function C(e){let t,c,l,a,r,o,i,b=e[1]&&E(e);const s=e[4].default,u=Object(n.q)(s,e,e[3],null);return{c(){t=Object(n.u)("span"),c=Object(n.u)("span"),b&&b.c(),l=Object(n.W)(),u&&u.c(),Object(n.g)(c,"class","hint svelte-17ogny5"),Object(n.g)(t,"class","root svelte-17ogny5"),Object(n.g)(t,"title",a=e[2]+": click to sort")},m(a,s){Object(n.F)(a,t,s),Object(n.e)(t,c),b&&b.m(c,null),Object(n.e)(t,l),u&&u.m(t,null),r=!0,o||(i=Object(n.H)(t,"click",e[5]),o=!0)},p(e,[l]){e[1]?b?(b.p(e,l),2&l&&Object(n.db)(b,1)):(b=E(e),b.c(),Object(n.db)(b,1),b.m(c,null)):b&&(Object(n.B)(),Object(n.eb)(b,1,1,()=>{b=null}),Object(n.k)()),u&&u.p&&8&l&&Object(n.gb)(u,s,e,e[3],l,null,null),(!r||4&l&&a!==(a=e[2]+": click to sort"))&&Object(n.g)(t,"title",a)},i(e){r||(Object(n.db)(b),Object(n.db)(u,e),r=!0)},o(e){Object(n.eb)(b),Object(n.eb)(u,e),r=!1},d(e){e&&Object(n.t)(t),b&&b.d(),u&&u.d(e),o=!1,i()}}}function N(e,t,c){let{$$slots:l={},$$scope:a}=t,{desc:r=!1}=t,{sorted:o=!1}=t,{label:i=""}=t;return e.$$set=e=>{"desc"in e&&c(0,r=e.desc),"sorted"in e&&c(1,o=e.sorted),"label"in e&&c(2,i=e.label),"$$scope"in e&&c(3,a=e.$$scope)},[r,o,i,a,l,function(t){Object(n.j)(e,t)}]}class V extends n.b{constructor(e){super(),Object(n.E)(this,e,N,C,n.P,{desc:0,sorted:1,label:2})}}var L=V;c(375);function z(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function H(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?z(Object(c),!0).forEach((function(t){R(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):z(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function R(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function A(e,t,c){const n=e.slice();return n[36]=t[c],n[38]=c,n}function U(e,t,c){const n=e.slice();return n[33]=t[c],n}function B(e,t,c){const n=e.slice();return n[42]=t[c],n}function q(e,t,c){const n=e.slice();return n[39]=t[c],n}function J(e,t,c){const n=e.slice();return n[36]=t[c],n[46]=c,n}function G(e){let t;return{c(){t=Object(n.ab)("Name")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function M(e){let t;return{c(){t=Object(n.ab)("Pop.")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function Q(e){let t,c=("function"==typeof e[8].mapTitleText?e[8].mapTitleText(e[12]):e[8].name)+"";return{c(){t=Object(n.ab)(c)},m(e,c){Object(n.F)(e,t,c)},p(e,l){256&l[0]&&c!==(c=("function"==typeof e[8].mapTitleText?e[8].mapTitleText(e[12]):e[8].name)+"")&&Object(n.S)(t,c)},d(e){e&&Object(n.t)(t)}}}function K(e){let t,c,l,a,r,i,b,s=("function"==typeof e[36].mapTitleText?e[36].mapTitleText(e[12]):e[36].name)+"";function u(...t){return e[21](e[36],...t)}return a=new o.a({}),{c(){t=Object(n.ab)(s),c=Object(n.W)(),l=Object(n.u)("button"),Object(n.n)(a.$$.fragment),Object(n.g)(l,"class","pg-button remove-column svelte-b0tstg"),Object(n.g)(l,"title","Remove column")},m(e,o){Object(n.F)(e,t,o),Object(n.F)(e,c,o),Object(n.F)(e,l,o),Object(n.I)(a,l,null),r=!0,i||(b=Object(n.H)(l,"click",u),i=!0)},p(c,l){e=c,(!r||8&l[0])&&s!==(s=("function"==typeof e[36].mapTitleText?e[36].mapTitleText(e[12]):e[36].name)+"")&&Object(n.S)(t,s)},i(e){r||(Object(n.db)(a.$$.fragment,e),r=!0)},o(e){Object(n.eb)(a.$$.fragment,e),r=!1},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c),e&&Object(n.t)(l),Object(n.r)(a),i=!1,b()}}}function X(e){let t,c,l,a;return c=new L({props:{label:e[36].name,sorted:e[1]===e[46],desc:e[2],$$slots:{default:[K]},$$scope:{ctx:e}}}),c.$on("click",(function(...t){return e[22](e[46],...t)})),{c(){t=Object(n.u)("th"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"colspan",l=e[36].isCasesOrDeath?3:2),Object(n.g)(t,"class","svelte-b0tstg")},m(e,l){Object(n.F)(e,t,l),Object(n.I)(c,t,null),a=!0},p(r,o){e=r;const i={};8&o[0]&&(i.label=e[36].name),2&o[0]&&(i.sorted=e[1]===e[46]),4&o[0]&&(i.desc=e[2]),8&o[0]|65536&o[1]&&(i.$$scope={dirty:o,ctx:e}),c.$set(i),(!a||8&o[0]&&l!==(l=e[36].isCasesOrDeath?3:2))&&Object(n.g)(t,"colspan",l)},i(e){a||(Object(n.db)(c.$$.fragment,e),a=!0)},o(e){Object(n.eb)(c.$$.fragment,e),a=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c)}}}function Y(e){let t,c,l,a,r,o=f.e,i=[];for(let t=0;t<o.length;t+=1)i[t]=ee(q(e,o,t));return{c(){t=Object(n.u)("th"),c=Object(n.u)("select"),l=Object(n.u)("option"),l.textContent="Add indicator";for(let e=0;e<i.length;e+=1)i[e].c();l.__value="",l.value=l.__value,Object(n.g)(c,"aria-label","add column options"),Object(n.g)(c,"class","add-column svelte-b0tstg"),void 0===e[6]&&Object(n.d)(()=>e[23].call(c)),Object(n.g)(t,"class","add-column-container svelte-b0tstg"),Object(n.g)(t,"rowspan","2")},m(o,b){Object(n.F)(o,t,b),Object(n.e)(t,c),Object(n.e)(c,l);for(let e=0;e<i.length;e+=1)i[e].m(c,null);Object(n.Q)(c,e[6]),a||(r=Object(n.H)(c,"change",e[23]),a=!0)},p(e,t){if(264&t[0]){let n;for(o=f.e,n=0;n<o.length;n+=1){const l=q(e,o,n);i[n]?i[n].p(l,t):(i[n]=ee(l),i[n].c(),i[n].m(c,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}64&t[0]&&Object(n.Q)(c,e[6])},d(e){e&&Object(n.t)(t),Object(n.s)(i,e),a=!1,r()}}}function Z(e){let t,c,l,a,r,o,i=e[42].name+"";return{c(){t=Object(n.u)("option"),c=Object(n.ab)(i),l=Object(n.W)(),t.disabled=a=e[42].key===e[8].key||e[3].includes(e[42]),Object(n.g)(t,"title",r="function"==typeof e[42].tooltipText?e[42].tooltipText():e[42].tooltipText),t.__value=o=e[42].key,t.value=t.__value},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,l)},p(e,c){264&c[0]&&a!==(a=e[42].key===e[8].key||e[3].includes(e[42]))&&(t.disabled=a)},d(e){e&&Object(n.t)(t)}}}function ee(e){let t,c,l=e[39].sensors,a=[];for(let t=0;t<l.length;t+=1)a[t]=Z(B(e,l,t));return{c(){t=Object(n.u)("optgroup");for(let e=0;e<a.length;e+=1)a[e].c();Object(n.g)(t,"label",c=e[39].label)},m(e,c){Object(n.F)(e,t,c);for(let e=0;e<a.length;e+=1)a[e].m(t,null)},p(e,c){if(264&c[0]){let n;for(l=e[39].sensors,n=0;n<l.length;n+=1){const r=B(e,l,n);a[n]?a[n].p(r,c):(a[n]=Z(r),a[n].c(),a[n].m(t,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&Object(n.t)(t),Object(n.s)(a,e)}}}function te(e){let t,c;return t=new P({props:{sensor:e[36],single:e[33].others[e[38]],row:e[33],level:e[33].level,highlightTimeValue:e[7],ratioOptions:e[12],onHighlight:e[16]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,l){Object(n.I)(t,e,l),c=!0},p(e,c){const n={};8&c[0]&&(n.sensor=e[36]),512&c[0]&&(n.single=e[33].others[e[38]]),512&c[0]&&(n.row=e[33]),512&c[0]&&(n.level=e[33].level),128&c[0]&&(n.highlightTimeValue=e[7]),t.$set(n)},i(e){c||(Object(n.db)(t.$$.fragment,e),c=!0)},o(e){Object(n.eb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function ce(e){let t,c,l,a,r,o,b,s,u,O,j,d,p,g,m,f,h,v,y,$,w=e[33].rank+"",S=e[33].displayName+"",k=(null!=e[33].population?e[33].population.toLocaleString():"Unknown")+"";O=new i.a({}),m=new P({props:{sensor:e[8],single:e[33].primary,row:e[33],level:e[33].level,highlightTimeValue:e[7],ratioOptions:e[12],onHighlight:e[16]}});let x=e[3],F=[];for(let t=0;t<x.length;t+=1)F[t]=te(A(e,x,t));const T=e=>Object(n.eb)(F[e],1,1,()=>{F[e]=null});return{c(){t=Object(n.u)("tr"),c=Object(n.u)("td"),l=Object(n.ab)(w),a=Object(n.ab)("."),r=Object(n.W)(),o=Object(n.u)("td"),b=Object(n.ab)(S),s=Object(n.W)(),u=Object(n.u)("span"),Object(n.n)(O.$$.fragment),j=Object(n.W)(),d=Object(n.u)("td"),p=Object(n.ab)(k),g=Object(n.W)(),Object(n.n)(m.$$.fragment),f=Object(n.W)();for(let e=0;e<F.length;e+=1)F[e].c();h=Object(n.W)(),Object(n.g)(c,"class","svelte-b0tstg"),Object(n.g)(u,"class","go-to-map-pin svelte-b0tstg"),Object(n.g)(u,"title","Show on Map"),Object(n.g)(o,"class","svelte-b0tstg"),Object(n.g)(d,"class","right table-pop-column svelte-b0tstg"),Object(n.g)(d,"title","Population"),Object(n.g)(t,"class","svelte-b0tstg"),Object(n.cb)(t,"selected",e[33].propertyId===e[10])},m(i,w){Object(n.F)(i,t,w),Object(n.e)(t,c),Object(n.e)(c,l),Object(n.e)(c,a),Object(n.e)(t,r),Object(n.e)(t,o),Object(n.e)(o,b),Object(n.e)(o,s),Object(n.e)(o,u),Object(n.I)(O,u,null),Object(n.e)(t,j),Object(n.e)(t,d),Object(n.e)(d,p),Object(n.e)(t,g),Object(n.I)(m,t,null),Object(n.e)(t,f);for(let e=0;e<F.length;e+=1)F[e].m(t,null);Object(n.e)(t,h),v=!0,y||($=Object(n.H)(u,"click",(function(){Object(n.G)(e[13](e[33]))&&e[13](e[33]).apply(this,arguments)})),y=!0)},p(c,a){e=c,(!v||512&a[0])&&w!==(w=e[33].rank+"")&&Object(n.S)(l,w),(!v||512&a[0])&&S!==(S=e[33].displayName+"")&&Object(n.S)(b,S),(!v||512&a[0])&&k!==(k=(null!=e[33].population?e[33].population.toLocaleString():"Unknown")+"")&&Object(n.S)(p,k);const r={};if(256&a[0]&&(r.sensor=e[8]),512&a[0]&&(r.single=e[33].primary),512&a[0]&&(r.row=e[33]),512&a[0]&&(r.level=e[33].level),128&a[0]&&(r.highlightTimeValue=e[7]),m.$set(r),70280&a[0]){let c;for(x=e[3],c=0;c<x.length;c+=1){const l=A(e,x,c);F[c]?(F[c].p(l,a),Object(n.db)(F[c],1)):(F[c]=te(l),F[c].c(),Object(n.db)(F[c],1),F[c].m(t,h))}for(Object(n.B)(),c=x.length;c<F.length;c+=1)T(c);Object(n.k)()}1536&a[0]&&Object(n.cb)(t,"selected",e[33].propertyId===e[10])},i(e){if(!v){Object(n.db)(O.$$.fragment,e),Object(n.db)(m.$$.fragment,e);for(let e=0;e<x.length;e+=1)Object(n.db)(F[e]);v=!0}},o(e){Object(n.eb)(O.$$.fragment,e),Object(n.eb)(m.$$.fragment,e),F=F.filter(Boolean);for(let e=0;e<F.length;e+=1)Object(n.eb)(F[e]);v=!1},d(e){e&&Object(n.t)(t),Object(n.r)(O),Object(n.r)(m),Object(n.s)(F,e),y=!1,$()}}}function ne(e){let t,c,l,a,r,o,i,b,s,u,O,j=e[5].length-e[9].length+"",d=e[5].length-e[9].length>1?"locations":"location";return{c(){t=Object(n.u)("tfoot"),c=Object(n.u)("tr"),l=Object(n.u)("td"),a=Object(n.ab)(j),r=Object(n.W)(),o=Object(n.ab)(d),i=Object(n.ab)(" hidden "),b=Object(n.u)("button"),b.textContent="Show ".concat(ae," more locations"),Object(n.g)(b,"class","pg-button svelte-b0tstg"),Object(n.g)(l,"colspan",s=3+(e[8].isCasesOrDeath?3:2)+e[3].reduce(oe,0)),Object(n.g)(l,"class","button-bar svelte-b0tstg")},m(s,j){Object(n.F)(s,t,j),Object(n.e)(t,c),Object(n.e)(c,l),Object(n.e)(l,a),Object(n.e)(l,r),Object(n.e)(l,o),Object(n.e)(l,i),Object(n.e)(l,b),u||(O=Object(n.H)(b,"click",e[14]),u=!0)},p(e,t){544&t[0]&&j!==(j=e[5].length-e[9].length+"")&&Object(n.S)(a,j),544&t[0]&&d!==(d=e[5].length-e[9].length>1?"locations":"location")&&Object(n.S)(o,d),264&t[0]&&s!==(s=3+(e[8].isCasesOrDeath?3:2)+e[3].reduce(oe,0))&&Object(n.g)(l,"colspan",s)},d(e){e&&Object(n.t)(t),u=!1,O()}}}function le(e){let t,c,a,r,o,i,b,u,O,j,d,p,g,m,f,h,v,y,$,w,S,k,x,P,T,D;c=new l.a({props:{className:"options-container"}}),r=new F.a({props:{className:"search-container container-bg container-style",placeholder:"Search for a location...",items:s.d,selectedItem:e[11],labelFieldName:"displayName",maxItemsToShowInList:"5"}}),r.$on("change",e[17]),g=new L({props:{label:"Name",sorted:"name"===e[1],desc:e[2],$$slots:{default:[G]},$$scope:{ctx:e}}}),g.$on("click",e[18]),h=new L({props:{label:"Population",sorted:"population"===e[1],desc:e[2],$$slots:{default:[M]},$$scope:{ctx:e}}}),h.$on("click",e[19]),$=new L({props:{label:e[8].name,sorted:"primary"===e[1],desc:e[2],$$slots:{default:[Q]},$$scope:{ctx:e}}}),$.$on("click",e[20]);let _=e[3],E=[];for(let t=0;t<_.length;t+=1)E[t]=X(J(e,_,t));const W=e=>Object(n.eb)(E[e],1,1,()=>{E[e]=null});let I=e[3].length<re&&Y(e),C=e[9],N=[];for(let t=0;t<C.length;t+=1)N[t]=ce(U(e,C,t));const V=e=>Object(n.eb)(N[e],1,1,()=>{N[e]=null});let z=e[0]<e[5].length&&ne(e);return{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),a=Object(n.W)(),Object(n.n)(r.$$.fragment),o=Object(n.W)(),i=Object(n.u)("div"),b=Object(n.u)("table"),u=Object(n.u)("thead"),O=Object(n.u)("tr"),j=Object(n.u)("th"),j.textContent="#",d=Object(n.W)(),p=Object(n.u)("th"),Object(n.n)(g.$$.fragment),m=Object(n.W)(),f=Object(n.u)("th"),Object(n.n)(h.$$.fragment),v=Object(n.W)(),y=Object(n.u)("th"),Object(n.n)($.$$.fragment),S=Object(n.W)();for(let e=0;e<E.length;e+=1)E[e].c();k=Object(n.W)(),I&&I.c(),x=Object(n.W)(),P=Object(n.u)("tbody");for(let e=0;e<N.length;e+=1)N[e].c();T=Object(n.W)(),z&&z.c(),Object(n.g)(j,"class","svelte-b0tstg"),Object(n.g)(p,"class","svelte-b0tstg"),Object(n.g)(f,"class","table-pop-column svelte-b0tstg"),Object(n.g)(y,"colspan",w=e[8].isCasesOrDeath?3:2),Object(n.g)(y,"class","svelte-b0tstg"),Object(n.g)(b,"class","svelte-b0tstg"),Object(n.g)(i,"class","table base-font-size svelte-b0tstg"),Object(n.cb)(i,"loading",e[4]),Object(n.g)(t,"class","root svelte-b0tstg")},m(e,l){Object(n.F)(e,t,l),Object(n.I)(c,t,null),Object(n.e)(t,a),Object(n.I)(r,t,null),Object(n.e)(t,o),Object(n.e)(t,i),Object(n.e)(i,b),Object(n.e)(b,u),Object(n.e)(u,O),Object(n.e)(O,j),Object(n.e)(O,d),Object(n.e)(O,p),Object(n.I)(g,p,null),Object(n.e)(O,m),Object(n.e)(O,f),Object(n.I)(h,f,null),Object(n.e)(O,v),Object(n.e)(O,y),Object(n.I)($,y,null),Object(n.e)(O,S);for(let e=0;e<E.length;e+=1)E[e].m(O,null);Object(n.e)(O,k),I&&I.m(O,null),Object(n.e)(b,x),Object(n.e)(b,P);for(let e=0;e<N.length;e+=1)N[e].m(P,null);Object(n.e)(b,T),z&&z.m(b,null),D=!0},p(e,t){const c={};2048&t[0]&&(c.selectedItem=e[11]),r.$set(c);const l={};2&t[0]&&(l.sorted="name"===e[1]),4&t[0]&&(l.desc=e[2]),65536&t[1]&&(l.$$scope={dirty:t,ctx:e}),g.$set(l);const a={};2&t[0]&&(a.sorted="population"===e[1]),4&t[0]&&(a.desc=e[2]),65536&t[1]&&(a.$$scope={dirty:t,ctx:e}),h.$set(a);const o={};if(256&t[0]&&(o.label=e[8].name),2&t[0]&&(o.sorted="primary"===e[1]),4&t[0]&&(o.desc=e[2]),256&t[0]|65536&t[1]&&(o.$$scope={dirty:t,ctx:e}),$.$set(o),(!D||256&t[0]&&w!==(w=e[8].isCasesOrDeath?3:2))&&Object(n.g)(y,"colspan",w),36878&t[0]){let c;for(_=e[3],c=0;c<_.length;c+=1){const l=J(e,_,c);E[c]?(E[c].p(l,t),Object(n.db)(E[c],1)):(E[c]=X(l),E[c].c(),Object(n.db)(E[c],1),E[c].m(O,k))}for(Object(n.B)(),c=_.length;c<E.length;c+=1)W(c);Object(n.k)()}if(e[3].length<re?I?I.p(e,t):(I=Y(e),I.c(),I.m(O,null)):I&&(I.d(1),I=null),79752&t[0]){let c;for(C=e[9],c=0;c<C.length;c+=1){const l=U(e,C,c);N[c]?(N[c].p(l,t),Object(n.db)(N[c],1)):(N[c]=ce(l),N[c].c(),Object(n.db)(N[c],1),N[c].m(P,null))}for(Object(n.B)(),c=C.length;c<N.length;c+=1)V(c);Object(n.k)()}e[0]<e[5].length?z?z.p(e,t):(z=ne(e),z.c(),z.m(b,null)):z&&(z.d(1),z=null),16&t[0]&&Object(n.cb)(i,"loading",e[4])},i(e){if(!D){Object(n.db)(c.$$.fragment,e),Object(n.db)(r.$$.fragment,e),Object(n.db)(g.$$.fragment,e),Object(n.db)(h.$$.fragment,e),Object(n.db)($.$$.fragment,e);for(let e=0;e<_.length;e+=1)Object(n.db)(E[e]);for(let e=0;e<C.length;e+=1)Object(n.db)(N[e]);D=!0}},o(e){Object(n.eb)(c.$$.fragment,e),Object(n.eb)(r.$$.fragment,e),Object(n.eb)(g.$$.fragment,e),Object(n.eb)(h.$$.fragment,e),Object(n.eb)($.$$.fragment,e),E=E.filter(Boolean);for(let e=0;e<E.length;e+=1)Object(n.eb)(E[e]);N=N.filter(Boolean);for(let e=0;e<N.length;e+=1)Object(n.eb)(N[e]);D=!1},d(e){e&&Object(n.t)(t),Object(n.r)(c),Object(n.r)(r),Object(n.r)(g),Object(n.r)(h),Object(n.r)($),Object(n.s)(E,e),I&&I.d(),Object(n.s)(N,e),z&&z.d()}}}const ae=10,re=1,oe=(e,t)=>e+t.isCasesOrDeath?3:2;function ie(e,t,c){let l,o,i,u,O;Object(n.l)(e,a.o,e=>c(24,l=e)),Object(n.l)(e,a.j,e=>c(26,o=e)),Object(n.l)(e,a.h,e=>c(27,i=e)),Object(n.l)(e,a.l,e=>c(10,u=e)),Object(n.l)(e,a.m,e=>c(11,O=e));let j=10,d="primary",p=!0;const g={cumulative:!1,ratio:!0};let m=[];let h=!0,v=[];function y(e,t=!1){d!==e?(c(1,d=e),c(2,p=t)):c(2,p=!p)}let $="",w=null;const S=Object(T.a)(e=>{c(7,w=e)},10);let k,x,P,F;return e.$$.update=()=>{if(16777216&e.$$.dirty[0]&&c(8,k=l),256&e.$$.dirty[0]&&(x=Object(f.i)(k,g)),72&e.$$.dirty[0]&&$&&(c(3,m=m.concat([f.j.find(e=>e.key===$)])),c(6,$="")),201326856&e.$$.dirty[0]){c(4,h=!0);const e=[k,...m];Promise.all(e.map(e=>Object(r.b)(e,o,i,{stderr:null}))).then(e=>{const t=e[0].map(e=>function(e){const t=Object(s.b)(e.geo_value);return t?H(H({},t),{},{primary:e,others:[]}):null}(e)).filter(e=>null!=e&&e.level!==f.g.id);if(c(4,h=!1),1===e.length)return void c(5,v=t);const n=new Map(t.map(e=>[e.primary.geo_value,e]));e.slice(1).forEach((e,t)=>{for(const c of e){const e=n.get(c.geo_value);e&&(e.others[t]=c)}}),c(5,v=t)})}6&e.$$.dirty[0]&&c(28,P=function(e,t){return t?(t,c)=>-e(t,c):e}(function(e){return"primary"===e?(e,t)=>e.primary[x]!==t.primary[x]?e.primary[x]<t.primary[x]?-1:1:e.displayName.localeCompare(t.displayName):"population"===e?(e,t)=>e.population!==t.population?e.population<t.population?-1:1:e.displayName.localeCompare(t.displayName):"number"==typeof e?(t,c)=>{const n=t.others[e],l=c.others[e],a=n?n.value:null,r=l?l.value:null;return a!==r?a<r?-1:1:t.displayName.localeCompare(c.displayName)}:(e,t)=>e.displayName.localeCompare(t.displayName)}(d),p)),268436513&e.$$.dirty[0]&&c(9,F=v.slice().sort(P).map((e,t)=>(e.rank=t+1,e)).filter((e,t)=>t<j||e.propertyId===u))},[j,d,p,m,h,v,$,w,k,F,u,O,g,function(e){a.k.set(b.b.overview),a.l.set(e.id)},function(){c(0,j=Math.min(v.length,j+ae))},y,function(e){const t=e.detail.value,c=t&&Array.isArray(t._vgsid_)?t._vgsid_[0]:null;if(!c)return void S(null);const n=e.detail.view.data("data_0").find(e=>e._vgsid_===c);S(n?n.time_value:null)},e=>Object(a.y)(e.detail),()=>y("name"),()=>y("population"),()=>y("primary",!0),e=>c(3,m=m.filter(t=>t!==e)),e=>y(e,!0),function(){$=Object(n.R)(this),c(6,$),c(3,m)}]}class be extends n.b{constructor(e){super(),Object(n.E)(this,e,ie,le,n.P,{},[-1,-1])}}t.default=be},402:function(e,t,c){"use strict";var n=c(1),l=c(335),a=c(158),r=c(156);c(336);function o(e,t,c){const n=e.slice();return n[51]=t[c],n[53]=c,n}function i(e){let t,c;return{c(){t=Object(n.u)("div"),c=Object(n.ab)(e[1]),Object(n.g)(t,"class","autocomplete-list-item-no-results svelte-1ikmjlh")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c)},p(e,t){2&t[0]&&Object(n.S)(c,e[1])},d(e){e&&Object(n.t)(t)}}}function b(e){let t,c,l=e[12],a=[];for(let t=0;t<l.length;t+=1)a[t]=j(o(e,l,t));let r=e[0]>0&&e[12].length>e[0]&&d(e);return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=Object(n.W)(),r&&r.c(),c=Object(n.v)()},m(e,l){for(let t=0;t<a.length;t+=1)a[t].m(e,l);Object(n.F)(e,t,l),r&&r.m(e,l),Object(n.F)(e,c,l)},p(e,n){if(14337&n[0]){let c;for(l=e[12],c=0;c<l.length;c+=1){const r=o(e,l,c);a[c]?a[c].p(r,n):(a[c]=j(r),a[c].c(),a[c].m(t.parentNode,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}e[0]>0&&e[12].length>e[0]?r?r.p(e,n):(r=d(e),r.c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(e){Object(n.s)(a,e),e&&Object(n.t)(t),r&&r.d(e),e&&Object(n.t)(c)}}}function s(e){let t,c,l,a;function r(e,t){return e[51].highlighted?O:u}let o=r(e),i=o(e);function b(...t){return e[32](e[51],...t)}return{c(){t=Object(n.u)("div"),i.c(),Object(n.g)(t,"class",c="autocomplete-list-item "+(e[53]===e[11]?"selected":"")+" svelte-1ikmjlh")},m(e,c){Object(n.F)(e,t,c),i.m(t,null),l||(a=Object(n.H)(t,"click",b),l=!0)},p(l,a){o===(o=r(e=l))&&i?i.p(e,a):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null))),2048&a[0]&&c!==(c="autocomplete-list-item "+(e[53]===e[11]?"selected":"")+" svelte-1ikmjlh")&&Object(n.g)(t,"class",c)},d(e){e&&Object(n.t)(t),i.d(),l=!1,a()}}}function u(e){let t,c,l=e[51].label+"";return{c(){c=Object(n.v)(),t=new n.a(c)},m(e,a){t.m(l,e,a),Object(n.F)(e,c,a)},p(e,c){4096&c[0]&&l!==(l=e[51].label+"")&&t.p(l)},d(e){e&&Object(n.t)(c),e&&t.d()}}}function O(e){let t,c,l=e[51].highlighted.label+"";return{c(){c=Object(n.v)(),t=new n.a(c)},m(e,a){t.m(l,e,a),Object(n.F)(e,c,a)},p(e,c){4096&c[0]&&l!==(l=e[51].highlighted.label+"")&&t.p(l)},d(e){e&&Object(n.t)(c),e&&t.d()}}}function j(e){let t,c=(e[0]<=0||e[53]<e[0])&&s(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,l){c&&c.m(e,l),Object(n.F)(e,t,l)},p(e,n){e[0]<=0||e[53]<e[0]?c?c.p(e,n):(c=s(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function d(e){let t,c,l,a,r=e[12].length-e[0]+"";return{c(){t=Object(n.u)("div"),c=Object(n.ab)("..."),l=Object(n.ab)(r),a=Object(n.ab)(" results not shown"),Object(n.g)(t,"class","autocomplete-list-item-no-results svelte-1ikmjlh")},m(e,r){Object(n.F)(e,t,r),Object(n.e)(t,c),Object(n.e)(t,l),Object(n.e)(t,a)},p(e,t){4097&t[0]&&r!==(r=e[12].length-e[0]+"")&&Object(n.S)(l,r)},d(e){e&&Object(n.t)(t)}}}function p(e){let t,c,r,o,s,u,O,j,d,p,g,m,f,h;function v(e,t){return e[12]&&e[12].length>0?b:e[1]?i:void 0}r=new l.a({}),j=new a.a({});let y=v(e),$=y&&y(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),Object(n.n)(r.$$.fragment),o=Object(n.W)(),s=Object(n.u)("input"),u=Object(n.W)(),O=Object(n.u)("button"),Object(n.n)(j.$$.fragment),d=Object(n.W)(),p=Object(n.u)("div"),$&&$.c(),Object(n.g)(c,"class","search-button svelte-1ikmjlh"),Object(n.g)(c,"title","Show Search Field"),Object(n.g)(c,"aria-label","Show Search Field"),Object(n.g)(s,"class","autocomplete-input svelte-1ikmjlh"),Object(n.g)(s,"placeholder",e[2]),Object(n.g)(s,"name",e[4]),s.disabled=e[5],Object(n.g)(s,"title",e[6]),Object(n.g)(s,"aria-label",e[2]),Object(n.g)(O,"class","search-button reset-button svelte-1ikmjlh"),Object(n.g)(O,"title","Clear Search Field"),Object(n.g)(O,"aria-label","Clear Search Field"),Object(n.cb)(O,"hidden",!e[7]),Object(n.g)(p,"class","autocomplete-list svelte-1ikmjlh"),Object(n.cb)(p,"hidden",!e[10]),Object(n.g)(t,"class",g=e[3]+" base-font-size container-style autocomplete svelte-1ikmjlh"),Object(n.cb)(t,"empty",!e[7]),Object(n.cb)(t,"open",e[10])},m(l,a){Object(n.F)(l,t,a),Object(n.e)(t,c),Object(n.I)(r,c,null),Object(n.e)(t,o),Object(n.e)(t,s),e[30](s),Object(n.T)(s,e[7]),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.I)(j,O,null),Object(n.e)(t,d),Object(n.e)(t,p),$&&$.m(p,null),e[33](p),m=!0,f||(h=[Object(n.H)(window,"click",e[16]),Object(n.H)(c,"click",e[22]),Object(n.H)(s,"input",e[31]),Object(n.H)(s,"input",e[19]),Object(n.H)(s,"focus",e[21]),Object(n.H)(s,"keydown",e[17]),Object(n.H)(s,"click",e[20]),Object(n.H)(s,"keypress",e[18]),Object(n.H)(O,"click",e[14]),Object(n.H)(t,"click",e[15])],f=!0)},p(e,c){(!m||4&c[0])&&Object(n.g)(s,"placeholder",e[2]),(!m||16&c[0])&&Object(n.g)(s,"name",e[4]),(!m||32&c[0])&&(s.disabled=e[5]),(!m||64&c[0])&&Object(n.g)(s,"title",e[6]),(!m||4&c[0])&&Object(n.g)(s,"aria-label",e[2]),128&c[0]&&s.value!==e[7]&&Object(n.T)(s,e[7]),128&c[0]&&Object(n.cb)(O,"hidden",!e[7]),y===(y=v(e))&&$?$.p(e,c):($&&$.d(1),$=y&&y(e),$&&($.c(),$.m(p,null))),1024&c[0]&&Object(n.cb)(p,"hidden",!e[10]),(!m||8&c[0]&&g!==(g=e[3]+" base-font-size container-style autocomplete svelte-1ikmjlh"))&&Object(n.g)(t,"class",g),136&c[0]&&Object(n.cb)(t,"empty",!e[7]),1032&c[0]&&Object(n.cb)(t,"open",e[10])},i(e){m||(Object(n.db)(r.$$.fragment,e),Object(n.db)(j.$$.fragment,e),m=!0)},o(e){Object(n.eb)(r.$$.fragment,e),Object(n.eb)(j.$$.fragment,e),m=!1},d(c){c&&Object(n.t)(t),Object(n.r)(r),e[30](null),Object(n.r)(j),$&&$.d(),e[33](null),f=!1,Object(n.O)(h)}}}function g(e,t,c){const l=Object(r.a)();let a,o,i,{items:b}=t,{labelFieldName:s}=t,{labelFunction:u=function(e){return null==e?"":s?e[s]:e}}=t,{selectFirstIfEmpty:O=!1}=t,{minCharactersToSearch:j=1}=t,{maxItemsToShowInList:d=0}=t,{noResultsText:p="No results found"}=t,{placeholder:g}=t,{className:m=""}=t,{name:f}=t,{disabled:h=!1}=t,{title:v}=t,{selectedItem:y}=t,{value:$}=t,w=0;let S,k=!1,x=-1;function P(){const e=function(e){if(null==e)return"";const t=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return w=t.length,j>1&&w<j?"":t.toLowerCase().trim()}(a);if(""===e)return c(12,S=H),void z();const t=e.split(" "),n=H.filter(e=>{const c=e.keywords;return t.every(e=>c.includes(e))}),l=function(e,t){const c="("+e.trim().replace(/\s/g,")(.*)(")+")",n=new RegExp(c,"ig");let l=1;const a=c.split(")(").length+1;let r="";for(;l<a;l++)r+=l%2?"<b>$".concat(l,"</b>"):"$".concat(l);return e=>{const c=Object.assign({highlighted:{}},e);return t&&t.forEach(e=>{c[e]&&(c.highlighted[e]=c[e].replace(n,r))}),c}}(e,["label"]);c(12,S=n.map(l)),z()}function F(e){c(23,y=e.item)}function T(){F(S[x]),V()}function D(){N(),x>0&&c(11,x--,x),E()}function _(){N(),x<S.length-1&&c(11,x++,x),E()}function E(){const e=i.querySelector(".selected");e&&"function"==typeof e.scrollIntoViewIfNeeded&&e.scrollIntoViewIfNeeded()}function W(e){F(e),V()}function I(e){e.stopPropagation(),k&&(o.focus(),V())}function C(){if(c(12,S=H),N(),y)for(let e=0;e<H.length;e++){const t=H[e];if(y==t.item){c(11,x=e),E();break}}}function N(){L()||c(10,k=!0)}function V(){c(10,k=!1),!a&&O&&T()}function L(){return j>1&&w<j}function z(){L()&&V()}let H;return e.$$set=e=>{"items"in e&&c(25,b=e.items),"labelFieldName"in e&&c(26,s=e.labelFieldName),"labelFunction"in e&&c(27,u=e.labelFunction),"selectFirstIfEmpty"in e&&c(28,O=e.selectFirstIfEmpty),"minCharactersToSearch"in e&&c(29,j=e.minCharactersToSearch),"maxItemsToShowInList"in e&&c(0,d=e.maxItemsToShowInList),"noResultsText"in e&&c(1,p=e.noResultsText),"placeholder"in e&&c(2,g=e.placeholder),"className"in e&&c(3,m=e.className),"name"in e&&c(4,f=e.name),"disabled"in e&&c(5,h=e.disabled),"title"in e&&c(6,v=e.title),"selectedItem"in e&&c(23,y=e.selectedItem),"value"in e&&c(24,$=e.value)},e.$$.update=()=>{8388608&e.$$.dirty[0]&&(c(24,$=y),c(7,a=u(y)),l("change",y)),167772160&e.$$.dirty[0]&&(H=b.map(e=>({keywords:u(e).toLowerCase().trim(),label:u(e),item:e})))},[d,p,g,m,f,h,v,a,o,i,k,x,S,W,function(){F({item:void 0}),V()},function(e){e.stopPropagation(),E()},function(){V()},function(e){let t=e.key;"Tab"===t&&e.shiftKey&&(t="ShiftTab");const c={Tab:k?_.bind(this):null,ShiftTab:k?D.bind(this):null,ArrowDown:_.bind(this),ArrowUp:D.bind(this),Escape:I.bind(this)}[t];"function"==typeof c&&(e.preventDefault(),c(e))},function(e){"Enter"===e.key&&(e.preventDefault(),T())},function(e){c(7,a=e.target.value),P(),c(11,x=0),N()},function(){C()},function(){C()},function(){o&&o.focus()},y,$,b,s,u,O,j,function(e){n.i[e?"unshift":"push"](()=>{o=e,c(8,o)})},function(){a=this.value,c(7,a)},e=>W(e),function(e){n.i[e?"unshift":"push"](()=>{i=e,c(9,i)})}]}class m extends n.b{constructor(e){super(),Object(n.E)(this,e,g,p,n.P,{items:25,labelFieldName:26,labelFunction:27,selectFirstIfEmpty:28,minCharactersToSearch:29,maxItemsToShowInList:0,noResultsText:1,placeholder:2,className:3,name:4,disabled:5,title:6,selectedItem:23,value:24},[-1,-1])}}t.a=m},403:function(e,t,c){"use strict";var n=c(1),l=c(204);c(337);function a(e){let t,c,l=e[2].displayName+"";return{c(){t=Object(n.ab)(l),c=Object(n.ab)(" on")},m(e,l){Object(n.F)(e,t,l),Object(n.F)(e,c,l)},p(e,c){4&c&&l!==(l=e[2].displayName+"")&&Object(n.S)(t,l)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c)}}}function r(e){let t,c,l,a,r,o,b,s,u=e[0].yAxis+"",O=e[0].formatValue(e[2].value)+"",j=e[0].hasStdErr&&null!=e[2].stderr&&i(e);return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),l=Object(n.ab)(u),a=Object(n.W)(),r=Object(n.u)("td"),o=Object(n.ab)(O),b=Object(n.W)(),j&&j.c(),s=Object(n.v)(),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(r,"class","right svelte-1icnyvz")},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c),Object(n.e)(c,l),Object(n.e)(t,a),Object(n.e)(t,r),Object(n.e)(r,o),Object(n.F)(e,b,i),j&&j.m(e,i),Object(n.F)(e,s,i)},p(e,t){1&t&&u!==(u=e[0].yAxis+"")&&Object(n.S)(l,u),5&t&&O!==(O=e[0].formatValue(e[2].value)+"")&&Object(n.S)(o,O),e[0].hasStdErr&&null!=e[2].stderr?j?j.p(e,t):(j=i(e),j.c(),j.m(s.parentNode,s)):j&&(j.d(1),j=null)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(b),j&&j.d(e),e&&Object(n.t)(s)}}}function o(e){let t,c,l,a,r,o,i,b,s,u,O,j,d,p,g,m,f,h,v,y,$,w,S,k,x,P,F,T,D,_,E,W,I,C,N,V,L,z=e[0].yAxis+"",H=e[3](e[2].date_value)+"",R=e[0].formatValue(e[2].count)+"",A=e[0].formatValue(e[2].countRatio)+"",U=e[0].formatValue(e[2].avg)+"",B=e[0].formatValue(e[2].avgRatio)+"",q=e[3](e[2].date_value)+"",J=e[0].formatValue(e[2].countCumulative)+"",G=e[0].formatValue(e[2].countRatioCumulative)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),l=Object(n.ab)(z),a=Object(n.W)(),r=Object(n.u)("th"),r.textContent="Count",o=Object(n.W)(),i=Object(n.u)("th"),i.textContent="Ratios per 100,000",b=Object(n.W)(),s=Object(n.u)("tr"),u=Object(n.u)("th"),O=Object(n.ab)(H),j=Object(n.W)(),d=Object(n.u)("td"),p=Object(n.ab)(R),g=Object(n.W)(),m=Object(n.u)("td"),f=Object(n.ab)(A),h=Object(n.W)(),v=Object(n.u)("tr"),y=Object(n.u)("th"),y.textContent="7-day avg",$=Object(n.W)(),w=Object(n.u)("td"),S=Object(n.ab)(U),k=Object(n.W)(),x=Object(n.u)("td"),P=Object(n.ab)(B),F=Object(n.W)(),T=Object(n.u)("tr"),D=Object(n.u)("th"),_=Object(n.ab)(q),E=Object(n.ab)(" (cumulative)"),W=Object(n.W)(),I=Object(n.u)("td"),C=Object(n.ab)(J),N=Object(n.W)(),V=Object(n.u)("td"),L=Object(n.ab)(G),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(r,"class","area svelte-1icnyvz"),Object(n.g)(i,"class","area svelte-1icnyvz"),Object(n.g)(u,"class","svelte-1icnyvz"),Object(n.g)(d,"class","right svelte-1icnyvz"),Object(n.g)(m,"class","right svelte-1icnyvz"),Object(n.g)(y,"class","svelte-1icnyvz"),Object(n.g)(w,"class","right svelte-1icnyvz"),Object(n.g)(x,"class","right svelte-1icnyvz"),Object(n.g)(D,"class","svelte-1icnyvz"),Object(n.g)(I,"class","right svelte-1icnyvz"),Object(n.g)(V,"class","right svelte-1icnyvz")},m(e,z){Object(n.F)(e,t,z),Object(n.e)(t,c),Object(n.e)(c,l),Object(n.e)(t,a),Object(n.e)(t,r),Object(n.e)(t,o),Object(n.e)(t,i),Object(n.F)(e,b,z),Object(n.F)(e,s,z),Object(n.e)(s,u),Object(n.e)(u,O),Object(n.e)(s,j),Object(n.e)(s,d),Object(n.e)(d,p),Object(n.e)(s,g),Object(n.e)(s,m),Object(n.e)(m,f),Object(n.F)(e,h,z),Object(n.F)(e,v,z),Object(n.e)(v,y),Object(n.e)(v,$),Object(n.e)(v,w),Object(n.e)(w,S),Object(n.e)(v,k),Object(n.e)(v,x),Object(n.e)(x,P),Object(n.F)(e,F,z),Object(n.F)(e,T,z),Object(n.e)(T,D),Object(n.e)(D,_),Object(n.e)(D,E),Object(n.e)(T,W),Object(n.e)(T,I),Object(n.e)(I,C),Object(n.e)(T,N),Object(n.e)(T,V),Object(n.e)(V,L)},p(e,t){1&t&&z!==(z=e[0].yAxis+"")&&Object(n.S)(l,z),4&t&&H!==(H=e[3](e[2].date_value)+"")&&Object(n.S)(O,H),5&t&&R!==(R=e[0].formatValue(e[2].count)+"")&&Object(n.S)(p,R),5&t&&A!==(A=e[0].formatValue(e[2].countRatio)+"")&&Object(n.S)(f,A),5&t&&U!==(U=e[0].formatValue(e[2].avg)+"")&&Object(n.S)(S,U),5&t&&B!==(B=e[0].formatValue(e[2].avgRatio)+"")&&Object(n.S)(P,B),4&t&&q!==(q=e[3](e[2].date_value)+"")&&Object(n.S)(_,q),5&t&&J!==(J=e[0].formatValue(e[2].countCumulative)+"")&&Object(n.S)(C,J),5&t&&G!==(G=e[0].formatValue(e[2].countRatioCumulative)+"")&&Object(n.S)(L,G)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(b),e&&Object(n.t)(s),e&&Object(n.t)(h),e&&Object(n.t)(v),e&&Object(n.t)(F),e&&Object(n.t)(T)}}}function i(e){let t,c,l,a,r,o=e[0].formatValue(e[2].stderr)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),c.textContent="Standard Error",l=Object(n.W)(),a=Object(n.u)("td"),r=Object(n.ab)(o),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(a,"class","right svelte-1icnyvz")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(t,l),Object(n.e)(t,a),Object(n.e)(a,r)},p(e,t){5&t&&o!==(o=e[0].formatValue(e[2].stderr)+"")&&Object(n.S)(r,o)},d(e){e&&Object(n.t)(t)}}}function b(e){let t,c,l,i,b,s,u,O=e[3](e[2].date_value)+"",j=e[2].displayName&&a(e);function d(e,t){return e[0].isCasesOrDeath?o:r}let p=d(e),g=p(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("h5"),j&&j.c(),l=Object(n.W)(),i=Object(n.ab)(O),b=Object(n.W)(),s=Object(n.u)("table"),u=Object(n.u)("tbody"),g.c(),Object(n.g)(c,"class","svelte-1icnyvz"),Object(n.g)(t,"aria-label","tooltip"),Object(n.g)(t,"class","tooltip svelte-1icnyvz"),Object(n.cb)(t,"hidden",e[1])},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),j&&j.m(c,null),Object(n.e)(c,l),Object(n.e)(c,i),Object(n.e)(t,b),Object(n.e)(t,s),Object(n.e)(s,u),g.m(u,null)},p(e,[r]){e[2].displayName?j?j.p(e,r):(j=a(e),j.c(),j.m(c,l)):j&&(j.d(1),j=null),4&r&&O!==(O=e[3](e[2].date_value)+"")&&Object(n.S)(i,O),p===(p=d(e))&&g?g.p(e,r):(g.d(1),g=p(e),g&&(g.c(),g.m(u,null))),2&r&&Object(n.cb)(t,"hidden",e[1])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),j&&j.d(),g.d()}}}function s(e,t,c){const n=Object(l.a)("%B %d");let{sensor:a}=t,{hidden:r=!1}=t,{item:o}=t;return e.$$set=e=>{"sensor"in e&&c(0,a=e.sensor),"hidden"in e&&c(1,r=e.hidden),"item"in e&&c(2,o=e.item)},[a,r,o,n]}class u extends n.b{constructor(e){super(),Object(n.E)(this,e,s,b,n.P,{sensor:0,hidden:1,item:2})}}t.a=u},404:function(e,t,c){"use strict";c.d(t,"a",(function(){return o})),c.d(t,"e",(function(){return i})),c.d(t,"f",(function(){return b})),c.d(t,"b",(function(){return u})),c.d(t,"c",(function(){return O})),c.d(t,"d",(function(){return j}));var n=c(331);function l(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?l(Object(c),!0).forEach((function(t){r(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):l(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function r(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}const o={description:"shows the current data injected via a signal, y: null is on purpose to invalidate a global y",data:{values:[{date_value:null}]},transform:[{calculate:"toDate(currentDate)",as:"date_value"}],mark:"rule",encoding:{color:{value:"#c00"},x:{field:"date_value",type:"temporal"},y:null}},i={mark:{type:"area",interpolate:"monotone"},encoding:{color:{field:"geo_value"},opacity:{value:.25},y:{field:"value_lower_bound",type:"quantitative"},y2:{field:"value_upper_bound"}}},b=[{calculate:"datum.value == null ? null : datum.value - datum.stderr",as:"value_lower_bound"},{calculate:"datum.value == null ? null : datum.value + datum.stderr",as:"value_upper_bound"}],s={field:"date_value",type:"temporal",axis:{title:null,format:"%m/%d",formatType:"time",tickCount:"day",grid:!1}};function u(e){return e?{field:"geo_value",type:"nominal",scale:{domain:e.map(e=>e.info.propertyId),range:e.map((e,t)=>0===t?"grey":e.color)}}:{value:"grey"}}function O(e,t,c,n){const l={$schema:"https://vega.github.io/schema/vega-lite/v4.json",data:{name:"values"},autosize:{contains:"padding",resize:!0},transform:e.hasStdErr?b:[],vconcat:[{width:"container",encoding:{x:a(a({},s),{},{scale:{domain:{selection:"brush"}}}),y:{field:t,type:"quantitative",axis:{minExtent:25,title:e.yAxis}}},layer:[{mark:{type:"line",interpolate:"monotone"},encoding:{color:u(c)}},{selection:{highlight:{type:"single",empty:"none",nearest:!0,on:"mouseover",clear:"mouseout"}},mark:{type:"circle",tooltip:!0},encoding:{color:{field:"geo_value"}}},...e.hasStdErr?[i]:[],{transform:[{filter:{selection:"highlight"}}],mark:"rule"},o]},{height:40,encoding:{color:{field:"geo_value"},x:a({},s),y:{field:t,type:"quantitative",axis:{minExtent:25,tickCount:3,title:" "}}},layer:[{selection:{highlight2:{type:"single",empty:"none",nearest:!0,on:"mouseover",clear:"mouseout"},brush:{type:"interval",encodings:["x"],init:{x:[n[0].getTime(),n[1].getTime()]}}},mark:{type:"line",interpolate:"monotone"}},...e.hasStdErr?[i]:[],{transform:[{filter:{selection:"highlight2"}}],mark:"rule"},o]}],config:{legend:{disable:!0}}};if(e.isCasesOrDeath){const e={mark:{type:"line",interpolate:"monotone",opacity:.2},encoding:{y:{field:t.replace("avg","count")},color:{field:"geo_value"}}};l.vconcat[0].layer.unshift(e),l.vconcat[1].layer.unshift(e)}return l}function j(e,t){return Object(n.a)({},e,{vconcat:[{width:t.width-60,height:t.height-40-80},{width:t.width-60,height:40}]})}},406:function(e,t,c){"use strict";var n=c(1),l=c(156),a=c(348),r=c(40),o=c(399),i=c(349);function b(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function s(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?b(Object(c),!0).forEach((function(t){u(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):b(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function u(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}let O=null;function j(e){return e&&null!=e.datum?j(e.datum):e}function d(e,t={}){let c=!1,n=null,l=t;const a=(t,a,r,o)=>{if(c)return;const{popper:b,update:u,hide:d}=function(){if(O)return O;const e=document.createElement("div");e.classList.add("viz-tooltip","mapboxgl-popup-content","mapboxgl-map"),document.body.appendChild(e);let t={width:0,height:0,x:0,y:0};const c={getBoundingClientRect:()=>({left:t.x,right:t.x+t.width,width:t.width,top:t.y,bottom:t.y+t.height,height:t.height})},n=Object(i.a)(c,e,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),l=(c=0,l=0,a=0,r=0)=>{t.x=c,t.y=l,t.width=a,t.height=r,e.style.display="",n.update()},a=()=>{e.style.display="none"};return O={instance:n,popper:e,update:l,hide:a},{instance:n,popper:e,update:l,hide:a}}();if(null==o||""===o)return d(),void(n&&n.$set({hidden:!0}));u(a.clientX,a.clientY),n?n.$set({hidden:!1,item:j(r)}):n=new e({target:b,props:s(s({},l),{},{hidden:!1,item:j(r)})})};return a.destroy=()=>{n&&(n.$destroy(),n=null),c=!0},a.update=e=>{l=e,n&&n.$set(s({},l))},a}function p(e){let t;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","root"),Object(n.g)(t,"data-message",e[4]),Object(n.cb)(t,"loading-bg",!e[3]&&e[1]),Object(n.cb)(t,"message-overlay",e[3]||e[2]&&!e[1])},m(c,l){Object(n.F)(c,t,l),e[16](t)},p(e,[c]){16&c&&Object(n.g)(t,"data-message",e[4]),10&c&&Object(n.cb)(t,"loading-bg",!e[3]&&e[1]),14&c&&Object(n.cb)(t,"message-overlay",e[3]||e[2]&&!e[1])},i:n.J,o:n.J,d(c){c&&Object(n.t)(t),e[16](null)}}}function g(e,t,c){let{data:i=Promise.resolve([])}=t;const b=Object(l.a)();let s,u,O,{spec:j}=t,p=null,g=null,m=null,{signals:f={}}=t,{signalListeners:h=[]}=t,{dataListeners:v=[]}=t,{eventListeners:y=[]}=t,$=!1,w=!1,S=!1,{resetSignalsUponNoData:k=!0}=t,{noDataText:x="No data available"}=t,{patchSpec:P=null}=t,{tooltip:F}=t,{tooltipProps:T={}}=t,D={width:300,height:300};function _(e,t){e&&(c(1,$=!0),c(3,S=!1),c(2,w=!1),Promise.all([e,t]).then(([t,n])=>{e===m&&(t.view.change("values",t.view.changeset().remove(()=>!0).insert(n||[])),c(2,w=!n||0===n.length),Object.entries(f).forEach(([e,c])=>{t.view.signal(e,k&&w?null:c)}),t.view.runAsync(),c(1,$=!1))}).catch(e=>{console.error("error while updating data",e),c(1,$=!1),c(2,w=!1),c(3,S=!0)}))}function E(e){p&&(m&&m.then(e=>e.finalize()),g=null,c(3,S=!1),c(18,m=Object(a.a)(p,e,{actions:!1,logLevel:r.Error,tooltip:u,patch:e=>(e.signals=e.signals||[],Object.entries(f).forEach(([t,c])=>{e.signals.push({name:t,value:c})}),e)})),m.then(e=>{g=e,p.setAttribute("role","figure"),h.forEach(t=>{e.view.addSignalListener(t,(t,c)=>{b("signal",{name:t,value:c,view:e.view})})}),v.forEach(t=>{e.view.addDataListener(t,(t,c)=>{b("dataListener",{name:t,value:c,view:e.view})})}),y.forEach(t=>{e.view.addEventListener(t,(c,n)=>{b(t,{event:c,item:n,view:e.view})})}),_(m,i)}),m.catch(e=>{console.error("error while creating vega",e),c(3,S=!0)}))}return Object(l.c)(()=>{P?(c(19,D=p.getBoundingClientRect()),Object(o.b)(p,e=>{c(19,D=e)})):E(j)}),Object(l.b)(()=>{P&&Object(o.d)(p),u&&u.destroy(),g?(g.finalize(),g=null,c(18,m=null)):m&&(m.then(e=>e.finalize()),c(18,m=null))}),e.$$set=e=>{"data"in e&&c(5,i=e.data),"spec"in e&&c(6,j=e.spec),"signals"in e&&c(7,f=e.signals),"signalListeners"in e&&c(8,h=e.signalListeners),"dataListeners"in e&&c(9,v=e.dataListeners),"eventListeners"in e&&c(10,y=e.eventListeners),"resetSignalsUponNoData"in e&&c(11,k=e.resetSignalsUponNoData),"noDataText"in e&&c(12,x=e.noDataText),"patchSpec"in e&&c(13,P=e.patchSpec),"tooltip"in e&&c(14,F=e.tooltip),"tooltipProps"in e&&c(15,T=e.tooltipProps)},e.$$.update=()=>{4110&e.$$.dirty&&c(4,s=S?"Error occurred":w&&!$?x:null),16384&e.$$.dirty&&c(20,u=d(F)),1081344&e.$$.dirty&&u&&u.update(T),262176&e.$$.dirty&&_(m,i),532544&e.$$.dirty&&c(21,O=P?P(j,D):j),2097152&e.$$.dirty&&E(O),262272&e.$$.dirty&&function(e,t){e&&0!==Object.keys(t).length&&(c(3,S=!1),e.then(c=>{e===m&&c&&(Object.entries(t).forEach(([e,t])=>{c.view.signal(e,t)}),c.view.runAsync())}).catch(e=>{console.error("error while updating signals",e),c(3,S=!0)}))}(m,f)},[p,$,w,S,s,i,j,f,h,v,y,k,x,P,F,T,function(e){n.i[e?"unshift":"push"](()=>{p=e,c(0,p)})}]}class m extends n.b{constructor(e){super(),Object(n.E)(this,e,g,p,n.P,{data:5,spec:6,signals:7,signalListeners:8,dataListeners:9,eventListeners:10,resetSignalsUponNoData:11,noDataText:12,patchSpec:13,tooltip:14,tooltipProps:15})}}t.a=m},410:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(404);function l(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?l(Object(c),!0).forEach((function(t){r(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):l(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function r(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}const o=[{calculate:"datum.value == null ? null : (datum.value - datum.stderr) / 100",as:"value_lower_bound"},{calculate:"datum.value == null ? null : (datum.value + datum.stderr) / 100",as:"value_upper_bound"}];function i(e,t,c){const l="percent"===e.format;return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",data:{name:"values"},width:"container",height:"container",padding:0,autosize:{resize:!0},transform:[...e.hasStdErr?l?o:n.f:[],{calculate:"datum.value == null ? null : datum.value / 100",as:"pValue"}],encoding:{color:Object(n.b)(t),x:{field:"date_value",type:"temporal",axis:{title:null,format:"%m/%d",formatType:"time",tickCount:"month"},scale:c?{domain:[c[0].getTime(),c[1].getTime()]}:{}},y:{field:l?"pValue":"value",type:"quantitative",axis:a(a({},l?{format:".1%"}:{}),{},{title:null,tickCount:3,minExtent:25})}},layer:[{mark:{type:"line",interpolate:"linear"}},{selection:{highlight:{type:"single",empty:"none",on:"mouseover",nearest:!0,clear:"mouseout"}},mark:{type:"point",tooltip:!0,radius:1,stroke:null,fill:"grey"},encoding:{opacity:{condition:[{selection:"highlight",value:1},{test:"datum.time_value == highlightTimeValue",value:1}],value:0}}},...e.hasStdErr?[n.e]:[],{transform:[{filter:{or:[{selection:"highlight"},"datum.time_value == highlightTimeValue"]}}],mark:"rule"},n.a],config:{legend:{disable:!0}}}}}}]);