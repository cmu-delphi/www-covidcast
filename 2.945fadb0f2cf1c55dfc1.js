(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{353:function(e,t,c){"use strict";c.d(t,"a",(function(){return o})),c.d(t,"e",(function(){return s})),c.d(t,"f",(function(){return l})),c.d(t,"d",(function(){return r})),c.d(t,"b",(function(){return b})),c.d(t,"c",(function(){return u}));const n="rgb(86,157,201)",i="rgb(220, 220, 220)",a="rgb(218,107,87)",o={increasing:a,steady:i,decreasing:n,increasingIcon:"&#9650;",steadyIcon:"&#9644;",decreasingIcon:"&#9660;",max:a,countMin:"rgb(242,242,242)",gradientMin:n,gradientMiddle:i,gradientMax:a,gradientMinMega:"rgba(86,157,201,0.5)",gradientMiddleMega:"rgba(220, 220, 220,0.5)",gradientMaxMega:"rgba(218,107,87, 0.5)"},s="#eeeeee",l="rgb(242,242,242)",r={selectedRegionOutline:"#333333",hoverRegionOutline:"#cccccc",stateFill:"rgba(0, 0, 0, 0)",stateOutline:"#ffffff",countyFill:"#eeeeee",countyOutline:"#ffffff",countyOutlineWhenFilled:"#ffffff",zoneOutline:"blue"},b={color:"transparent",countyFill:"#eeeeee",strokeColor:"#666",strokeWidth:1,strokeWidthHighlighted:4,opacity:.5,strokeOpacity:1,minRadius:{county:2,msa:3,state:6},maxRadius:{county:6,msa:10,state:20},radiusScale:{count:{type:"sqrt"},prop:{type:"linear"},other:{type:"linear"}}},u={fillOpacity:.2,countyFill:"#eeeeee",strokeOpacity:1,maxHeight:{county:20,msa:40,state:80},size:{county:4,msa:8,state:16},heightScale:{count:{type:"sqrt"},prop:{type:"linear"},other:{type:"linear"}}}},354:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"e",(function(){return o})),c.d(t,"c",(function(){return s})),c.d(t,"b",(function(){return b})),c.d(t,"d",(function(){return u}));var n=c(352),i=c(290);function a(e){return Object(n.a)(e).l>.32?"#000":"#fff"}function o(e,t){return e.map((e,c)=>[e,t[c]])}function s(e,t){return Array.isArray(e)?e.map(e=>{const c=Object(n.b)(e);return c.opacity=t,c.toString()}):s([e],t)[0]}const l=new WeakMap,r=new i.a(e=>{for(const t of e){const e=l.get(t.target);e&&e(t.contentRect,t)}});function b(e,t){l.set(e,t),r.observe(e)}function u(e){l.delete(e),r.unobserve(e)}},355:function(e,t,c){"use strict";c.d(t,"b",(function(){return u})),c.d(t,"a",(function(){return O})),c.d(t,"c",(function(){return j}));var n=c(61),i=c(351),a=c(289),o=c.n(a),s=c(353),l=c(354),r=c(356),b=c(8);function u(e,t,c,n){if(t.isCount){let i=t.key+"_"+c;t.isCasesOrDeath&&(i+="_"+Object(b.i)(t,n));const a=e.get(i);return[Math.max(.14,a.mean-3*a.std),a.mean+3*a.std]}const i=e.get(t.key);return[Math.max(0,i.mean-3*i.std),i.mean+3*i.std]}function O(e,t,c){return"value"===t?function(e,t){if(t.isCount)return function(e){const t=Object(n.c)(i.a).domain(e),c=o()(Math.log10(e[0]),Math.log10(e[1]),7),a=c.map(e=>t(e).toString());return{stops:Object(l.e)(c,a),scale:t}}(e);if(t.isProp)return function(e){const t=Math.max(e[0],0),c=Math.max(t+.01,e[1]),a=t+(c-t)/2,o=t+(a-t)/2,s=a+(c-a)/2,r=Object(n.b)(i.a).domain(e),b=[t,o,a,s,c],u=b.map(e=>r(e).toString());return{stops:Object(l.e)(b,u),scale:r}}(e);return function(e){const t=e[0]+(e[1]-e[0])/2,c=e[0]+(t-e[0])/2,a=t+(e[1]-t)/2,o=Object(n.b)(i.a).domain(e),s=[e[0],c,t,a,e[1]],r=s.map(e=>o(e).toString());return{stops:Object(l.e)(s,r),scale:o}}(e)}(e,c):function(){const e=[[r.a,s.e],[-1,s.a.decreasing],[0,s.a.steady],[1,s.a.increasing]],t=[[r.a,s.e],[-1,s.a.gradientMinMega],[0,s.a.gradientMiddleMega],[1,s.a.gradientMaxMega]];return{stops:e,stopsMega:t}}()}function d(e,t,c){const n=[e],i=(t-e)/c;for(let e=1;e<c;e++)n.push(n[e-1]+i);return n.push(t),n}function j(e,t,c,n,i,a=!1){const l=e?u(e,t,c,i):null;if(!l)return{labels:[],high:"",valueMinMax:[0,0]};const r=function(e,t,c){const n=c?5:7;if(e.isCount){const e=Math.log10(Math.max(.01,t[0])),c=Math.log10(Math.max(.1,t[1]));return o()(e,c,n)}return"raw"===e.format?(t[0]=Math.max(0,t[0]),d(t[0],t[1],n)):(t[0]=Math.max(0,t[0]),t[1]=Math.min(100,t[1]),d(t[0],t[1],n))}(t,l,a);return{low:t.formatValue(0),lowValue:0,lowColor:s.f,labels:r.slice(0,-1).map((e,c)=>({label:t.formatValue(e),value:e,color:n(e),nextColor:n(r[c+1])})),high:t.formatValue(l[1])+"+",highValue:l[1],highColor:n(l[1]),valueMinMax:l}}},356:function(e,t,c){"use strict";c.d(t,"b",(function(){return i})),c.d(t,"d",(function(){return a})),c.d(t,"a",(function(){return o})),c.d(t,"c",(function(){return s})),c.d(t,"e",(function(){return l}));var n=c(353);function i(e,t,c=!1){return["case",["any",["to-boolean",["feature-state","hover"]],["to-boolean",["feature-state","select"]]],c?t:e,c?e:t]}function a(e,t,c=!1){return["case",["to-boolean",["feature-state","select"]],c?t:e,c?e:t]}const o=-100;function s(e,t){return["case",["==",["to-number",["feature-state","value"],o],o],e,t]}function l(e){return["case",["==",["to-number",["feature-state","value"],o],o],n.e,["==",["to-number",["feature-state","value"],o],0],n.f,["interpolate",["linear"],["to-number",["feature-state","value"],0],...e.flat()]]}},357:function(e,t,c){"use strict";c.d(t,"b",(function(){return O})),c.d(t,"c",(function(){return d})),c.d(t,"a",(function(){return g}));var n=c(155),i=c(286),a=c(15),o=c(8);const s=Object(a.d)("20100101"),l=Object(a.d)("20500101");function r(e){if(e.result<0||e.message.includes("no results"))return[];const t=e.epidata||[];for(const e of t)null!=e.time_value?e.date_value=Object(a.d)(e.time_value.toString()):e.date_value=null;return t.sort((e,t)=>e.time_value===t.time_value?e.value-t.value:e.time_value<t.time_value?-1:1),t}function b(e){if(e.length>0&&e[0].result<0||e[0].message.includes("no results"))return[];if(0===e.length)return[];const t=Object(a.b)(e.map(e=>e.epidata||[]),o.a);return r({...e[0],epidata:t})}function u(e,t,c,i){return c?e.isCasesOrDeath?Promise.all(o.a.map(a=>Object(n.a)(e.api,e.id,e.casesOrDeathSignals[a],t,i,c))).then(b):Object(n.a)(e.api,e.id,e.signal,t,i,c).then(r):Promise.resolve([])}function O(e,t,c){return u(e,t,"*",c)}function d(e,t,c,n=s,i=l){if(!c)return Promise.resolve([]);return u(e,t,c,`${Object(a.c)(n)}-${Object(a.c)(i)}`)}function j(e,t,c){const n=Object.assign({},e,{date_value:t,time_value:Number.parseInt(Object(a.c)(t),10),value:null,stderr:null,direction:null,sample_size:null});return null!=c&&c.isCasesOrDeath&&o.a.forEach(e=>{n[e]=null}),n}function g(e){if(e.length<2)return e;const t=e[0].date_value,c=e[e.length-1].date_value,n=e[0],a=e.slice(),o=i.a.range(t,i.a.offset(c,1),1);if(o.length===e.length)return e;return o.map(e=>a.length>0&&a[0].date_value.getTime()<=e.getTime()?a.shift():j(n,e))}},358:function(e,t,c){"use strict";var n=c(1),i=c(2);c(307);function a(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,g,h,p,m,f,v,y,$;return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("button"),a=Object(n.Y)("Incidence"),s=Object(n.U)(),l=Object(n.u)("button"),r=Object(n.Y)("Cumulative"),u=Object(n.U)(),O=Object(n.u)("div"),d=Object(n.u)("button"),j=Object(n.Y)("Counts"),h=Object(n.U)(),p=Object(n.u)("button"),m=Object(n.Y)("Ratios per 100,000"),Object(n.g)(i,"aria-pressed",o=String(!e[3].cumulative)),Object(n.g)(i,"class","pg-button button svelte-1txg4v7"),Object(n.ab)(i,"selected",!e[3].cumulative),Object(n.g)(l,"aria-pressed",b=e[3].cumulative),Object(n.g)(l,"class","pg-button button svelte-1txg4v7"),Object(n.ab)(l,"selected",e[3].cumulative),Object(n.g)(c,"aria-label","display cumulative or indicence"),Object(n.g)(c,"class","pg-button-group button-group svelte-1txg4v7"),Object(n.g)(d,"aria-pressed",g=String(!e[3].ratio)),Object(n.g)(d,"class","pg-button button svelte-1txg4v7"),Object(n.ab)(d,"selected",!e[3].ratio),Object(n.g)(p,"aria-pressed",f=String(e[3].ratio)),Object(n.g)(p,"class","pg-button button svelte-1txg4v7"),Object(n.ab)(p,"selected",e[3].ratio),Object(n.g)(O,"aria-label","display counts or ratios per 100,000 people"),Object(n.g)(O,"class","pg-button-group button-group svelte-1txg4v7"),Object(n.g)(t,"class",v="root "+e[2]+" svelte-1txg4v7"),Object(n.ab)(t,"center",e[0])},m(o,b){Object(n.F)(o,t,b),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,a),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.e)(l,r),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,d),Object(n.e)(d,j),Object(n.e)(O,h),Object(n.e)(O,p),Object(n.e)(p,m),y||($=[Object(n.H)(i,"click",e[4]),Object(n.H)(l,"click",e[5]),Object(n.H)(d,"click",e[6]),Object(n.H)(p,"click",e[7])],y=!0)},p(e,c){8&c&&o!==(o=String(!e[3].cumulative))&&Object(n.g)(i,"aria-pressed",o),8&c&&Object(n.ab)(i,"selected",!e[3].cumulative),8&c&&b!==(b=e[3].cumulative)&&Object(n.g)(l,"aria-pressed",b),8&c&&Object(n.ab)(l,"selected",e[3].cumulative),8&c&&g!==(g=String(!e[3].ratio))&&Object(n.g)(d,"aria-pressed",g),8&c&&Object(n.ab)(d,"selected",!e[3].ratio),8&c&&f!==(f=String(e[3].ratio))&&Object(n.g)(p,"aria-pressed",f),8&c&&Object(n.ab)(p,"selected",e[3].ratio),4&c&&v!==(v="root "+e[2]+" svelte-1txg4v7")&&Object(n.g)(t,"class",v),5&c&&Object(n.ab)(t,"center",e[0])},d(e){e&&Object(n.t)(t),y=!1,Object(n.N)($)}}}function o(e){let t,c=e[1].isCasesOrDeath&&a(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,[n]){e[1].isCasesOrDeath?c?c.p(e,n):(c=a(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.J,o:n.J,d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function s(e,t,c){let a,o;Object(n.l)(e,i.m,e=>c(8,a=e)),Object(n.l)(e,i.A,e=>c(3,o=e));let{center:s=!1}=t,{sensor:l=a}=t,{className:r=""}=t;return e.$$set=e=>{"center"in e&&c(0,s=e.center),"sensor"in e&&c(1,l=e.sensor),"className"in e&&c(2,r=e.className)},[s,l,r,o,()=>{o.cumulative&&i.A.set({...o,cumulative:!1})},()=>{o.cumulative||i.A.set({...o,cumulative:!0})},()=>{o.ratio&&i.A.set({...o,ratio:!1})},()=>{o.ratio||i.A.set({...o,ratio:!0})}]}class l extends n.b{constructor(e){super(),Object(n.E)(this,e,s,o,n.O,{center:0,sensor:1,className:2})}}t.a=l},359:function(e,t,c){"use strict";var n=c(1),i=c(2),a=c(74);c(323);function o(e){let t,c,i,a,o;return{c(){t=Object(n.u)("button"),c=Object(n.Y)(e[1]),Object(n.g)(t,"class","pg-button button svelte-1du8dev"),Object(n.g)(t,"title",i=e[0].tooltip)},m(i,s){Object(n.F)(i,t,s),Object(n.e)(t,c),a||(o=Object(n.H)(t,"click",e[2]),a=!0)},p(e,[a]){2&a&&Object(n.R)(c,e[1]),1&a&&i!==(i=e[0].tooltip)&&Object(n.g)(t,"title",i)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),a=!1,o()}}}function s(e,t,c){let{mode:n=a.a[0]}=t,{label:o=n.label}=t;return e.$$set=e=>{"mode"in e&&c(0,n=e.mode),"label"in e&&c(1,o=e.label)},[n,o,()=>{i.i.set(n)}]}class l extends n.b{constructor(e){super(),Object(n.E)(this,e,s,o,n.O,{mode:0,label:1})}}t.a=l},360:function(e,t,c){"use strict";var n=c(1),i=c(130),a=c(2),o=c(355),s=c(291),l=c.n(s),r=c(287),b=(c(292),c(8)),u=c(353),O=c(356),d=c(132);const j={state:{border:"state-border",center:"state-centers"},msa:{border:"msa-border",center:"msa-centers"},county:{border:"county-border",center:"county-centers"},"mega-county":{border:"mega-county-border"},spike:{fill:"spike-fill-source"},cityPoint:"city-point",megaCounty:"mega-county",zoneOutline:"zone-outline"},g=Object(d.b)({}),h={state:{stroke:"state-stroke",names:"state-names",fill:"state-fill",hover:"state-hover",bubble:"state-bubble",spike:"state-spike"},msa:{fill:"msa-fill",hover:"msa-hover",bubble:"msa-bubble",spike:"msa-spike"},county:{fill:"county-fill",hover:"county-hover",bubble:"county-bubble",spike:"county-spike"},"mega-county":{fill:"mega-county-fill",hover:"mega-county-hover"},zoneOutline:"zone-outline",cityPoints:{pit:"city-point-unclustered-pit",1:"city-point-unclustered-1",2:"city-point-unclustered-2",3:"city-point-unclustered-3",4:"city-point-unclustered-4",5:"city-point-unclustered-5"}};var p=c(178),m=c(354);c(293);function f(e){let t,c,i,a,o,s,l,r,b,u,O,d=e[1].displayName+"",j=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"";function g(e,t){return e[4]?_:e[5].isCasesOrDeath?k:$}let h=g(e),p=h(e);return{c(){t=Object(n.u)("h5"),c=Object(n.Y)(d),i=Object(n.U)(),a=Object(n.u)("table"),o=Object(n.u)("tbody"),s=Object(n.u)("tr"),l=Object(n.u)("th"),l.textContent="Population",r=Object(n.U)(),b=Object(n.u)("td"),u=Object(n.Y)(j),O=Object(n.U)(),p.c(),Object(n.g)(t,"class","svelte-o1xcig"),Object(n.g)(l,"class","svelte-o1xcig"),Object(n.g)(b,"class","right svelte-o1xcig")},m(e,d){Object(n.F)(e,t,d),Object(n.e)(t,c),Object(n.F)(e,i,d),Object(n.F)(e,a,d),Object(n.e)(a,o),Object(n.e)(o,s),Object(n.e)(s,l),Object(n.e)(s,r),Object(n.e)(s,b),Object(n.e)(b,u),Object(n.e)(o,O),p.m(o,null)},p(e,t){2&t&&d!==(d=e[1].displayName+"")&&Object(n.R)(c,d),2&t&&j!==(j=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"")&&Object(n.R)(u,j),h===(h=g(e))&&p?p.p(e,t):(p.d(1),p=h(e),p&&(p.c(),p.m(o,null)))},d(e){e&&Object(n.t)(t),e&&Object(n.t)(i),e&&Object(n.t)(a),p.d()}}}function v(e){let t,c,i,a=e[1].displayName+"";return{c(){t=Object(n.u)("h5"),c=Object(n.Y)("Estimate unavailable for rest of "),i=Object(n.Y)(a),Object(n.g)(t,"class","svelte-o1xcig")},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,i)},p(e,t){2&t&&a!==(a=e[1].displayName+"")&&Object(n.R)(i,a)},d(e){e&&Object(n.t)(t)}}}function y(e){let t;return{c(){t=Object(n.u)("h5"),t.textContent="Estimate unavailable",Object(n.g)(t,"class","svelte-o1xcig")},m(e,c){Object(n.F)(e,t,c)},p:n.J,d(e){e&&Object(n.t)(t)}}}function $(e){let t,c,i,a,o,s,l,r=e[5].yAxis+"",b=e[5].formatValue(e[2])+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),i=Object(n.Y)(r),a=Object(n.U)(),o=Object(n.u)("td"),s=Object(n.Y)(b),Object(n.g)(c,"class","svelte-o1xcig"),Object(n.g)(o,"class","right svelte-o1xcig"),Object(n.g)(o,"style",l=e[8](e[2]))},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(o,s)},p(e,t){32&t&&r!==(r=e[5].yAxis+"")&&Object(n.R)(i,r),36&t&&b!==(b=e[5].formatValue(e[2])+"")&&Object(n.R)(s,b),4&t&&l!==(l=e[8](e[2]))&&Object(n.g)(o,"style",l)},d(e){e&&Object(n.t)(t)}}}function k(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,g,h,p,m,f,v,y,$,k,_,w,x,S,M,R,C,F,D,L,A,T,E,U,P,H,B,z,Y,I,N,V,J,Z,W,q,X,G,Q,K,ee,te,ce=e[5].yAxis+"",ne=e[7](e[6])+"",ie=e[5].formatValue(e[1].count)+"",ae=e[5].formatValue(e[1].countRatio)+"",oe=e[5].formatValue(e[1].avg)+"",se=e[5].formatValue(e[1].avgRatio)+"",le=e[7](e[6])+"",re=e[5].formatValue(e[1].countCumulative)+"",be=e[5].formatValue(e[1].countRatioCumulative)+"",ue=e[5].formatValue(e[1].avgCumulative)+"",Oe=e[5].formatValue(e[1].avgRatioCumulative)+"";return{c(){t=Object(n.u)("tr"),c=Object(n.u)("th"),i=Object(n.Y)(ce),a=Object(n.U)(),o=Object(n.u)("th"),o.textContent="Count",s=Object(n.U)(),l=Object(n.u)("th"),l.textContent="Ratios per 100,000",r=Object(n.U)(),b=Object(n.u)("tr"),u=Object(n.u)("th"),O=Object(n.Y)(ne),d=Object(n.U)(),j=Object(n.u)("td"),g=Object(n.Y)(ie),p=Object(n.U)(),m=Object(n.u)("td"),f=Object(n.Y)(ae),y=Object(n.U)(),$=Object(n.u)("tr"),k=Object(n.u)("th"),k.textContent="7-day avg",_=Object(n.U)(),w=Object(n.u)("td"),x=Object(n.Y)(oe),M=Object(n.U)(),R=Object(n.u)("td"),C=Object(n.Y)(se),D=Object(n.U)(),L=Object(n.u)("tr"),A=Object(n.u)("th"),T=Object(n.Y)(le),E=Object(n.Y)(" (cumulated)"),U=Object(n.U)(),P=Object(n.u)("td"),H=Object(n.Y)(re),z=Object(n.U)(),Y=Object(n.u)("td"),I=Object(n.Y)(be),V=Object(n.U)(),J=Object(n.u)("tr"),Z=Object(n.u)("th"),Z.textContent="7-day avg (cumulated)",W=Object(n.U)(),q=Object(n.u)("td"),X=Object(n.Y)(ue),Q=Object(n.U)(),K=Object(n.u)("td"),ee=Object(n.Y)(Oe),Object(n.g)(c,"class","svelte-o1xcig"),Object(n.g)(o,"class","area svelte-o1xcig"),Object(n.g)(l,"class","area svelte-o1xcig"),Object(n.g)(u,"class","svelte-o1xcig"),Object(n.g)(j,"class","right svelte-o1xcig"),Object(n.g)(j,"style",h=e[3].cumulative||e[3].ratio?"":e[8](e[1].count)),Object(n.g)(m,"class","right svelte-o1xcig"),Object(n.g)(m,"style",v=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):""),Object(n.g)(k,"class","svelte-o1xcig"),Object(n.g)(w,"class","right svelte-o1xcig"),Object(n.g)(w,"style",S=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg)),Object(n.g)(R,"class","right svelte-o1xcig"),Object(n.g)(R,"style",F=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):""),Object(n.g)(A,"class","svelte-o1xcig"),Object(n.g)(P,"class","right svelte-o1xcig"),Object(n.g)(P,"style",B=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):""),Object(n.g)(Y,"class","right svelte-o1xcig"),Object(n.g)(Y,"style",N=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):""),Object(n.g)(Z,"class","svelte-o1xcig"),Object(n.g)(q,"class","right svelte-o1xcig"),Object(n.g)(q,"style",G=e[3].cumulative&&!e[3].ratio?e[8](e[1].avgCumulative):""),Object(n.g)(K,"class","right svelte-o1xcig"),Object(n.g)(K,"style",te=e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatioCumulative):"")},m(e,h){Object(n.F)(e,t,h),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(t,s),Object(n.e)(t,l),Object(n.F)(e,r,h),Object(n.F)(e,b,h),Object(n.e)(b,u),Object(n.e)(u,O),Object(n.e)(b,d),Object(n.e)(b,j),Object(n.e)(j,g),Object(n.e)(b,p),Object(n.e)(b,m),Object(n.e)(m,f),Object(n.F)(e,y,h),Object(n.F)(e,$,h),Object(n.e)($,k),Object(n.e)($,_),Object(n.e)($,w),Object(n.e)(w,x),Object(n.e)($,M),Object(n.e)($,R),Object(n.e)(R,C),Object(n.F)(e,D,h),Object(n.F)(e,L,h),Object(n.e)(L,A),Object(n.e)(A,T),Object(n.e)(A,E),Object(n.e)(L,U),Object(n.e)(L,P),Object(n.e)(P,H),Object(n.e)(L,z),Object(n.e)(L,Y),Object(n.e)(Y,I),Object(n.F)(e,V,h),Object(n.F)(e,J,h),Object(n.e)(J,Z),Object(n.e)(J,W),Object(n.e)(J,q),Object(n.e)(q,X),Object(n.e)(J,Q),Object(n.e)(J,K),Object(n.e)(K,ee)},p(e,t){32&t&&ce!==(ce=e[5].yAxis+"")&&Object(n.R)(i,ce),64&t&&ne!==(ne=e[7](e[6])+"")&&Object(n.R)(O,ne),34&t&&ie!==(ie=e[5].formatValue(e[1].count)+"")&&Object(n.R)(g,ie),10&t&&h!==(h=e[3].cumulative||e[3].ratio?"":e[8](e[1].count))&&Object(n.g)(j,"style",h),34&t&&ae!==(ae=e[5].formatValue(e[1].countRatio)+"")&&Object(n.R)(f,ae),10&t&&v!==(v=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):"")&&Object(n.g)(m,"style",v),34&t&&oe!==(oe=e[5].formatValue(e[1].avg)+"")&&Object(n.R)(x,oe),10&t&&S!==(S=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg))&&Object(n.g)(w,"style",S),34&t&&se!==(se=e[5].formatValue(e[1].avgRatio)+"")&&Object(n.R)(C,se),10&t&&F!==(F=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):"")&&Object(n.g)(R,"style",F),64&t&&le!==(le=e[7](e[6])+"")&&Object(n.R)(T,le),34&t&&re!==(re=e[5].formatValue(e[1].countCumulative)+"")&&Object(n.R)(H,re),10&t&&B!==(B=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):"")&&Object(n.g)(P,"style",B),34&t&&be!==(be=e[5].formatValue(e[1].countRatioCumulative)+"")&&Object(n.R)(I,be),10&t&&N!==(N=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")&&Object(n.g)(Y,"style",N),34&t&&ue!==(ue=e[5].formatValue(e[1].avgCumulative)+"")&&Object(n.R)(X,ue),10&t&&G!==(G=e[3].cumulative&&!e[3].ratio?e[8](e[1].avgCumulative):"")&&Object(n.g)(q,"style",G),34&t&&Oe!==(Oe=e[5].formatValue(e[1].avgRatioCumulative)+"")&&Object(n.R)(ee,Oe),10&t&&te!==(te=e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatioCumulative):"")&&Object(n.g)(K,"style",te)},d(e){e&&Object(n.t)(t),e&&Object(n.t)(r),e&&Object(n.t)(b),e&&Object(n.t)(y),e&&Object(n.t)($),e&&Object(n.t)(D),e&&Object(n.t)(L),e&&Object(n.t)(V),e&&Object(n.t)(J)}}}function _(e){let t;function c(e,t){return 1===e[1].value?M:0===e[2]?S:-1===e[2]?x:w}let i=c(e),a=i(e);return{c(){t=Object(n.u)("tr"),a.c()},m(e,c){Object(n.F)(e,t,c),a.m(t,null)},p(e,n){i===(i=c(e))&&a?a.p(e,n):(a.d(1),a=i(e),a&&(a.c(),a.m(t,null)))},d(e){e&&Object(n.t)(t),a.d()}}}function w(e){let t;return{c(){t=Object(n.u)("td"),t.textContent="Unknown",Object(n.g)(t,"colspan","2"),Object(n.g)(t,"class","svelte-o1xcig")},m(e,c){Object(n.F)(e,t,c)},p:n.J,d(e){e&&Object(n.t)(t)}}}function x(e){let t,c,i,a=u.a.decreasingIcon+"";return{c(){t=Object(n.u)("td"),i=Object(n.Y)("\n                Decreasing"),c=new n.a(i),Object(n.g)(t,"colspan","2"),Object(n.T)(t,"background-color",u.a.decreasing),Object(n.g)(t,"class","svelte-o1xcig")},m(e,o){Object(n.F)(e,t,o),c.m(a,t),Object(n.e)(t,i)},p:n.J,d(e){e&&Object(n.t)(t)}}}function S(e){let t,c,i,a=u.a.steadyIcon+"";return{c(){t=Object(n.u)("td"),i=Object(n.Y)("\n                Steady"),c=new n.a(i),Object(n.g)(t,"colspan","2"),Object(n.T)(t,"background-color",u.a.steady),Object(n.g)(t,"class","svelte-o1xcig")},m(e,o){Object(n.F)(e,t,o),c.m(a,t),Object(n.e)(t,i)},p:n.J,d(e){e&&Object(n.t)(t)}}}function M(e){let t,c,i,a=u.a.increasingIcon+"";return{c(){t=Object(n.u)("td"),i=Object(n.Y)("\n                Increasing"),c=new n.a(i),Object(n.g)(t,"colspan","2"),Object(n.T)(t,"background-color",u.a.increasing),Object(n.g)(t,"class","svelte-o1xcig")},m(e,o){Object(n.F)(e,t,o),c.m(a,t),Object(n.e)(t,i)},p:n.J,d(e){e&&Object(n.t)(t)}}}function R(e){let t;function c(e,t){return e[1]?e[0]?v:f:y}let i=c(e),a=i(e);return{c(){t=Object(n.u)("div"),a.c(),Object(n.g)(t,"aria-label","tooltip"),Object(n.g)(t,"class","tooltip")},m(e,c){Object(n.F)(e,t,c),a.m(t,null)},p(e,[n]){i===(i=c(e))&&a?a.p(e,n):(a.d(1),a=i(e),a&&(a.c(),a.m(t,null)))},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),a.d()}}}function C(e,t,c){let i,o,s,l,r;Object(n.l)(e,a.A,e=>c(9,i=e)),Object(n.l)(e,a.d,e=>c(10,o=e)),Object(n.l)(e,a.r,e=>c(4,s=e)),Object(n.l)(e,a.m,e=>c(5,l=e)),Object(n.l)(e,a.g,e=>c(6,r=e));let{invalid:b=!1}=t,{properties:O}=t;const d=Object(p.a)("%B %d");let j,g;return e.$$set=e=>{"invalid"in e&&c(0,b=e.invalid),"properties"in e&&c(1,O=e.properties)},e.$$.update=()=>{2&e.$$.dirty&&c(2,j=O?O.value:0),512&e.$$.dirty&&c(3,g=i)},[b,O,j,g,s,l,r,d,function(e){const t=0===e?u.f:o(e);return`background-color: ${t}; color: ${Object(m.a)(t)}`}]}class F extends n.b{constructor(e){super(),Object(n.E)(this,e,C,R,n.O,{invalid:0,properties:1})}}var D=F;class L{constructor(e,t){this.adapter=t,this.map=e,this.data=new Map,this.popup=new r.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup"}),this.topPopup=new r.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup",anchor:"top"}),this.clicked={id:null,level:null,mega:null},this.hovered={id:null,level:null,mega:null},this.tooltipElement=document.createElement("div"),this.tooltip=new D({target:this.tooltipElement,props:{properties:null,invalid:!0}}),this.initListeners()}initListeners(){this.map.on("mouseenter",h.state.stroke,this._onMapMouseEnter.bind(this)),this.map.on("mouseleave",h.state.stroke,this._onMapMouseLeave.bind(this)),this.map.on("mousemove",h.state.stroke,this._onMapMouseMove.bind(this)),b.g.forEach(e=>{this.map.on("mouseleave",h[e].fill,this._onLevelMouseLeave.bind(this)),this.map.on("mousemove",h[e].fill,this._onLevelMouseMove.bind(this)),this.map.on("click",h[e].fill,this._onLevelMouseClick.bind(this))}),this.map.on("mouseleave",h[b.f.id].fill,this._onMegaMouseLeave.bind(this)),this.map.on("mousemove",h[b.f.id].fill,this._onMegaMouseMove.bind(this)),this.map.on("click",h[b.f.id].fill,this._onMegaMouseClick.bind(this))}get activePopup(){return"spike"===this.adapter.encoding.id?this.topPopup:this.popup}_onMapMouseEnter(){this.map.getCanvas().style.cursor="pointer"}_onLevelMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHighlight(this.hovered,null,null)}_onMegaMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHighlight(this.hovered,null,null)}_onMapMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove()}_onLevelMouseMove(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHighlight(this.hovered,t.id,null,t.properties.level),this._renderTooltip(e))}_onMegaMouseMove(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHighlight(this.hovered,null,t.id),this._renderTooltip(e))}_onMapMouseMove(e){e.defaultPrevented||this._renderTooltip(e,!0)}_onLevelMouseClick(e){const t=e.features[0];if(this.adapter.isMissing(t))return;e.preventDefault();const c=this.clicked.id===t.id?null:t.id;this.adapter.dispatch("select",c?t:null)}_onMegaMouseClick(e){if(e.defaultPrevented)return;const t=e.features[0];if(this.adapter.isMissing(t))return;e.preventDefault();const c=this.clicked.mega===t.id?null:t.id;this.adapter.dispatch("select",c?t:null)}_renderTooltip(e,t=!1){this.map.getCanvas().style.cursor="pointer";const c=e.features[0],n=this.activePopup;this.tooltip.$set({properties:{...c.properties,...this.data.get(c.properties.id)||{}},invalid:t}),n.setLngLat(e.lngLat).setDOMContent(this.tooltipElement).addTo(this.map)}_updateState(e,t,c){this.map.setFeatureState({source:e,id:"string"==typeof t?Number.parseInt(t,10):t},c)}_updateHoverLayerVisibility(){const e=new Set;null==this.clicked.mega&&null==this.hovered.mega||e.add(b.f.id),null!=this.clicked.id&&e.add(this.clicked.level),null!=this.hovered.id&&e.add(this.hovered.level);for(const t of b.h){"none"!==this.map.getLayoutProperty(h[t].hover,"visibility")!==e.has(t)&&this.map.setLayoutProperty(h[t].hover,"visibility",e.has(t)?"visible":"none")}}_updateHighlight(e,t=null,c=null,n=this.adapter.level){const i=e===this.clicked?"select":"hover",a={[i]:!0},o={[i]:!1};e.id!==t&&(e.id&&this._updateState(j[e.level].border,e.id,o),t&&this._updateState(j[n].border,t,a),e.id=t,e.level=n),e.mega!==c&&(e.mega&&this._updateState(j[b.f.id].border,e.mega,o),c&&this._updateState(j[b.f.id].border,c,a),e.mega=c),this._updateHoverLayerVisibility()}select(e){const t=Object.assign({},this.clicked),c=null!=e&&e.level!==b.f.id?Number(e.id):null,n=null!=e&&e.level===b.f.id?Number(e.id):null;return this._updateHighlight(this.clicked,c,n,null!=e?e.level:this.adapter.level),t}forceHover(e){this._updateHighlight(this.hovered,e.id,null,e.properties.level)}}var A=c(365);class T{constructor(){this.map=null,this.stateBounds=new r.LngLatBounds(d.a.states),this.stateBoundsOptions={padding:20,linear:!1},this.stateZoom=1,this.initialZoomView=!0,this.zoneBounds=new r.LngLatBounds(d.a.zones),this.zoneBoundsOptions={padding:20,linear:!1}}getZoom(){return this.map?this.map.getZoom():0}getMaxZoom(){return this.map?this.map.getMaxZoom():100}getMinZoom(){return this.map?this.map.getMinZoom():-100}zoomIn(){this.map&&(this.initialZoomView=!1,this.map.zoomIn())}zoomOut(){this.map&&(this.initialZoomView=!1,this.map.zoomOut())}resetZoom(){this.map&&(this.initialZoomView=!0,this.map.fitBounds(this.stateBounds,this.stateBoundsOptions),this.map.once("idle",()=>{this.ready()}))}ready(){this.stateZoom=this.map.getZoom()}resized(){this.initialZoomView&&this.map&&requestAnimationFrame(()=>{this.map.fitBounds(this.stateBounds,this.stateBoundsOptions)})}showStateLabels(e){this.map&&this.map.setLayoutProperty(h.state.names,"visibility",e?"visible":"none")}toggleStateLabels(){this.map&&this.showStateLabels("visible"!==this.map.getLayoutProperty(h.state.names,"visibility"))}showSWPA(){this.map&&(this.initialZoomView=!1,this.map.fitBounds(this.zoneBounds,this.zoneBoundsOptions),this.map.setLayoutProperty(h.zoneOutline,"visibility","visible"))}}class E{constructor(e,t){this.dispatch=e,this.map=null,this.mapSetupReady=!1,this.mapSetupReadyPromiseResolver=()=>{},this.mapSetupReadyPromise=new Promise(e=>{this.mapSetupReadyPromiseResolver=e}),this.mapDataReady=!1,this.mapEncodingReady=!1,this.animationDuration=0,this.interactive=null,this.encodings=t,this.encoding=this.encodings[0],this.level="county",this.zoom=new T}initMap(e){this.map=new r.Map({attributionControl:!1,container:e,style:A,bounds:this.zoom.stateBounds,fitBounds:this.zoom.stateBoundsOptions,doubleClickZoom:!1,dragRotate:!1,pitchWithRotate:!1,touchPitch:!1,touchZoomRotate:!0,antialias:!0}),this.zoom.map=this.map,this.map.touchZoomRotate.disableRotation();let t=null;const c=new Promise(e=>{t=e});return this.map.on("idle",()=>{this.dispatch("idle")}),this.map.on("load",()=>{this.addSources().then(()=>{this.addLayers(),this.interactive=new L(this.map,this),this.zoom.showStateLabels("state"===this.level)}).then(()=>{this.zoom.ready(),this.markReady("setup"),t(this)})}),Object(m.b)(e,()=>{this.map.resize()}),c}markReady(e){switch(e){case"data":if(this.mapDataReady)return;this.mapDataReady=!0,this.dispatch("readyData");break;case"setup":if(this.mapSetupReady)return;this.mapSetupReady=!0,this.mapSetupReadyPromiseResolver(),this.dispatch("readySetup");break;case"encoding":if(this.mapEncodingReady)return;this.mapEncodingReady=!0,this.dispatch("readyEncoding")}this.mapSetupReady&&this.mapEncodingReady&&this.mapDataReady&&this.dispatch("ready")}addSprites(){const e=16,t=document.createElement("canvas");t.width=e,t.height=e;const c=t.getContext("2d");c.clearRect(0,0,e,e);const n=c.createLinearGradient(0,0,e,e);n.addColorStop(0,"white"),n.addColorStop(.25,u.e),n.addColorStop(.5,"white"),n.addColorStop(.75,u.e),n.addColorStop(1,"white"),c.fillStyle=n,c.fillRect(0,0,e,e);const i=c.getImageData(0,0,e,e);this.map.addImage("hatching",i,{sdf:!0})}addSources(){const e=g.then(e=>{const t=this.map;t.addSource(j.cityPoint,{type:"geojson",data:e.cities}),t.addSource(j[b.f.id].border,{type:"geojson",data:e.mega}),t.addSource(j.zoneOutline,{type:"geojson",data:e.newZones}),b.g.forEach(c=>{t.addSource(j[c].border,{type:"geojson",data:e[c].border}),t.addSource(j[c].center,{type:"geojson",data:e[c].center})})}),t=this.addSprites();return Promise.all([e,t])}animationOptions(e){return this.animationDuration?{[e+"-transition"]:{duration:this.animationDuration,delay:0}}:{}}addLayers(){const e=this.map;e.addLayer({id:h.state.stroke,source:j.state.border,type:"fill",paint:{"fill-color":u.e,"fill-outline-color":u.d.stateOutline,"fill-pattern":"hatching"}}),[b.f.id,...b.g].forEach(t=>{e.addLayer({id:h[t].fill,source:j[t].border,type:"fill",layout:{visibility:"none"},paint:{"fill-outline-color":u.d.countyOutlineWhenFilled,"fill-color":u.d.countyFill,"fill-opacity":Object(O.c)(0,1),...this.animationOptions("fill-color")}})}),e.addLayer({id:h.zoneOutline,source:j.zoneOutline,type:"line",layout:{visibility:"none"},paint:{"line-color":u.d.zoneOutline,"line-width":2,"line-dasharray":[2,2]}}),[b.f.id,...b.g].forEach(t=>{e.addLayer({id:h[t].hover,source:j[t].border,type:"line",layout:{visibility:"none"},paint:{"line-color":Object(O.d)(u.d.selectedRegionOutline,u.d.hoverRegionOutline),"line-width":Object(O.b)(4,0)}})}),this.encodings.forEach(t=>{t.addLayers(e,this)}),function(e){e.addLayer({id:h.state.names,source:j.state.center,type:"symbol",maxzoom:8,layout:{"text-field":["upcase",["get","name"]],"text-font":["Open Sans Bold"],"text-size":11},paint:{"text-opacity":.5,"text-halo-color":"#fff","text-halo-width":1}});const t=(t,c,n={})=>{e.addLayer({id:t,source:j.cityPoint,type:"symbol",...c?{filter:c}:{},...n,layout:{"text-field":["get","name"],"text-font":["Open Sans Regular"],"text-size":12},paint:{"text-halo-color":"#fff","text-halo-width":1.5}},h.state.names)};t(h.cityPoints.pit,["==","name","Pittsburgh"],{maxzoom:8}),t(h.cityPoints.pit[1],[">","population",9e5],{maxzoom:4}),t(h.cityPoints.pit[2],[">","population",5e5],{maxzoom:6,minzoom:4}),t(h.cityPoints.pit[3],[">","population",1e5],{maxzoom:8,minzoom:6}),t(h.cityPoints.pit[4],void 0,{minzoom:8})}(e)}destroy(){this.mapSetupReady=!1,this.map&&(Object(m.d)(this.map.getContainer()),this.map.remove(),this.zoom.map=null,this.map=null)}updateOptions(e,t,c,n,i,a,o,s){const l=this.level;if(this.level=t,this.encoding=this.encodings.find(t=>t.id===e),!this.map||!this.mapSetupReady)return;l!==t&&this.zoom.showStateLabels("state"===t);const r=this.encodings.flatMap(e=>e.layers).concat([h[b.f.id].fill]),u=new Set(this.encoding.getVisibleLayers(t,c));"county"===t&&u.add(h[b.f.id].fill),r.forEach(e=>{this.map.setLayoutProperty(e,"visibility",u.has(e)?"visible":"none")});const O=this.encoding.encode(this.map,t,c,n,i,a,o,s);return this.markReady("encoding"),O}updateSources(e,t,c="value"){const n=Math.random().toString(36);this._mapDataFlag=n,this.dispatch("loading",!0),Promise.all([t,this.mapSetupReadyPromise]).then(([t])=>{if(this._mapDataFlag!==n)return;this.map.once("idle",()=>{this.dispatch("loading",!1)});const i=new Map(t.map(e=>[e.geo_value.toUpperCase(),e]));this.interactive.data=i,"county"===e&&this._updateSource(j[b.f.id].border,i,c),this._updateSource(j[e].border,i,c),this._updateSource(j[e].center,i,c);for(const t of this.encodings)t.updateSources(this.map,e,i,c);t.length>0&&this.markReady("data")})}_updateSource(e,t,c="value"){console.assert(null!=this.map);const n=this.map.getSource(e);if(!n)return;n._data.features.forEach(n=>{const i=n.properties.id,a=t.get(i);this.map.setFeatureState({source:e,id:Number.parseInt(n.id,10)},{value:a?a[c]:O.a})})}select(e){if(!this.map||!this.interactive)return;const t=this.interactive.select(e);if((null!=t.id||null!=t.mega)&&!e)return void this.zoom.resetZoom();if(!e||e.level!==b.f.id&&(this.interactive.hovered.id==e.id||t.id==e.id)||e.level===b.f.id&&(this.interactive.hovered.mega==e.id||t.mega==e.id))return;const c=this.map.getSource(j[e.level].border);if(!c)return;const n=c._data.features.find(t=>t.id===e.id);n&&this.map.fitBounds(l()(n),{maxZoom:1.5*this.zoom.getZoom(),linear:!1,essential:!0})}isMissing(e){const t=this.map.getFeatureState({source:j[e.properties.level].border,id:"string"==typeof id?Number.parseInt(e.id,10):e.id});return null==t.value||t.value===O.a}selectRandom(){if(!this.map||!this.mapSetupReady)return;const e=b.b[this.level],t=this.map.getSource(j[this.level].border);if(!t)return;const c=t._data.features.find(t=>t.properties.id===e);if(c&&!this.isMissing(c))return this.interactive.forceHover(c),void this.dispatch("select",c);const n=t._data.features.filter(e=>!this.isMissing(e));if(0===n.length)return;const i=n[Math.floor(Math.random()*(n.length-1))];this.interactive.forceHover(i),this.dispatch("select",i)}}class U{constructor(){this.id="color",this.layers=b.g.map(e=>h[e].fill)}getVisibleLayers(e){return[h[e].fill]}addLayers(){}encode(e,t,c,n,i,a,o){e.setPaintProperty(h[t].fill,"fill-color",Object(O.e)(a)),o&&e.setPaintProperty(h[b.f.id].fill,"fill-color",Object(O.e)(o))}updateSources(){}}var P=c(131),H=c(115);class B{constructor(e){this.id="bubble",this.theme=e,this.layers=a.v.map(e=>h[e].bubble)}getVisibleLayers(e,t){return"direction"===t?[]:[h[e].fill,h[e].bubble]}addLayers(e,t){a.v.forEach(c=>{e.addLayer({id:h[c].bubble,source:j[c].center,type:"circle",layout:{visibility:"none"},paint:{"circle-radius":0,"circle-color":this.theme.color,"circle-stroke-color":this.theme.strokeColor,"circle-stroke-width":this.theme.strokeWidth,"circle-opacity":Object(O.c)(0,this.theme.opacity),"circle-stroke-opacity":Object(O.c)(0,this.theme.strokeOpacity),...t.animationOptions("circle-radius")}})})}encode(e,t,c,n,i,a){e.setPaintProperty(h[t].fill,"fill-color",this.theme.countyFill);const o=Object(O.e)(a),s=this.theme.minRadius[t],l=this.theme.maxRadius[t],r=this.theme.radiusScale[Object(P.a)(n)],b=Object(H.c)(r).domain(i).range([s,l]).clamp(!0),u=b.expr(["to-number",["feature-state","value"],0]);return e.setPaintProperty(h[t].bubble,"circle-stroke-color",o),e.setPaintProperty(h[t].bubble,"circle-color",o),e.setPaintProperty(h[t].bubble,"circle-radius",u),b}updateSources(){}}var z=c(352);class Y{constructor(e,t){this._sourceId=e,this._level=t,this._colorsDirty=!0,this.featureIds=[],this._valueLookup=new Map,this._valuePrimaryValue="value",this._valueToColor=()=>u.e}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}onAdd(e,t){this._vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertexShader,"\nuniform mat4 u_matrix;\nuniform float u_size;\nuniform float u_yPixelToClip;\nuniform vec2 u_jitter;\nattribute vec3 a_pos;\nattribute vec4 a_colorAndHeight;\nvarying vec3 v_color;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n  if (a_pos.z == 0.0) {\n    p.y += a_colorAndHeight.a * u_yPixelToClip * p.w;\n  } else {\n    p.x += a_pos.z * u_size * p.w;\n  }\n  p.x += u_jitter.x * p.w;\n  p.y += u_jitter.y * p.w;\n  gl_Position = p;\n  v_color = a_colorAndHeight.rgb / 255.0;\n}"),t.compileShader(this._vertexShader),this._fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragmentShader,"\nprecision mediump float;\nuniform float u_opacity;\nvarying vec3 v_color;\nvoid main() {\n  if (v_color == vec3(0.0,0.0,0.0)) {\n    discard;\n  }\n  gl_FragColor = vec4(v_color * u_opacity, u_opacity);\n}"),t.compileShader(this._fragmentShader),this._program=t.createProgram(),t.attachShader(this._program,this._vertexShader),t.attachShader(this._program,this._fragmentShader),t.linkProgram(this._program),this._uPos=t.getUniformLocation(this._program,"u_matrix"),this._uOpacity=t.getUniformLocation(this._program,"u_opacity"),this._uSize=t.getUniformLocation(this._program,"u_size"),this._uYPixelToClip=t.getUniformLocation(this._program,"u_yPixelToClip"),this._uJitter=t.getUniformLocation(this._program,"u_jitter"),this._aPos=t.getAttribLocation(this._program,"a_pos"),this._centerBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._centerBuffer);const c=e.getSource(this._sourceId)._data.features.map(e=>{const t=e.geometry.coordinates,c=t[0],n=t[1];if(null==n||Number.isNaN(n))return[];this.featureIds.push(e.properties.id);const i=r.MercatorCoordinate.fromLngLat({lat:n,lng:c});return[i.x,i.y,-1,i.x,i.y,0,i.x,i.y,1]}).flat();t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),this._aColorAndHeight=t.getAttribLocation(this._program,"a_colorAndHeight"),this._colorAndHeightBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._colorAndHeightBuffer),this._colorAndHeightData=new Float32Array(4*this.featureIds.length*3),this._colorAndHeightData.fill(0),t.bufferData(t.ARRAY_BUFFER,this._colorAndHeightData,t.STATIC_DRAW),this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);const n=new Uint16Array(4*this.featureIds.length);for(let e=0;e<this.featureIds.length;e++){const t=4*e,c=3*e;n[t]=c,n[t+1]=c+1,n[t+2]=c+2,n[t+3]=c+1}t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)}onRemove(e,t){t.deleteBuffer(this._centerBuffer),t.deleteBuffer(this._colorAndHeightBuffer),t.deleteBuffer(this._indexBuffer),t.deleteShader(this._fragmentShader),t.deleteShader(this._vertexShader),t.deleteProgram(this._program)}render(e,t){e.useProgram(this._program),e.uniformMatrix4fv(this._uPos,!1,t),e.uniform1f(this._uOpacity,u.c.fillOpacity);const c=2/e.canvas.width,n=2/e.canvas.height;e.uniform1f(this._uSize,u.c.size[this._level]*c),e.uniform1f(this._uYPixelToClip,n),e.uniform2f(this._uJitter,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._colorAndHeightBuffer),e.enableVertexAttribArray(this._aColorAndHeight),e.vertexAttribPointer(this._aColorAndHeight,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._centerBuffer),e.enableVertexAttribArray(this._aPos),e.vertexAttribPointer(this._aPos,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ZERO),e.drawArrays(e.TRIANGLES,0,3*this.featureIds.length),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.uniform1f(this._uOpacity,.5*u.c.strokeOpacity),e.uniform2f(this._uJitter,1*c,0),e.drawElements(e.LINES,4*this.featureIds.length,e.UNSIGNED_SHORT,0),e.uniform2f(this._uJitter,-1*c,0),e.drawElements(e.LINES,4*this.featureIds.length,e.UNSIGNED_SHORT,0),e.uniform2f(this._uJitter,0,0),e.uniform1f(this._uOpacity,u.c.strokeOpacity),e.drawElements(e.LINES,4*this.featureIds.length,e.UNSIGNED_SHORT,0)}preRender(e){if(this._colorsDirty){this._colorsDirty=!1;for(let e=0;e<this.featureIds.length;e++){const t=this.featureIds[e],c=this._valueLookup.has(t)?this._valueLookup.get(t)[this._valuePrimaryValue]:null;if(null==c||Number.isNaN(c)){for(let t=0;t<3;t++){const c=4*e*3+4*t;this._colorAndHeightData[c]=0,this._colorAndHeightData[c+1]=0,this._colorAndHeightData[c+2]=0,this._colorAndHeightData[c+3]=0}continue}const n=Object(z.b)(this._valueToColor(c)),i=this._valueToSize(c);for(let t=0;t<3;t++){const c=4*e*3+4*t;this._colorAndHeightData[c]=n.r,this._colorAndHeightData[c+1]=n.g,this._colorAndHeightData[c+2]=n.b,this._colorAndHeightData[c+3]=i}}e.bindBuffer(e.ARRAY_BUFFER,this._colorAndHeightBuffer),e.bufferData(e.ARRAY_BUFFER,this._colorAndHeightData,e.STATIC_DRAW)}}encode(e,t){this._colorsDirty=!0,this._valueToSize=e,this._valueToColor=t}updateSources(e,t){this._colorsDirty=!0,this._valueLookup=e,this._valuePrimaryValue=t}}class I{constructor(e){this.id="spike",this.theme=e,this.layers=a.v.map(e=>h[e].spike),this.customLayers=new Map(a.v.map(e=>[e,new Y(j[e].center,e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[h[e].fill,h[e].spike]}addLayers(e){a.v.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(h[t].spike))})}encode(e,t,c,n,i,a,o,s){e.setPaintProperty(h[t].fill,"fill-color",this.theme.countyFill);const l=i[1],r=this.theme.maxHeight[t],b=this.theme.heightScale[Object(P.a)(n)],u=Object(H.c)(b).range([0,r]).domain([0,l]).clamp(!0);return this.customLayers.get(t).encode(u,s),u}updateSources(e,t,c,n){this.customLayers.get(t).updateSources(c,n)}}c(294);function N(e){let t,c,i;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","map-wrapper svelte-54x2e1")},m(a,o){Object(n.F)(a,t,o),e[12](t),c||(i=Object(n.H)(window,"resize",e[1]),c=!0)},p:n.J,i:n.J,o:n.J,d(a){a&&Object(n.t)(t),e[12](null),c=!1,i()}}}function V(e,t,c){let s;Object(n.l)(e,a.E,e=>c(16,s=e));let l=null;const r=Object(i.a)(),O=new E((e,t)=>r(e,t),[new U,new B(u.b),new I(u.c)]),d=O.zoom;let j,{data:g=Promise.resolve([])}=t,{sensor:h=""}=t,{level:p="state"}=t,{encoding:m="color"}=t,{signalType:f="value"}=t,{signalOptions:v={}}=t,{animationDuration:y=0}=t,{selection:$=null}=t,k=!1;return Object(i.c)(()=>{c(13,O.animationDuration=y,O),O.initMap(l).then(()=>{c(14,k=!0)})}),Object(i.b)(()=>{O.destroy()}),e.$$set=e=>{"data"in e&&c(4,g=e.data),"sensor"in e&&c(5,h=e.sensor),"level"in e&&c(6,p=e.level),"encoding"in e&&c(7,m=e.encoding),"signalType"in e&&c(8,f=e.signalType),"signalOptions"in e&&c(9,v=e.signalOptions),"animationDuration"in e&&c(10,y=e.animationDuration),"selection"in e&&c(11,$=e.selection)},e.$$.update=()=>{64&e.$$.dirty&&(j="county"===p),8816&e.$$.dirty&&O.updateSources(p,g,Object(b.i)(a.z.get(h),v)),82912&e.$$.dirty&&s&&function(e,t,c,n,i,s){const l=a.z.get(c),b=Object(o.b)(i,l,e,s),{stops:u,scale:d}=Object(o.a)(b,n,l),j="county"===e,g=O.updateOptions(t,e,n,c,b,u,j&&u,d);r("updatedEncoding",{range:"value"===n?b:[-1,1],custom:g,scale:d,stops:u})}(p,m,h,f,s,v),26624&e.$$.dirty&&O.select($)},[l,function(){O.zoom.resized()},d,function(){O.selectRandom()},g,h,p,m,f,v,y,$,function(e){n.i[e?"unshift":"push"](()=>{l=e,c(0,l)})}]}class J extends n.b{constructor(e){super(),Object(n.E)(this,e,V,N,n.O,{zoom:2,selectRandom:3,data:4,sensor:5,level:6,encoding:7,signalType:8,signalOptions:9,animationDuration:10,selection:11})}get zoom(){return this.$$.ctx[2]}get selectRandom(){return this.$$.ctx[3]}}t.a=J},361:function(e,t,c){"use strict";var n=c(1),i=c(2);const a=(e,t,c,n=0)=>{let i=new Date(t,e,1);i.setDate(i.getDate()-i.getDay()+n);let a=11===e?0:e+1,o=[];for(;i.getMonth()!==a||i.getDay()!==n||6!==o.length;){i.getDay()===n&&o.unshift({days:[],id:`${t}${e}${t}${o.length}`});const a=Object.assign({partOfMonth:i.getMonth()===e,day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),date:new Date(i)},c(i));o[0].days.push(a),i.setDate(i.getDate()+1)}return o.reverse(),{month:e,year:t,weeks:o}};function o(e,t,c=null,n=0){e.setHours(0,0,0,0),t.setHours(0,0,0,0);let i=new Date(t.getFullYear(),t.getMonth()+1,1),o=[],s=new Date(e.getFullYear(),e.getMonth(),1),l=((e,t,c)=>{let n=new Date;return n.setHours(0,0,0,0),i=>{const a=i>=e&&i<=t;return{isInRange:a,selectable:a&&(!c||c(i)),isToday:i.getTime()===n.getTime()}}})(e,t,c);for(;s<i;)o.push(a(s.getMonth(),s.getFullYear(),l,n)),s.setMonth(s.getMonth()+1);return o}const s=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();var l=c(332),r=c(130);c(295);function b(e,t,c){const n=e.slice();return n[7]=t[c],n}function u(e){let t,c,i,a,o,l,r=e[7].date.getDate()+"";function b(...t){return e[6](e[7],...t)}return{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),i=Object(n.Y)(r),a=Object(n.U)(),Object(n.g)(c,"class","day--label svelte-1lvsugt"),Object(n.g)(c,"type","button"),Object(n.ab)(c,"selected",s(e[7].date,e[1])),Object(n.ab)(c,"highlighted",s(e[7].date,e[2])),Object(n.ab)(c,"shake-date",e[3]&&s(e[7].date,e[3])),Object(n.ab)(c,"disabled",!e[7].selectable),Object(n.g)(t,"class","day svelte-1lvsugt"),Object(n.ab)(t,"outside-month",!e[7].partOfMonth),Object(n.ab)(t,"is-today",e[7].isToday),Object(n.ab)(t,"is-disabled",!e[7].selectable)},m(e,s){Object(n.F)(e,t,s),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),o||(l=Object(n.H)(c,"click",b),o=!0)},p(a,o){e=a,1&o&&r!==(r=e[7].date.getDate()+"")&&Object(n.R)(i,r),3&o&&Object(n.ab)(c,"selected",s(e[7].date,e[1])),5&o&&Object(n.ab)(c,"highlighted",s(e[7].date,e[2])),9&o&&Object(n.ab)(c,"shake-date",e[3]&&s(e[7].date,e[3])),1&o&&Object(n.ab)(c,"disabled",!e[7].selectable),1&o&&Object(n.ab)(t,"outside-month",!e[7].partOfMonth),1&o&&Object(n.ab)(t,"is-today",e[7].isToday),1&o&&Object(n.ab)(t,"is-disabled",!e[7].selectable)},d(e){e&&Object(n.t)(t),o=!1,l()}}}function O(e){let t,c,i,a,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=u(b(e,o,t));return{c(){t=Object(n.u)("div");for(let e=0;e<s.length;e+=1)s[e].c();Object(n.g)(t,"class","week svelte-1lvsugt")},m(e,c){Object(n.F)(e,t,c);for(let e=0;e<s.length;e+=1)s[e].m(t,null);a=!0},p(e,[c]){if(47&c){let n;for(o=e[0],n=0;n<o.length;n+=1){const i=b(e,o,n);s[n]?s[n].p(i,c):(s[n]=u(i),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i(o){a||(o&&Object(n.d)(()=>{i&&i.end(1),c||(c=Object(n.o)(t,l.b,{x:50*e[4],duration:180,delay:90})),c.start()}),a=!0)},o(e){c&&c.invalidate(),e&&(i=Object(n.p)(t,l.a,{duration:180})),a=!1},d(e){e&&Object(n.t)(t),Object(n.s)(s,e),e&&i&&i.end()}}}function d(e,t,c){const n=Object(r.a)();let{days:i}=t,{selected:a}=t,{highlighted:o}=t,{shouldShakeDate:s}=t,{direction:l}=t;return e.$$set=e=>{"days"in e&&c(0,i=e.days),"selected"in e&&c(1,a=e.selected),"highlighted"in e&&c(2,o=e.highlighted),"shouldShakeDate"in e&&c(3,s=e.shouldShakeDate),"direction"in e&&c(4,l=e.direction)},[i,a,o,s,l,n,e=>n("dateSelected",e.date)]}class j extends n.b{constructor(e){super(),Object(n.E)(this,e,d,O,n.O,{days:0,selected:1,highlighted:2,shouldShakeDate:3,direction:4})}}var g=j;c(296);function h(e,t,c){const n=e.slice();return n[8]=t[c],n}function p(e,t){let c,i,a;return i=new g({props:{days:t[8].days,selected:t[1],highlighted:t[2],shouldShakeDate:t[3],direction:t[4]}}),i.$on("dateSelected",t[6]),{key:e,first:null,c(){c=Object(n.v)(),Object(n.n)(i.$$.fragment),this.first=c},m(e,t){Object(n.F)(e,c,t),Object(n.I)(i,e,t),a=!0},p(e,t){const c={};1&t&&(c.days=e[8].days),2&t&&(c.selected=e[1]),4&t&&(c.highlighted=e[2]),8&t&&(c.shouldShakeDate=e[3]),16&t&&(c.direction=e[4]),i.$set(c)},i(e){a||(Object(n.bb)(i.$$.fragment,e),a=!0)},o(e){Object(n.cb)(i.$$.fragment,e),a=!1},d(e){e&&Object(n.t)(c),Object(n.r)(i,e)}}}function m(e){let t,c,i=[],a=new Map,o=e[0].weeks;const s=e=>e[8].id;for(let t=0;t<o.length;t+=1){let c=h(e,o,t),n=s(c);a.set(n,i[t]=p(n,c))}return{c(){t=Object(n.u)("div");for(let e=0;e<i.length;e+=1)i[e].c();Object(n.g)(t,"class","month-container svelte-dfjvzo")},m(e,a){Object(n.F)(e,t,a);for(let e=0;e<i.length;e+=1)i[e].m(t,null);c=!0},p(e,[c]){if(31&c){const o=e[0].weeks;Object(n.B)(),i=Object(n.db)(i,c,s,1,e,o,a,t,n.M,p,null,h),Object(n.k)()}},i(e){if(!c){for(let e=0;e<o.length;e+=1)Object(n.bb)(i[e]);c=!0}},o(e){for(let e=0;e<i.length;e+=1)Object(n.cb)(i[e]);c=!1},d(e){e&&Object(n.t)(t);for(let e=0;e<i.length;e+=1)i[e].d()}}}function f(e,t,c){let i,{id:a}=t,{visibleMonth:o}=t,{selected:s}=t,{highlighted:l}=t,{shouldShakeDate:r}=t,b=a;return e.$$set=e=>{"id"in e&&c(5,a=e.id),"visibleMonth"in e&&c(0,o=e.visibleMonth),"selected"in e&&c(1,s=e.selected),"highlighted"in e&&c(2,l=e.highlighted),"shouldShakeDate"in e&&c(3,r=e.shouldShakeDate)},e.$$.update=()=>{160&e.$$.dirty&&(c(4,i=b<a?1:-1),c(7,b=a))},[o,s,l,r,i,a,function(t){Object(n.j)(e,t)}]}class v extends n.b{constructor(e){super(),Object(n.E)(this,e,f,m,n.O,{id:5,visibleMonth:0,selected:1,highlighted:2,shouldShakeDate:3})}}var y=v;c(297);function $(e,t,c){const n=e.slice();return n[15]=t[c],n[17]=c,n}function k(e){let t,c,i,a,o,s,l=e[15].abbrev+"";function r(...t){return e[14](e[15],e[17],...t)}return{c(){t=Object(n.u)("div"),c=Object(n.u)("span"),i=Object(n.Y)(l),a=Object(n.U)(),Object(n.g)(c,"class","svelte-dn8kd0"),Object(n.g)(t,"class","month-selector--month svelte-dn8kd0"),Object(n.ab)(t,"selected",e[17]===e[0]),Object(n.ab)(t,"selectable",e[15].selectable)},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),o||(s=Object(n.H)(t,"click",r),o=!0)},p(c,a){e=c,64&a&&l!==(l=e[15].abbrev+"")&&Object(n.R)(i,l),1&a&&Object(n.ab)(t,"selected",e[17]===e[0]),64&a&&Object(n.ab)(t,"selectable",e[15].selectable)},d(e){e&&Object(n.t)(t),o=!1,s()}}}function _(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,g,h=e[4][e[0]][0]+"",p=e[6],m=[];for(let t=0;t<p.length;t+=1)m[t]=k($(e,p,t));return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("div"),i.innerHTML='<i class="arrow left svelte-dn8kd0"></i>',a=Object(n.U)(),o=Object(n.u)("div"),s=Object(n.Y)(h),l=Object(n.U)(),r=Object(n.Y)(e[1]),b=Object(n.U)(),u=Object(n.u)("div"),u.innerHTML='<i class="arrow right svelte-dn8kd0"></i>',O=Object(n.U)(),d=Object(n.u)("div");for(let e=0;e<m.length;e+=1)m[e].c();Object(n.g)(i,"class","control svelte-dn8kd0"),Object(n.ab)(i,"enabled",e[3]),Object(n.g)(o,"class","label svelte-dn8kd0"),Object(n.g)(u,"class","control svelte-dn8kd0"),Object(n.ab)(u,"enabled",e[2]),Object(n.g)(c,"class","heading-section svelte-dn8kd0"),Object(n.g)(d,"class","month-selector svelte-dn8kd0"),Object(n.ab)(d,"open",e[5]),Object(n.g)(t,"class","cal-title")},m(h,p){Object(n.F)(h,t,p),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,a),Object(n.e)(c,o),Object(n.e)(o,s),Object(n.e)(o,l),Object(n.e)(o,r),Object(n.e)(c,b),Object(n.e)(c,u),Object(n.e)(t,O),Object(n.e)(t,d);for(let e=0;e<m.length;e+=1)m[e].m(d,null);j||(g=[Object(n.H)(i,"click",e[12]),Object(n.H)(o,"click",e[8]),Object(n.H)(u,"click",e[13])],j=!0)},p(e,[t]){if(8&t&&Object(n.ab)(i,"enabled",e[3]),17&t&&h!==(h=e[4][e[0]][0]+"")&&Object(n.R)(s,h),2&t&&Object(n.R)(r,e[1]),4&t&&Object(n.ab)(u,"enabled",e[2]),577&t){let c;for(p=e[6],c=0;c<p.length;c+=1){const n=$(e,p,c);m[c]?m[c].p(n,t):(m[c]=k(n),m[c].c(),m[c].m(d,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=p.length}32&t&&Object(n.ab)(d,"open",e[5])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(m,e),j=!1,Object(n.N)(g)}}}function w(e,t,c){const n=Object(r.a)();let i,{month:a}=t,{year:o}=t,{start:s}=t,{end:l}=t,{canIncrementMonth:b}=t,{canDecrementMonth:u}=t,{monthsOfYear:O}=t,d=!1;function j(){c(5,d=!d)}function g(e,{m:t,i:c}){e.stopPropagation(),t.selectable&&(n("monthSelected",c),j())}return e.$$set=e=>{"month"in e&&c(0,a=e.month),"year"in e&&c(1,o=e.year),"start"in e&&c(10,s=e.start),"end"in e&&c(11,l=e.end),"canIncrementMonth"in e&&c(2,b=e.canIncrementMonth),"canDecrementMonth"in e&&c(3,u=e.canDecrementMonth),"monthsOfYear"in e&&c(4,O=e.monthsOfYear)},e.$$.update=()=>{if(3090&e.$$.dirty){let e=s.getFullYear()===o,t=l.getFullYear()===o;c(6,i=O.map((c,n)=>Object.assign({},{name:c[0],abbrev:c[1]},{selectable:!e&&!t||(!e||n>=s.getMonth())&&(!t||n<=l.getMonth())})))}},[a,o,b,u,O,d,i,n,j,g,s,l,()=>n("incrementMonth",-1),()=>n("incrementMonth",1),(e,t,c)=>g(c,{m:e,i:t})]}class x extends n.b{constructor(e){super(),Object(n.E)(this,e,w,_,n.O,{month:0,year:1,start:10,end:11,canIncrementMonth:2,canDecrementMonth:3,monthsOfYear:4})}}var S=x;c(298);const{window:M}=n.A,R=e=>({}),C=e=>({});function F(e){let t,c,i,a,o,s,l,r,b;Object(n.d)(e[14]);const u=e[13].trigger,O=Object(n.q)(u,e,e[12],C),d=e[13].default,j=Object(n.q)(d,e,e[12],null);return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),O&&O.c(),i=Object(n.U)(),a=Object(n.u)("div"),o=Object(n.u)("div"),s=Object(n.u)("div"),j&&j.c(),Object(n.g)(c,"class","trigger"),Object(n.g)(s,"class","contents-inner svelte-wplbjj"),Object(n.g)(o,"class","contents svelte-wplbjj"),Object(n.g)(a,"class","contents-wrapper svelte-wplbjj"),Object(n.T)(a,"transform","translate(-50%,-50%) translate("+e[8]+"px, "+e[7]+"px)"),Object(n.ab)(a,"visible",e[0]),Object(n.ab)(a,"shrink",e[1]),Object(n.g)(t,"class","sc-popover svelte-wplbjj")},m(u,d){Object(n.F)(u,t,d),Object(n.e)(t,c),O&&O.m(c,null),e[15](c),Object(n.e)(t,i),Object(n.e)(t,a),Object(n.e)(a,o),Object(n.e)(o,s),j&&j.m(s,null),e[16](o),e[17](a),e[18](t),l=!0,r||(b=[Object(n.H)(M,"resize",e[14]),Object(n.H)(c,"click",e[9])],r=!0)},p(e,[t]){O&&O.p&&4096&t&&Object(n.eb)(O,u,e,e[12],t,R,C),j&&j.p&&4096&t&&Object(n.eb)(j,d,e,e[12],t,null,null),(!l||384&t)&&Object(n.T)(a,"transform","translate(-50%,-50%) translate("+e[8]+"px, "+e[7]+"px)"),1&t&&Object(n.ab)(a,"visible",e[0]),2&t&&Object(n.ab)(a,"shrink",e[1])},i(e){l||(Object(n.bb)(O,e),Object(n.bb)(j,e),l=!0)},o(e){Object(n.cb)(O,e),Object(n.cb)(j,e),l=!1},d(c){c&&Object(n.t)(t),O&&O.d(c),e[15](null),j&&j.d(c),e[16](null),e[17](null),e[18](null),r=!1,Object(n.N)(b)}}}function D(e,t,c){const i=Object(r.a)();let a,o,s,l,b,u=(e,t,c)=>{e.addEventListener(t,(function n(){c.apply(this,arguments),e.removeEventListener(t,n)}))},O=0,d=0,{open:j=!1}=t,{shrink:g}=t,{trigger:h}=t;const p=()=>{c(1,g=!0),u(l,"animationend",()=>{c(1,g=!1),c(0,j=!1),i("closed")})};function m(e){if(!j)return;let t=e.target;do{if(t===a)return}while(t=t.parentNode);p()}Object(r.c)(()=>{if(document.addEventListener("click",m),h)return s.appendChild(h.parentNode.removeChild(h)),()=>{document.removeEventListener("click",m)}});const f=async()=>{let e,t,n=await(async()=>{j||c(0,j=!0),await Object(r.d)();let e=b.getBoundingClientRect();return{top:e.top+-1*O,bottom:window.innerHeight-e.bottom+O,left:e.left+-1*d,right:document.body.clientWidth-e.right+d}})();return t=o<480?n.bottom:n.top<0?Math.abs(n.top):n.bottom<0?n.bottom:0,e=n.left<0?Math.abs(n.left):n.right<0?n.right:0,{x:e,y:t}};let{$$slots:v={},$$scope:y}=t;return e.$$set=e=>{"open"in e&&c(0,j=e.open),"shrink"in e&&c(1,g=e.shrink),"trigger"in e&&c(10,h=e.trigger),"$$scope"in e&&c(12,y=e.$$scope)},[j,g,a,o,s,l,b,O,d,async()=>{const{x:e,y:t}=await f();c(8,d=e),c(7,O=t),c(0,j=!0),i("opened")},h,p,y,v,function(){c(3,o=M.innerWidth)},function(e){n.i[e?"unshift":"push"](()=>{s=e,c(4,s)})},function(e){n.i[e?"unshift":"push"](()=>{l=e,c(5,l)})},function(e){n.i[e?"unshift":"push"](()=>{b=e,c(6,b)})},function(e){n.i[e?"unshift":"push"](()=>{a=e,c(2,a)})}]}class L extends n.b{constructor(e){super(),Object(n.E)(this,e,D,F,n.O,{open:0,shrink:1,trigger:10,close:11})}get close(){return this.$$.ctx[11]}}var A=L;const T={left:37,up:38,right:39,down:40,pgup:33,pgdown:34,enter:13,escape:27,tab:9},E=Object.keys(T).map(e=>T[e]);c(299);function U(e,t,c){const n=e.slice();return n[61]=t[c],n}const P=e=>({selected:1&e[0],formattedSelected:32&e[0]}),H=e=>({selected:e[0],formattedSelected:e[5]});function B(e){let t,c;return{c(){t=Object(n.u)("button"),c=Object(n.Y)(e[5]),Object(n.g)(t,"class","calendar-button svelte-93hr8g"),Object(n.g)(t,"type","button")},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,t){32&t[0]&&Object(n.R)(c,e[5])},d(e){e&&Object(n.t)(t)}}}function z(e){let t,c;const i=e[37].default,a=Object(n.q)(i,e,e[44],H),o=a||function(e){let t,c=!e[1]&&B(e);return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,n){e[1]?c&&(c.d(1),c=null):c?c.p(e,n):(c=B(e),c.c(),c.m(t.parentNode,t))},d(e){c&&c.d(e),e&&Object(n.t)(t)}}}(e);return{c(){t=Object(n.u)("div"),o&&o.c(),Object(n.g)(t,"slot","trigger"),Object(n.g)(t,"class","svelte-93hr8g")},m(e,i){Object(n.F)(e,t,i),o&&o.m(t,null),c=!0},p(e,t){a?a.p&&33&t[0]|8192&t[1]&&Object(n.eb)(a,i,e,e[44],t,P,H):o&&o.p&&34&t[0]&&o.p(e,t)},i(e){c||(Object(n.bb)(o,e),c=!0)},o(e){Object(n.cb)(o,e),c=!1},d(e){e&&Object(n.t)(t),o&&o.d(e)}}}function Y(e){let t,c,i=e[61][1]+"";return{c(){t=Object(n.u)("span"),c=Object(n.Y)(i),Object(n.g)(t,"class","svelte-93hr8g")},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p:n.J,d(e){e&&Object(n.t)(t)}}}function I(e){let t,c,i,a,o,s,l,r;i=new S({props:{month:e[9],year:e[10],canIncrementMonth:e[15],canDecrementMonth:e[16],start:e[2],end:e[3],monthsOfYear:e[4]}}),i.$on("monthSelected",e[38]),i.$on("incrementMonth",e[39]);let b=e[18],u=[];for(let t=0;t<b.length;t+=1)u[t]=Y(U(e,b,t));return l=new y({props:{visibleMonth:e[13],selected:e[0],highlighted:e[7],shouldShakeDate:e[8],id:e[14]}}),l.$on("dateSelected",e[40]),{c(){t=Object(n.U)(),c=Object(n.u)("div"),Object(n.n)(i.$$.fragment),a=Object(n.U)(),o=Object(n.u)("div");for(let e=0;e<u.length;e+=1)u[e].c();s=Object(n.U)(),Object(n.n)(l.$$.fragment),Object(n.g)(o,"class","legend svelte-93hr8g"),Object(n.g)(c,"class","calendar svelte-93hr8g")},m(e,b){Object(n.F)(e,t,b),Object(n.F)(e,c,b),Object(n.I)(i,c,null),Object(n.e)(c,a),Object(n.e)(c,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);Object(n.e)(c,s),Object(n.I)(l,c,null),r=!0},p(e,t){const c={};if(512&t[0]&&(c.month=e[9]),1024&t[0]&&(c.year=e[10]),32768&t[0]&&(c.canIncrementMonth=e[15]),65536&t[0]&&(c.canDecrementMonth=e[16]),4&t[0]&&(c.start=e[2]),8&t[0]&&(c.end=e[3]),16&t[0]&&(c.monthsOfYear=e[4]),i.$set(c),262144&t[0]){let c;for(b=e[18],c=0;c<b.length;c+=1){const n=U(e,b,c);u[c]?u[c].p(n,t):(u[c]=Y(n),u[c].c(),u[c].m(o,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=b.length}const n={};8192&t[0]&&(n.visibleMonth=e[13]),1&t[0]&&(n.selected=e[0]),128&t[0]&&(n.highlighted=e[7]),256&t[0]&&(n.shouldShakeDate=e[8]),16384&t[0]&&(n.id=e[14]),l.$set(n)},i(e){r||(Object(n.bb)(i.$$.fragment,e),Object(n.bb)(l.$$.fragment,e),r=!0)},o(e){Object(n.cb)(i.$$.fragment,e),Object(n.cb)(l.$$.fragment,e),r=!1},d(e){e&&Object(n.t)(t),e&&Object(n.t)(c),Object(n.r)(i),Object(n.s)(u,e),Object(n.r)(l)}}}function N(e){let t,c,i,a,o;function s(t){e[42].call(null,t)}function l(t){e[43].call(null,t)}let r={trigger:e[1],$$slots:{default:[I],trigger:[z]},$$scope:{ctx:e}};return void 0!==e[11]&&(r.open=e[11]),void 0!==e[12]&&(r.shrink=e[12]),c=new A({props:r}),e[41](c),n.i.push(()=>Object(n.h)(c,"open",s)),n.i.push(()=>Object(n.h)(c,"shrink",l)),c.$on("opened",e[23]),c.$on("closed",e[22]),{c(){t=Object(n.u)("div"),Object(n.n)(c.$$.fragment),Object(n.g)(t,"class","datepicker svelte-93hr8g"),Object(n.g)(t,"style",e[17]),Object(n.ab)(t,"open",e[11]),Object(n.ab)(t,"closing",e[12])},m(e,i){Object(n.F)(e,t,i),Object(n.I)(c,t,null),o=!0},p(e,s){const l={};2&s[0]&&(l.trigger=e[1]),124863&s[0]|8192&s[1]&&(l.$$scope={dirty:s,ctx:e}),!i&&2048&s[0]&&(i=!0,l.open=e[11],Object(n.c)(()=>i=!1)),!a&&4096&s[0]&&(a=!0,l.shrink=e[12],Object(n.c)(()=>a=!1)),c.$set(l),(!o||131072&s[0])&&Object(n.g)(t,"style",e[17]),2048&s[0]&&Object(n.ab)(t,"open",e[11]),4096&s[0]&&Object(n.ab)(t,"closing",e[12])},i(e){o||(Object(n.bb)(c.$$.fragment,e),o=!0)},o(e){Object(n.cb)(c.$$.fragment,e),o=!1},d(i){i&&Object(n.t)(t),e[41](null),Object(n.r)(c)}}}function V(e,t,c){const i=Object(r.a)(),a=new Date;let s,l,{start:b=new Date(1987,9,29)}=t,{end:u=new Date(2020,9,29)}=t,{selected:O=a}=t,{dateChosen:d=!1}=t,{trigger:j=null}=t,{selectableCallback:g=null}=t,{weekStart:h=0}=t,{daysOfWeek:p=[["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"],["Saturday","Sat"]]}=t,{monthsOfYear:m=[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]]}=t,{style:f=""}=t,{buttonBackgroundColor:v="#fff"}=t,{buttonBorderColor:y="#eee"}=t,{buttonTextColor:$="#333"}=t,{highlightColor:k="#d32d1f"}=t,{dayBackgroundColor:_="none"}=t,{dayTextColor:w="#4a4a4a"}=t,{dayHighlightedBackgroundColor:x="#efefef"}=t,{dayHighlightedTextColor:S="#4a4a4a"}=t,M=0===h?p:(()=>{let e=p.slice();return e.push(e.shift()),e})(),R=a,C=!1,F=a.getMonth(),D=a.getFullYear(),L=!1,A=!1;a.setHours(0,0,0,0);let U=0,{formattedSelected:P}=t;function H(e){c(9,F=e),c(7,R=new Date(D,F,1))}function B(e,t=1){if(1===e&&!te)return;if(-1===e&&!ce)return;let n=new Date(D,F,1);n.setMonth(n.getMonth()+e),c(9,F=n.getMonth()),c(10,D=n.getFullYear()),c(7,R=new Date(D,F,t))}Object(r.c)(()=>{c(9,F=O.getMonth()),c(10,D=O.getFullYear())});const z=(e,t,c)=>{let n=X.find(t=>t.month===e&&t.year===c);if(!n)return null;for(let i=0;i<n.weeks.length;++i)for(let a=0;a<n.weeks[i].days.length;++a){let o=n.weeks[i].days[a];if(o.month===e&&o.day===t&&o.year===c)return o}return null};function Y(e){let t=new Date(R);t.setDate(R.getDate()+e);let n=z(t.getMonth(),t.getDate(),t.getFullYear());n&&n.isInRange&&(c(7,R=t),e>0&&R>K&&B(1,R.getDate()),e<0&&R<ee&&B(-1,R.getDate()))}function I(e){!function(e){j&&c(1,j.innerHTML=e,j)}(e)}function N(e){return function(e){const t=z(e.getMonth(),e.getDate(),e.getFullYear());return t&&t.selectable}(e)?(Z(),c(0,O=e),c(24,d=!0),I(P),i("dateSelected",{date:e})):(t=e,clearTimeout(l),c(8,C=t),void(l=setTimeout(()=>{c(8,C=!1)},700)));var t}function V(e){if(-1!==E.indexOf(e.keyCode))switch(e.preventDefault(),e.keyCode){case T.left:Y(-1);break;case T.up:Y(-7);break;case T.right:Y(1);break;case T.down:Y(7);break;case T.pgup:B(-1);break;case T.pgdown:B(1);break;case T.escape:Z();break;case T.enter:N(R)}}function J(){document.removeEventListener("keydown",V),i("close")}function Z(){s.close(),J()}let{$$slots:W={},$$scope:q}=t;let X,G,Q,K,ee,te,ce,ne;return e.$$set=e=>{"start"in e&&c(2,b=e.start),"end"in e&&c(3,u=e.end),"selected"in e&&c(0,O=e.selected),"dateChosen"in e&&c(24,d=e.dateChosen),"trigger"in e&&c(1,j=e.trigger),"selectableCallback"in e&&c(25,g=e.selectableCallback),"weekStart"in e&&c(26,h=e.weekStart),"daysOfWeek"in e&&c(27,p=e.daysOfWeek),"monthsOfYear"in e&&c(4,m=e.monthsOfYear),"style"in e&&c(28,f=e.style),"buttonBackgroundColor"in e&&c(29,v=e.buttonBackgroundColor),"buttonBorderColor"in e&&c(30,y=e.buttonBorderColor),"buttonTextColor"in e&&c(31,$=e.buttonTextColor),"highlightColor"in e&&c(32,k=e.highlightColor),"dayBackgroundColor"in e&&c(33,_=e.dayBackgroundColor),"dayTextColor"in e&&c(34,w=e.dayTextColor),"dayHighlightedBackgroundColor"in e&&c(35,x=e.dayHighlightedBackgroundColor),"dayHighlightedTextColor"in e&&c(36,S=e.dayHighlightedTextColor),"formattedSelected"in e&&c(5,P=e.formattedSelected),"$$scope"in e&&c(44,q=e.$$scope)},e.$$.update=()=>{if(100663308&e.$$.dirty[0]&&c(47,X=o(b,u,g,h)),1536&e.$$.dirty[0]|65536&e.$$.dirty[1]){c(46,U=0);for(let e=0;e<X.length;e+=1)X[e].month===F&&X[e].year===D&&c(46,U=e)}98304&e.$$.dirty[1]&&c(13,G=X[U]),1536&e.$$.dirty[0]&&c(14,Q=D+F/100),8192&e.$$.dirty[0]&&(K=G.weeks[G.weeks.length-1].days[6].date),8192&e.$$.dirty[0]&&(ee=G.weeks[0].days[0].date),98304&e.$$.dirty[1]&&c(15,te=U<X.length-1),32768&e.$$.dirty[1]&&c(16,ce=U>0),1879048192&e.$$.dirty[0]|63&e.$$.dirty[1]&&c(17,ne=`\n    --button-background-color: ${v};\n    --button-border-color: ${y};\n    --button-text-color: ${$};\n    --highlight-color: ${k};\n    --day-background-color: ${_};\n    --day-text-color: ${w};\n    --day-highlighted-background-color: ${x};\n    --day-highlighted-text-color: ${S};\n    ${f}\n  `)},[O,j,b,u,m,P,s,R,C,F,D,L,A,G,Q,te,ce,ne,M,H,B,N,J,function(){c(7,R=new Date(O)),c(9,F=O.getMonth()),c(10,D=O.getFullYear()),document.addEventListener("keydown",V),i("open")},d,g,h,p,f,v,y,$,k,_,w,x,S,W,e=>H(e.detail),e=>B(e.detail),e=>N(e.detail),function(e){n.i[e?"unshift":"push"](()=>{s=e,c(6,s)})},function(e){L=e,c(11,L)},function(e){A=e,c(12,A)},q]}class J extends n.b{constructor(e){super(),Object(n.E)(this,e,V,N,n.O,{start:2,end:3,selected:0,dateChosen:24,trigger:1,selectableCallback:25,weekStart:26,daysOfWeek:27,monthsOfYear:4,style:28,buttonBackgroundColor:29,buttonBorderColor:30,buttonTextColor:31,highlightColor:32,dayBackgroundColor:33,dayTextColor:34,dayHighlightedBackgroundColor:35,dayHighlightedTextColor:36,formattedSelected:5},[-1,-1,-1])}}var Z=J,W=c(178),q=c(32);c(300);function X(e,t,c){const n=e.slice();return n[16]=t[c],n}function G(e,t,c){const n=e.slice();return n[22]=t[c],n}function Q(e,t,c){const n=e.slice();return n[19]=t[c],n}function K(e){let t,c,i,a,o,s=e[22].name+"";return{c(){t=Object(n.u)("option"),c=Object(n.Y)(s),i=Object(n.U)(),Object(n.g)(t,"title",a="function"==typeof e[22].tooltipText?e[22].tooltipText():e[22].tooltipText),t.__value=o=e[22].key,t.value=t.__value},m(e,a){Object(n.F)(e,t,a),Object(n.e)(t,c),Object(n.e)(t,i)},p:n.J,d(e){e&&Object(n.t)(t)}}}function ee(e){let t,c,i=e[19].sensors,a=[];for(let t=0;t<i.length;t+=1)a[t]=K(G(e,i,t));return{c(){t=Object(n.u)("optgroup");for(let e=0;e<a.length;e+=1)a[e].c();Object(n.g)(t,"label",c=e[19].label)},m(e,c){Object(n.F)(e,t,c);for(let e=0;e<a.length;e+=1)a[e].m(t,null)},p(e,c){if(0&c){let n;for(i=e[19].sensors,n=0;n<i.length;n+=1){const o=G(e,i,n);a[n]?a[n].p(o,c):(a[n]=K(o),a[n].c(),a[n].m(t,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}},d(e){e&&Object(n.t)(t),Object(n.s)(a,e)}}}function te(e){let t,c,i,a,o=e[16].labelPlural+"";return{c(){t=Object(n.u)("option"),c=Object(n.Y)(o),t.__value=i=e[16].id,t.value=t.__value,t.disabled=a=!e[7].levels.includes(e[16].id)},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,c){128&c&&a!==(a=!e[7].levels.includes(e[16].id))&&(t.disabled=a)},d(e){e&&Object(n.t)(t)}}}function ce(e){let t,c,i,a,o,s;const l=[ie,ne],r=[];function b(e,t){return null!=e[2]&&0!==e[3].length?0:1}return a=b(e),o=r[a]=l[a](e),{c(){t=Object(n.u)("div"),c=Object(n.u)("span"),c.textContent="on",i=Object(n.U)(),o.c(),Object(n.g)(c,"class","option-title svelte-1sd2a60"),Object(n.g)(t,"class","option-wrapper svelte-1sd2a60")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(t,i),r[a].m(t,null),s=!0},p(e,c){let i=a;a=b(e),a===i?r[a].p(e,c):(Object(n.B)(),Object(n.cb)(r[i],1,1,()=>{r[i]=null}),Object(n.k)(),o=r[a],o||(o=r[a]=l[a](e),o.c()),Object(n.bb)(o,1),o.m(t,null))},i(e){s||(Object(n.bb)(o),s=!0)},o(e){Object(n.cb)(o),s=!1},d(e){e&&Object(n.t)(t),r[a].d()}}}function ne(e){let t,c,i,a,o=e[5](e[2])+"";return{c(){t=Object(n.u)("button"),c=Object(n.Y)(o),Object(n.g)(t,"aria-label","selected date"),Object(n.g)(t,"class","calendar base-font-size svelte-1sd2a60")},m(o,s){Object(n.F)(o,t,s),Object(n.e)(t,c),i||(a=Object(n.H)(t,"",e[9]),i=!0)},p(e,t){36&t&&o!==(o=e[5](e[2])+"")&&Object(n.R)(c,o)},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),i=!1,a()}}}function ie(e){let t,c,i;function a(t){e[12].call(null,t)}let o={start:Object(q.g)(e[3][0]),end:Object(q.g)(e[3][1]),formattedSelected:e[5](e[2]),$$slots:{default:[ae]},$$scope:{ctx:e}};return void 0!==e[2]&&(o.selected=e[2]),t=new Z({props:o}),n.i.push(()=>Object(n.h)(t,"selected",a)),{c(){Object(n.n)(t.$$.fragment)},m(e,c){Object(n.I)(t,e,c),i=!0},p(e,i){const a={};8&i&&(a.start=Object(q.g)(e[3][0])),8&i&&(a.end=Object(q.g)(e[3][1])),36&i&&(a.formattedSelected=e[5](e[2])),33554468&i&&(a.$$scope={dirty:i,ctx:e}),!c&&4&i&&(c=!0,a.selected=e[2],Object(n.c)(()=>c=!1)),t.$set(a)},i(e){i||(Object(n.bb)(t.$$.fragment,e),i=!0)},o(e){Object(n.cb)(t.$$.fragment,e),i=!1},d(e){Object(n.r)(t,e)}}}function ae(e){let t,c,i,a,o=e[5](e[2])+"";return{c(){t=Object(n.u)("button"),c=Object(n.Y)(o),Object(n.g)(t,"aria-label","selected date"),Object(n.g)(t,"class","calendar base-font-size svelte-1sd2a60")},m(o,s){Object(n.F)(o,t,s),Object(n.e)(t,c),i||(a=Object(n.H)(t,"",e[8]),i=!0)},p(e,t){36&t&&o!==(o=e[5](e[2])+"")&&Object(n.R)(c,o)},d(e){e&&Object(n.t)(t),i=!1,a()}}}function oe(e){let t,c,a,o,s,l,r,b,u,O,d,j,g,h,p,m=i.q,f=[];for(let t=0;t<m.length;t+=1)f[t]=ee(Q(e,m,t));let v=i.u,y=[];for(let t=0;t<v.length;t+=1)y[t]=te(X(e,v,t));let $=e[1]&&ce(e);return{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),a=Object(n.u)("span"),a.textContent="Displaying",o=Object(n.U)(),s=Object(n.u)("select");for(let e=0;e<f.length;e+=1)f[e].c();l=Object(n.U)(),r=Object(n.u)("div"),b=Object(n.u)("span"),b.textContent="for",u=Object(n.U)(),O=Object(n.u)("select");for(let e=0;e<y.length;e+=1)y[e].c();d=Object(n.U)(),$&&$.c(),Object(n.g)(a,"class","option-title svelte-1sd2a60"),Object(n.g)(s,"id","option-indicator"),Object(n.g)(s,"aria-label","indicator options"),Object(n.g)(s,"class","indicators base-font-size svelte-1sd2a60"),void 0===e[4]&&Object(n.d)(()=>e[10].call(s)),Object(n.g)(c,"class","option-wrapper svelte-1sd2a60"),Object(n.g)(b,"class","option-title svelte-1sd2a60"),Object(n.g)(O,"id","option-geo-level"),Object(n.g)(O,"aria-label","geographic level"),Object(n.g)(O,"class","geo-level base-font-size svelte-1sd2a60"),void 0===e[6]&&Object(n.d)(()=>e[11].call(O)),Object(n.g)(r,"class","option-wrapper svelte-1sd2a60"),Object(n.g)(t,"class",j="options base-font-size container-bg container-style "+e[0]+" svelte-1sd2a60")},m(i,j){Object(n.F)(i,t,j),Object(n.e)(t,c),Object(n.e)(c,a),Object(n.e)(c,o),Object(n.e)(c,s);for(let e=0;e<f.length;e+=1)f[e].m(s,null);Object(n.P)(s,e[4]),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(r,u),Object(n.e)(r,O);for(let e=0;e<y.length;e+=1)y[e].m(O,null);Object(n.P)(O,e[6]),Object(n.e)(t,d),$&&$.m(t,null),g=!0,h||(p=[Object(n.H)(s,"change",e[10]),Object(n.H)(O,"change",e[11])],h=!0)},p(e,[c]){if(0&c){let t;for(m=i.q,t=0;t<m.length;t+=1){const n=Q(e,m,t);f[t]?f[t].p(n,c):(f[t]=ee(n),f[t].c(),f[t].m(s,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=m.length}if(16&c&&Object(n.P)(s,e[4]),128&c){let t;for(v=i.u,t=0;t<v.length;t+=1){const n=X(e,v,t);y[t]?y[t].p(n,c):(y[t]=te(n),y[t].c(),y[t].m(O,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=v.length}64&c&&Object(n.P)(O,e[6]),e[1]?$?($.p(e,c),2&c&&Object(n.bb)($,1)):($=ce(e),$.c(),Object(n.bb)($,1),$.m(t,null)):$&&(Object(n.B)(),Object(n.cb)($,1,1,()=>{$=null}),Object(n.k)()),(!g||1&c&&j!==(j="options base-font-size container-bg container-style "+e[0]+" svelte-1sd2a60"))&&Object(n.g)(t,"class",j)},i(e){g||(Object(n.bb)($),g=!0)},o(e){Object(n.cb)($),g=!1},d(e){e&&Object(n.t)(t),Object(n.s)(f,e),Object(n.s)(y,e),$&&$.d(),h=!1,Object(n.N)(p)}}}function se(e,t,c){let a,o,s,l,r,b;Object(n.l)(e,i.f,e=>c(13,a=e)),Object(n.l)(e,i.F,e=>c(14,o=e)),Object(n.l)(e,i.l,e=>c(4,s=e)),Object(n.l)(e,i.s,e=>c(15,l=e)),Object(n.l)(e,i.h,e=>c(6,r=e)),Object(n.l)(e,i.m,e=>c(7,b=e));let u,O,d,{className:j=""}=t,{showDate:g=!0}=t;return e.$$set=e=>{"className"in e&&c(0,j=e.className),"showDate"in e&&c(1,g=e.showDate)},e.$$.update=()=>{8192&e.$$.dirty&&c(2,u=Object(q.g)(a)),4&e.$$.dirty&&void 0!==u&&i.f.set(Object(q.a)(u)),16400&e.$$.dirty&&null!==o&&c(3,O=o.get(s)),32768&e.$$.dirty&&c(5,d=l?Object(W.a)("%x"):Object(W.a)("%B %-d, %Y"))},c(3,O=[]),[j,g,u,O,s,d,r,b,function(t){Object(n.j)(e,t)},function(t){Object(n.j)(e,t)},function(){s=Object(n.Q)(this),i.l.set(s)},function(){r=Object(n.Q)(this),i.h.set(r)},function(e){u=e,c(2,u),c(13,a)}]}class le extends n.b{constructor(e){super(),Object(n.E)(this,e,se,oe,n.O,{className:0,showDate:1})}}t.a=le},362:function(e,t,c){"use strict";var n=c(1),i=c(2);c(309);function a(e){let t,c,i,a;const o=e[2].default,s=Object(n.q)(o,e,e[1],null);return{c(){t=Object(n.u)("h2"),c=Object(n.Y)(e[0]),i=Object(n.U)(),s&&s.c(),Object(n.g)(t,"class","banner svelte-13ljws3")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(t,i),s&&s.m(t,null),a=!0},p(e,[t]){(!a||1&t)&&Object(n.R)(c,e[0]),s&&s.p&&2&t&&Object(n.eb)(s,o,e,e[1],t,null,null)},i(e){a||(Object(n.bb)(s,e),a=!0)},o(e){Object(n.cb)(s,e),a=!1},d(e){e&&Object(n.t)(t),s&&s.d(e)}}}function o(e,t,c){let a;Object(n.l)(e,i.n,e=>c(0,a=e));let{$$slots:o={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&c(1,s=e.$$scope)},[a,s,o]}class s extends n.b{constructor(e){super(),Object(n.E)(this,e,o,a,n.O,{})}}var l=s,r=c(310),b=c(311),u=c(312),O=c(313);c(314);function d(e){let t;return{c(){t=Object(n.u)("div"),Object(n.g)(t,"class","loader loading svelte-ri1hda")},m(e,c){Object(n.F)(e,t,c)},d(e){e&&Object(n.t)(t)}}}function j(e){let t,c=e[0]&&d();return{c(){c&&c.c(),t=Object(n.v)()},m(e,i){c&&c.m(e,i),Object(n.F)(e,t,i)},p(e,[n]){e[0]?c||(c=d(),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:n.J,o:n.J,d(e){c&&c.d(e),e&&Object(n.t)(t)}}}function g(e,t,c){let{loading:n=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,n=e.loading)},[n]}class h extends n.b{constructor(e){super(),Object(n.E)(this,e,g,j,n.O,{loading:0})}}var p=h,m=c(98);c(315);function f(e){let t,c,i,a,o,s,l;return i=new O.a({}),{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),Object(n.n)(i.$$.fragment),Object(n.g)(c,"class","pg-button"),Object(n.g)(c,"type","button"),Object(n.g)(c,"title","Hide state labels"),Object(n.g)(c,"aria-label","Hide state labels"),c.disabled=a=!e[1],Object(n.g)(t,"class","svelte-1nurw9f")},m(a,r){Object(n.F)(a,t,r),Object(n.e)(t,c),Object(n.I)(i,c,null),o=!0,s||(l=Object(n.H)(c,"click",e[12]),s=!0)},p(e,t){(!o||2&t&&a!==(a=!e[1]))&&(c.disabled=a)},i(e){o||(Object(n.bb)(i.$$.fragment,e),o=!0)},o(e){Object(n.cb)(i.$$.fragment,e),o=!1},d(e){e&&Object(n.t)(t),Object(n.r)(i),s=!1,l()}}}function v(e){let t,c,i,a,o,s;return{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),i=Object(n.Y)("SWPA"),Object(n.g)(c,"class","pg-button"),Object(n.g)(c,"type","button"),Object(n.g)(c,"title","show swpa boundary"),Object(n.g)(c,"aria-label","show swpa boundary"),c.disabled=a=!e[1],Object(n.g)(t,"class","svelte-1nurw9f")},m(a,l){Object(n.F)(a,t,l),Object(n.e)(t,c),Object(n.e)(c,i),o||(s=Object(n.H)(c,"click",e[13]),o=!0)},p(e,t){2&t&&a!==(a=!e[1])&&(c.disabled=a)},d(e){e&&Object(n.t)(t),o=!1,s()}}}function y(e){let t,c,i,a,o,s,l,r,b,O,d,j,g,h,p,m,f,v,y,$,k;return o=new u.a({}),d=new u.a({}),f=new u.a({}),{c(){t=Object(n.u)("div"),c=Object(n.u)("button"),i=Object(n.u)("span"),i.textContent="Switch to Choropleth",a=Object(n.U)(),Object(n.n)(o.$$.fragment),l=Object(n.U)(),r=Object(n.u)("button"),b=Object(n.u)("span"),b.textContent="Switch to Bubble Map",O=Object(n.U)(),Object(n.n)(d.$$.fragment),g=Object(n.U)(),h=Object(n.u)("button"),p=Object(n.u)("span"),p.textContent="Switch to Spike Map",m=Object(n.U)(),Object(n.n)(f.$$.fragment),Object(n.g)(i,"aria-hidden",""),Object(n.g)(c,"aria-pressed",s="color"===e[8]?"true":"false"),Object(n.g)(c,"class","pg-button encoding-button choropleth svelte-1nurw9f"),Object(n.g)(c,"title","Switch to Choropleth"),Object(n.ab)(c,"selected","color"===e[8]),Object(n.g)(b,"aria-hidden",""),Object(n.g)(r,"aria-pressed",j="bubble"===e[8]?"true":"false"),Object(n.g)(r,"class","pg-button encoding-button bubble svelte-1nurw9f"),Object(n.g)(r,"title","Switch to Bubble Map"),Object(n.ab)(r,"selected","bubble"===e[8]),Object(n.g)(p,"aria-hidden",""),Object(n.g)(h,"aria-pressed",v="spike"===e[8]?"true":"false"),Object(n.g)(h,"class","pg-button encoding-button spike svelte-1nurw9f"),Object(n.g)(h,"title","Switch to Spike Map"),Object(n.ab)(h,"selected","spike"===e[8]),Object(n.g)(t,"class","pg-button-vertical-group svelte-1nurw9f")},m(s,u){Object(n.F)(s,t,u),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,a),Object(n.I)(o,c,null),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(r,O),Object(n.I)(d,r,null),Object(n.e)(t,g),Object(n.e)(t,h),Object(n.e)(h,p),Object(n.e)(h,m),Object(n.I)(f,h,null),y=!0,$||(k=[Object(n.H)(c,"click",e[14]),Object(n.H)(r,"click",e[15]),Object(n.H)(h,"click",e[16])],$=!0)},p(e,t){(!y||256&t&&s!==(s="color"===e[8]?"true":"false"))&&Object(n.g)(c,"aria-pressed",s),256&t&&Object(n.ab)(c,"selected","color"===e[8]),(!y||256&t&&j!==(j="bubble"===e[8]?"true":"false"))&&Object(n.g)(r,"aria-pressed",j),256&t&&Object(n.ab)(r,"selected","bubble"===e[8]),(!y||256&t&&v!==(v="spike"===e[8]?"true":"false"))&&Object(n.g)(h,"aria-pressed",v),256&t&&Object(n.ab)(h,"selected","spike"===e[8])},i(e){y||(Object(n.bb)(o.$$.fragment,e),Object(n.bb)(d.$$.fragment,e),Object(n.bb)(f.$$.fragment,e),y=!0)},o(e){Object(n.cb)(o.$$.fragment,e),Object(n.cb)(d.$$.fragment,e),Object(n.cb)(f.$$.fragment,e),y=!1},d(e){e&&Object(n.t)(t),Object(n.r)(o),Object(n.r)(d),Object(n.r)(f),$=!1,Object(n.N)(k)}}}function $(e){let t,c,i,a,o,s,l,O,d,j,g,h,m,$,k,_,w,x,S,M,R,C,F;a=new r.a({}),O=new b.a({}),m=new u.a({});let D="state"==e[4]&&f(e),L=e[5].length>0&&v(e),A=e[2]&&e[6]&&e[7].isCasesOrDeath&&y(e);return S=new p({props:{loading:e[3]}}),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),i=Object(n.u)("button"),Object(n.n)(a.$$.fragment),s=Object(n.U)(),l=Object(n.u)("button"),Object(n.n)(O.$$.fragment),j=Object(n.U)(),g=Object(n.u)("div"),h=Object(n.u)("button"),Object(n.n)(m.$$.fragment),k=Object(n.U)(),D&&D.c(),_=Object(n.U)(),L&&L.c(),w=Object(n.U)(),A&&A.c(),x=Object(n.U)(),Object(n.n)(S.$$.fragment),Object(n.g)(i,"class","pg-button"),Object(n.g)(i,"type","button"),Object(n.g)(i,"title","Zoom in"),Object(n.g)(i,"aria-label","Zoom in"),i.disabled=o=!e[1]||e[1].getZoom()<=e[1].getMinZoom(),Object(n.g)(l,"class","pg-button"),Object(n.g)(l,"type","button"),Object(n.g)(l,"title","Zoom out"),Object(n.g)(l,"aria-label","Zoom out"),l.disabled=d=!e[1]||e[1].getZoom()>=e[1].getMaxZoom(),Object(n.g)(c,"class","pg-button-vertical-group svelte-1nurw9f"),Object(n.g)(h,"class","pg-button"),Object(n.g)(h,"type","button"),Object(n.g)(h,"title","Show entire map"),Object(n.g)(h,"aria-label","Show entire map"),h.disabled=$=!e[1],Object(n.g)(g,"class","svelte-1nurw9f"),Object(n.g)(t,"class",M="root base-font-size "+e[0]+" svelte-1nurw9f")},m(o,r){Object(n.F)(o,t,r),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.I)(a,i,null),Object(n.e)(c,s),Object(n.e)(c,l),Object(n.I)(O,l,null),Object(n.e)(t,j),Object(n.e)(t,g),Object(n.e)(g,h),Object(n.I)(m,h,null),Object(n.e)(t,k),D&&D.m(t,null),Object(n.e)(t,_),L&&L.m(t,null),Object(n.e)(t,w),A&&A.m(t,null),Object(n.e)(t,x),Object(n.I)(S,t,null),R=!0,C||(F=[Object(n.H)(i,"click",e[9]),Object(n.H)(l,"click",e[10]),Object(n.H)(h,"click",e[11])],C=!0)},p(e,[c]){(!R||2&c&&o!==(o=!e[1]||e[1].getZoom()<=e[1].getMinZoom()))&&(i.disabled=o),(!R||2&c&&d!==(d=!e[1]||e[1].getZoom()>=e[1].getMaxZoom()))&&(l.disabled=d),(!R||2&c&&$!==($=!e[1]))&&(h.disabled=$),"state"==e[4]?D?(D.p(e,c),16&c&&Object(n.bb)(D,1)):(D=f(e),D.c(),Object(n.bb)(D,1),D.m(t,_)):D&&(Object(n.B)(),Object(n.cb)(D,1,1,()=>{D=null}),Object(n.k)()),e[5].length>0?L?L.p(e,c):(L=v(e),L.c(),L.m(t,w)):L&&(L.d(1),L=null),e[2]&&e[6]&&e[7].isCasesOrDeath?A?(A.p(e,c),196&c&&Object(n.bb)(A,1)):(A=y(e),A.c(),Object(n.bb)(A,1),A.m(t,x)):A&&(Object(n.B)(),Object(n.cb)(A,1,1,()=>{A=null}),Object(n.k)());const a={};8&c&&(a.loading=e[3]),S.$set(a),(!R||1&c&&M!==(M="root base-font-size "+e[0]+" svelte-1nurw9f"))&&Object(n.g)(t,"class",M)},i(e){R||(Object(n.bb)(a.$$.fragment,e),Object(n.bb)(O.$$.fragment,e),Object(n.bb)(m.$$.fragment,e),Object(n.bb)(D),Object(n.bb)(A),Object(n.bb)(S.$$.fragment,e),R=!0)},o(e){Object(n.cb)(a.$$.fragment,e),Object(n.cb)(O.$$.fragment,e),Object(n.cb)(m.$$.fragment,e),Object(n.cb)(D),Object(n.cb)(A),Object(n.cb)(S.$$.fragment,e),R=!1},d(e){e&&Object(n.t)(t),Object(n.r)(a),Object(n.r)(O),Object(n.r)(m),D&&D.d(),L&&L.d(),A&&A.d(),Object(n.r)(S),C=!1,Object(n.N)(F)}}}function k(e,t,c){let a,o,s,l,r;Object(n.l)(e,i.h,e=>c(4,a=e)),Object(n.l)(e,i.o,e=>c(5,o=e)),Object(n.l)(e,i.t,e=>c(6,s=e)),Object(n.l)(e,i.m,e=>c(7,l=e)),Object(n.l)(e,i.p,e=>c(8,r=e));let{className:b=""}=t,{zoom:u}=t,{showEncodings:O=!1}=t,{loading:d=!1}=t;return e.$$set=e=>{"className"in e&&c(0,b=e.className),"zoom"in e&&c(1,u=e.zoom),"showEncodings"in e&&c(2,O=e.showEncodings),"loading"in e&&c(3,d=e.loading)},[b,u,O,d,a,o,s,l,r,()=>{Object(m.a)("map","zoomIn"),u.zoomIn()},()=>{Object(m.a)("map","zoomOut"),u.zoomOut()},()=>{Object(m.a)("map","fitUS"),u.resetZoom()},()=>{Object(m.a)("map","toggleStateLabel"),u.toggleStateLabels()},()=>{Object(m.a)("map","fitSWPA"),u.showSWPA()},()=>{i.p.set("color")},()=>{i.p.set("bubble")},()=>{i.p.set("spike")}]}class _ extends n.b{constructor(e){super(),Object(n.E)(this,e,k,$,n.O,{className:0,zoom:1,showEncodings:2,loading:3})}}var w=_,x=(c(316),c(358)),S=c(353);c(317);function M(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,g,h,p,m,f,v=S.a.increasingIcon+"",y=S.a.steadyIcon+"",$=S.a.decreasingIcon+"";return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.u)("div"),a=Object(n.U)(),s=Object(n.Y)("\n    Increasing"),l=Object(n.U)(),r=Object(n.u)("li"),b=Object(n.u)("div"),u=Object(n.U)(),d=Object(n.Y)("\n    Steady"),j=Object(n.U)(),g=Object(n.u)("li"),h=Object(n.u)("div"),p=Object(n.U)(),f=Object(n.Y)("\n    Decreasing"),Object(n.g)(i,"class","color-block svelte-i5n6tl"),Object(n.T)(i,"background-color",S.a.increasing),o=new n.a(s),Object(n.g)(c,"class","svelte-i5n6tl"),Object(n.g)(b,"class","color-block svelte-i5n6tl"),Object(n.T)(b,"background-color",S.a.steady),O=new n.a(d),Object(n.g)(r,"class","svelte-i5n6tl"),Object(n.g)(h,"class","color-block svelte-i5n6tl"),Object(n.T)(h,"background-color",S.a.decreasing),m=new n.a(f),Object(n.g)(g,"class","svelte-i5n6tl"),Object(n.g)(t,"class","svelte-i5n6tl")},m(e,k){Object(n.F)(e,t,k),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(c,a),o.m(v,c),Object(n.e)(c,s),Object(n.e)(t,l),Object(n.e)(t,r),Object(n.e)(r,b),Object(n.e)(r,u),O.m(y,r),Object(n.e)(r,d),Object(n.e)(t,j),Object(n.e)(t,g),Object(n.e)(g,h),Object(n.e)(g,p),m.m($,g),Object(n.e)(g,f)},p:n.J,i:n.J,o:n.J,d(e){e&&Object(n.t)(t)}}}class R extends n.b{constructor(e){super(),Object(n.E)(this,e,null,M,n.O,{})}}var C=R,F=c(355);c(318);function D(e,t,c){const n=e.slice();return n[8]=t[c],n}function L(e){let t,c,i,a=e[1].high+"";return{c(){t=Object(n.u)("li"),c=Object(n.Y)(a),Object(n.g)(t,"class","tick svelte-1mgfsgh"),Object(n.T)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),Object(n.g)(t,"title",i=e[8].label)},m(e,i){Object(n.F)(e,t,i),Object(n.e)(t,c)},p(e,o){2&o&&a!==(a=e[1].high+"")&&Object(n.R)(c,a),2&o&&Object(n.T)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),2&o&&i!==(i=e[8].label)&&Object(n.g)(t,"title",i)},d(e){e&&Object(n.t)(t)}}}function A(e){let t,c,i,a,o,s,l,r,b,u,O,d=e[1].high+"",j=e[1].high+"",g=e[1].labels,h=[];for(let t=0;t<g.length;t+=1)h[t]=L(D(e,g,t));return{c(){t=Object(n.u)("ul"),c=Object(n.u)("li"),i=Object(n.Y)(d),a=Object(n.U)(),o=Object(n.u)("li"),s=Object(n.Y)(j),r=Object(n.U)();for(let e=0;e<h.length;e+=1)h[e].c();b=Object(n.U)(),u=Object(n.u)("li"),Object(n.g)(c,"class","tick tick-single svelte-1mgfsgh"),Object(n.T)(c,"background","repeating-linear-gradient(-45deg, "+S.e+", white 30%)"),Object(n.g)(c,"title","NA"),Object(n.g)(o,"class","tick tick-single tick-space svelte-1mgfsgh"),Object(n.T)(o,"background-color",S.f),Object(n.g)(o,"title",l=e[1].low),Object(n.g)(u,"class","tick tick-last svelte-1mgfsgh"),Object(n.g)(u,"title",O=e[1].high),Object(n.g)(t,"class","svelte-1mgfsgh"),Object(n.ab)(t,"loading-bg",e[0])},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(o,s),Object(n.e)(t,r);for(let e=0;e<h.length;e+=1)h[e].m(t,null);Object(n.e)(t,b),Object(n.e)(t,u)},p(e,[c]){if(2&c&&d!==(d=e[1].high+"")&&Object(n.R)(i,d),2&c&&j!==(j=e[1].high+"")&&Object(n.R)(s,j),2&c&&l!==(l=e[1].low)&&Object(n.g)(o,"title",l),2&c){let n;for(g=e[1].labels,n=0;n<g.length;n+=1){const i=D(e,g,n);h[n]?h[n].p(i,c):(h[n]=L(i),h[n].c(),h[n].m(t,b))}for(;n<h.length;n+=1)h[n].d(1);h.length=g.length}2&c&&O!==(O=e[1].high)&&Object(n.g)(u,"title",O),1&c&&Object(n.ab)(t,"loading-bg",e[0])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(h,e)}}}function T(e,t,c){let a,o,s,l,r,b;Object(n.l)(e,i.E,e=>c(2,a=e)),Object(n.l)(e,i.m,e=>c(3,o=e)),Object(n.l)(e,i.h,e=>c(4,s=e)),Object(n.l)(e,i.d,e=>c(5,l=e)),Object(n.l)(e,i.A,e=>c(6,r=e)),Object(n.l)(e,i.s,e=>c(7,b=e));let u,{loading:O=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,O=e.loading)},e.$$.update=()=>{252&e.$$.dirty&&c(1,u=Object(F.c)(a,o,s,l,r,b))},[O,u]}class E extends n.b{constructor(e){super(),Object(n.E)(this,e,T,A,n.O,{loading:0})}}var U=E,P=c(354);c(319);function H(e,t,c){const n=e.slice();return n[9]=t[c],n}function B(e){let t,c,i,a,o,s,l=e[9].label+"";return{c(){t=Object(n.u)("li"),c=Object(n.u)("div"),i=Object(n.u)("div"),a=Object(n.U)(),o=Object(n.u)("span"),s=Object(n.Y)(l),Object(n.g)(i,"class","bubble svelte-ulh4py"),Object(n.T)(i,"width",2*e[2](e[9].value)+"px"),Object(n.T)(i,"height",2*e[2](e[9].value)+"px"),Object(n.T)(i,"background",Object(P.c)(e[9].color,S.b.opacity)),Object(n.T)(i,"border-color",e[9].color),Object(n.g)(c,"class","bubble-wrapper svelte-ulh4py"),Object(n.g)(t,"class","svelte-ulh4py")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.e)(o,s)},p(e,t){6&t&&Object(n.T)(i,"width",2*e[2](e[9].value)+"px"),6&t&&Object(n.T)(i,"height",2*e[2](e[9].value)+"px"),2&t&&Object(n.T)(i,"background",Object(P.c)(e[9].color,S.b.opacity)),2&t&&Object(n.T)(i,"border-color",e[9].color),2&t&&l!==(l=e[9].label+"")&&Object(n.R)(s,l)},d(e){e&&Object(n.t)(t)}}}function z(e){let t,c,i,a,o,s,l,r,b=e[1].high+"",u=e[1].labels,O=[];for(let t=0;t<u.length;t+=1)O[t]=B(H(e,u,t));return{c(){t=Object(n.u)("ul");for(let e=0;e<O.length;e+=1)O[e].c();c=Object(n.U)(),i=Object(n.u)("li"),a=Object(n.u)("div"),o=Object(n.u)("div"),s=Object(n.U)(),l=Object(n.u)("span"),r=Object(n.Y)(b),Object(n.T)(o,"width",2*e[2](e[1].highValue)+"px"),Object(n.T)(o,"height",2*e[2](e[1].highValue)+"px"),Object(n.T)(o,"background",Object(P.c)(e[1].highColor,S.b.opacity)),Object(n.T)(o,"border-color",e[1].highColor),Object(n.g)(o,"class","bubble svelte-ulh4py"),Object(n.g)(a,"class","bubble-wrapper svelte-ulh4py"),Object(n.g)(i,"class","svelte-ulh4py"),Object(n.g)(t,"class","svelte-ulh4py"),Object(n.ab)(t,"loading-bg",e[0])},m(e,b){Object(n.F)(e,t,b);for(let e=0;e<O.length;e+=1)O[e].m(t,null);Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(i,a),Object(n.e)(a,o),Object(n.e)(i,s),Object(n.e)(i,l),Object(n.e)(l,r)},p(e,[i]){if(6&i){let n;for(u=e[1].labels,n=0;n<u.length;n+=1){const a=H(e,u,n);O[n]?O[n].p(a,i):(O[n]=B(a),O[n].c(),O[n].m(t,c))}for(;n<O.length;n+=1)O[n].d(1);O.length=u.length}6&i&&Object(n.T)(o,"width",2*e[2](e[1].highValue)+"px"),6&i&&Object(n.T)(o,"height",2*e[2](e[1].highValue)+"px"),2&i&&Object(n.T)(o,"background",Object(P.c)(e[1].highColor,S.b.opacity)),2&i&&Object(n.T)(o,"border-color",e[1].highColor),2&i&&b!==(b=e[1].high+"")&&Object(n.R)(r,b),1&i&&Object(n.ab)(t,"loading-bg",e[0])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(O,e)}}}function Y(e,t,c){let a,o,s,l,r,b,u;Object(n.l)(e,i.E,e=>c(3,a=e)),Object(n.l)(e,i.m,e=>c(4,o=e)),Object(n.l)(e,i.h,e=>c(5,s=e)),Object(n.l)(e,i.d,e=>c(6,l=e)),Object(n.l)(e,i.A,e=>c(7,r=e)),Object(n.l)(e,i.s,e=>c(8,b=e)),Object(n.l)(e,i.c,e=>c(2,u=e));let O,{loading:d=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,d=e.loading)},e.$$.update=()=>{504&e.$$.dirty&&c(1,O=Object(F.c)(a,o,s,l,r,b))},[d,O,u]}class I extends n.b{constructor(e){super(),Object(n.E)(this,e,Y,z,n.O,{loading:0})}}var N=I;c(320);function V(e,t,c){const n=e.slice();return n[14]=t[c],n}function J(e){let t,c,i,a,o,s,l,r,b,u,O,d,j=e[14].label+"";return{c(){t=Object(n.u)("li"),c=Object(n.X)("svg"),i=Object(n.X)("g"),a=Object(n.X)("path"),u=Object(n.U)(),O=Object(n.u)("span"),d=Object(n.Y)(j),Object(n.g)(a,"d",o=e[4](e[14].value)),Object(n.g)(a,"class","spike svelte-e80jt3"),Object(n.g)(a,"fill",s=Object(P.c)(e[14].color,S.c.fillOpacity)),Object(n.g)(a,"stroke",l=Object(P.c)(e[14].color,S.c.strokeOpacity)),Object(n.T)(i,"transform","translate("+W+"px, "+W+"px)"),Object(n.g)(c,"width",r=2*e[1]+2*W),Object(n.g)(c,"height",b=e[3](e[14].value)+2*W),Object(n.g)(c,"class","svelte-e80jt3"),Object(n.g)(t,"class","legend-direct-tick svelte-e80jt3")},m(e,o){Object(n.F)(e,t,o),Object(n.e)(t,c),Object(n.e)(c,i),Object(n.e)(i,a),Object(n.e)(t,u),Object(n.e)(t,O),Object(n.e)(O,d)},p(e,t){4&t&&o!==(o=e[4](e[14].value))&&Object(n.g)(a,"d",o),4&t&&s!==(s=Object(P.c)(e[14].color,S.c.fillOpacity))&&Object(n.g)(a,"fill",s),4&t&&l!==(l=Object(P.c)(e[14].color,S.c.strokeOpacity))&&Object(n.g)(a,"stroke",l),2&t&&r!==(r=2*e[1]+2*W)&&Object(n.g)(c,"width",r),12&t&&b!==(b=e[3](e[14].value)+2*W)&&Object(n.g)(c,"height",b),4&t&&j!==(j=e[14].label+"")&&Object(n.R)(d,j)},d(e){e&&Object(n.t)(t)}}}function Z(e){let t,c,i,a,o,s,l,r,b,u,O,d,j,g,h=e[2].high+"",p=e[2].labels,m=[];for(let t=0;t<p.length;t+=1)m[t]=J(V(e,p,t));return{c(){t=Object(n.u)("ul");for(let e=0;e<m.length;e+=1)m[e].c();c=Object(n.U)(),i=Object(n.u)("li"),a=Object(n.X)("svg"),o=Object(n.X)("g"),s=Object(n.X)("path"),d=Object(n.U)(),j=Object(n.u)("span"),g=Object(n.Y)(h),Object(n.g)(s,"d",l=e[4](e[2].highValue)),Object(n.g)(s,"class","spike svelte-e80jt3"),Object(n.g)(s,"fill",r=Object(P.c)(e[2].highColor,S.c.fillOpacity)),Object(n.g)(s,"stroke",b=Object(P.c)(e[2].highColor,S.c.strokeOpacity)),Object(n.T)(o,"transform","translate("+W+"px, "+W+"px)"),Object(n.g)(a,"width",u=2*e[1]+2*W),Object(n.g)(a,"height",O=e[3](e[2].highValue)+2*W),Object(n.g)(a,"class","svelte-e80jt3"),Object(n.g)(i,"class","legend-direct-tick svelte-e80jt3"),Object(n.g)(t,"class","legend-ticks svelte-e80jt3"),Object(n.ab)(t,"loading-bg",e[0])},m(e,l){Object(n.F)(e,t,l);for(let e=0;e<m.length;e+=1)m[e].m(t,null);Object(n.e)(t,c),Object(n.e)(t,i),Object(n.e)(i,a),Object(n.e)(a,o),Object(n.e)(o,s),Object(n.e)(i,d),Object(n.e)(i,j),Object(n.e)(j,g)},p(e,[i]){if(30&i){let n;for(p=e[2].labels,n=0;n<p.length;n+=1){const a=V(e,p,n);m[n]?m[n].p(a,i):(m[n]=J(a),m[n].c(),m[n].m(t,c))}for(;n<m.length;n+=1)m[n].d(1);m.length=p.length}4&i&&l!==(l=e[4](e[2].highValue))&&Object(n.g)(s,"d",l),4&i&&r!==(r=Object(P.c)(e[2].highColor,S.c.fillOpacity))&&Object(n.g)(s,"fill",r),4&i&&b!==(b=Object(P.c)(e[2].highColor,S.c.strokeOpacity))&&Object(n.g)(s,"stroke",b),2&i&&u!==(u=2*e[1]+2*W)&&Object(n.g)(a,"width",u),12&i&&O!==(O=e[3](e[2].highValue)+2*W)&&Object(n.g)(a,"height",O),4&i&&h!==(h=e[2].high+"")&&Object(n.R)(g,h),1&i&&Object(n.ab)(t,"loading-bg",e[0])},i:n.J,o:n.J,d(e){e&&Object(n.t)(t),Object(n.s)(m,e)}}}const W=2;function q(e,t,c){let a,o,s,l,r,b,u;Object(n.l)(e,i.h,e=>c(5,a=e)),Object(n.l)(e,i.E,e=>c(7,o=e)),Object(n.l)(e,i.m,e=>c(8,s=e)),Object(n.l)(e,i.d,e=>c(9,l=e)),Object(n.l)(e,i.A,e=>c(10,r=e)),Object(n.l)(e,i.s,e=>c(11,b=e)),Object(n.l)(e,i.D,e=>c(12,u=e));let O,d,j,g,h,{loading:p=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,p=e.loading)},e.$$.update=()=>{32&e.$$.dirty&&c(1,O=S.c.size[a]),32&e.$$.dirty&&c(6,d=S.c.maxHeight[a]),4e3&e.$$.dirty&&c(2,j=Object(F.c)(o,s,a,l,r,b)),4096&e.$$.dirty&&c(3,g=u),64&e.$$.dirty&&(h=d+2*W)},[p,O,j,g,function(e){return g?`M 0 ${g(e)} L ${O} 0 L ${2*O} ${g(e)}`:""}]}class X extends n.b{constructor(e){super(),Object(n.E)(this,e,q,Z,n.O,{loading:0})}}var G=X;c(321);const Q=e=>({}),K=e=>({});function ee(e){let t;const c=e[6].title,i=Object(n.q)(c,e,e[7],K);return{c(){i&&i.c()},m(e,c){i&&i.m(e,c),t=!0},p(e,t){i&&i.p&&128&t&&Object(n.eb)(i,c,e,e[7],t,Q,K)},i(e){t||(Object(n.bb)(i,e),t=!0)},o(e){Object(n.cb)(i,e),t=!1},d(e){i&&i.d(e)}}}function te(e){let t,c;return t=new G({props:{loading:e[2]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),t.$set(n)},i(e){c||(Object(n.bb)(t.$$.fragment,e),c=!0)},o(e){Object(n.cb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function ce(e){let t,c;return t=new N({props:{loading:e[2]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),t.$set(n)},i(e){c||(Object(n.bb)(t.$$.fragment,e),c=!0)},o(e){Object(n.cb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function ne(e){let t,c;return t=new U({props:{loading:e[2]}}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p(e,c){const n={};4&c&&(n.loading=e[2]),t.$set(n)},i(e){c||(Object(n.bb)(t.$$.fragment,e),c=!0)},o(e){Object(n.cb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function ie(e){let t,c;return t=new C({}),{c(){Object(n.n)(t.$$.fragment)},m(e,i){Object(n.I)(t,e,i),c=!0},p:n.J,i(e){c||(Object(n.bb)(t.$$.fragment,e),c=!0)},o(e){Object(n.cb)(t.$$.fragment,e),c=!1},d(e){Object(n.r)(t,e)}}}function ae(e){let t,c,i,a,o,s,r,b,u,O,d,j,g,h;i=new l({props:{$$slots:{default:[ee]},$$scope:{ctx:e}}}),s=new w({props:{zoom:e[0]?e[0].zoom:null,showEncodings:!0,loading:e[1]}}),u=new x.a({props:{sensor:e[3],className:"container-bg container-style encoding-wrapper"}});const p=[ie,ne,ce,te],m=[];function f(e,t){return e[4]?0:"color"===e[5]?1:"bubble"===e[5]?2:"spike"===e[5]?3:-1}return~(j=f(e))&&(g=m[j]=p[j](e)),{c(){t=Object(n.u)("div"),c=Object(n.u)("div"),Object(n.n)(i.$$.fragment),a=Object(n.U)(),o=Object(n.u)("div"),Object(n.n)(s.$$.fragment),r=Object(n.U)(),b=Object(n.u)("div"),Object(n.n)(u.$$.fragment),O=Object(n.U)(),d=Object(n.u)("div"),g&&g.c(),Object(n.g)(c,"class","title-container container-bg svelte-y12ms3"),Object(n.g)(o,"class","map-controls-container svelte-y12ms3"),Object(n.g)(t,"class","map-top-overlay svelte-y12ms3"),Object(n.g)(d,"class","container-bg container-style"),Object(n.g)(b,"class","legend-container base-font-size svelte-y12ms3")},m(e,l){Object(n.F)(e,t,l),Object(n.e)(t,c),Object(n.I)(i,c,null),Object(n.e)(t,a),Object(n.e)(t,o),Object(n.I)(s,o,null),Object(n.F)(e,r,l),Object(n.F)(e,b,l),Object(n.I)(u,b,null),Object(n.e)(b,O),Object(n.e)(b,d),~j&&m[j].m(d,null),h=!0},p(e,[t]){const c={};128&t&&(c.$$scope={dirty:t,ctx:e}),i.$set(c);const a={};1&t&&(a.zoom=e[0]?e[0].zoom:null),2&t&&(a.loading=e[1]),s.$set(a);const o={};8&t&&(o.sensor=e[3]),u.$set(o);let l=j;j=f(e),j===l?~j&&m[j].p(e,t):(g&&(Object(n.B)(),Object(n.cb)(m[l],1,1,()=>{m[l]=null}),Object(n.k)()),~j?(g=m[j],g||(g=m[j]=p[j](e),g.c()),Object(n.bb)(g,1),g.m(d,null)):g=null)},i(e){h||(Object(n.bb)(i.$$.fragment,e),Object(n.bb)(s.$$.fragment,e),Object(n.bb)(u.$$.fragment,e),Object(n.bb)(g),h=!0)},o(e){Object(n.cb)(i.$$.fragment,e),Object(n.cb)(s.$$.fragment,e),Object(n.cb)(u.$$.fragment,e),Object(n.cb)(g),h=!1},d(e){e&&Object(n.t)(t),Object(n.r)(i),Object(n.r)(s),e&&Object(n.t)(r),e&&Object(n.t)(b),Object(n.r)(u),~j&&m[j].d()}}}function oe(e,t,c){let a,o,s;Object(n.l)(e,i.m,e=>c(3,a=e)),Object(n.l)(e,i.r,e=>c(4,o=e)),Object(n.l)(e,i.p,e=>c(5,s=e));let{map:l=null}=t,{mapLoading:r=!0}=t,{legendLoading:b=!0}=t,{$$slots:u={},$$scope:O}=t;return e.$$set=e=>{"map"in e&&c(0,l=e.map),"mapLoading"in e&&c(1,r=e.mapLoading),"legendLoading"in e&&c(2,b=e.legendLoading),"$$scope"in e&&c(7,O=e.$$scope)},[l,r,b,a,o,s,u,O]}class se extends n.b{constructor(e){super(),Object(n.E)(this,e,oe,ae,n.O,{map:0,mapLoading:1,legendLoading:2})}}t.a=se},365:function(e){e.exports=JSON.parse('{"version":8,"name":"Albers USA","metadata":{"mapbox:autocomposite":true,"mapbox:type":"template","mapbox:sdk-support":{"js":"1.6.0","android":"8.6.0","ios":"5.6.0"},"mapbox:groups":{},"mapbox:uiParadigm":"layers"},"center":[-1.9392753230472408,-1.4351091963094262],"zoom":4.035119632783768,"bearing":0,"pitch":0,"glyphs":"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf","sources":{},"layers":[]}')}}]);