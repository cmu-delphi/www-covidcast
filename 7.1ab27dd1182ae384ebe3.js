(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{380:function(e,t,c){"use strict";c.r(t);var o=c(1),i=c(408),n=c(409),a=c(2),s=c(365),r=c(156),l=c(366),b=c.n(l),u=(c(367),c(204));c(368);function O(e){let t,c;return{c(){t=Object(o.Z)("svg"),c=Object(o.Z)("path"),Object(o.g)(c,"d","M140 52v408l320-204L140 52z"),Object(o.g)(t,"xmlns","http://www.w3.org/2000/svg"),Object(o.g)(t,"viewBox","0 0 512 512"),Object(o.g)(t,"class","svelte-c8tyih")},m(e,i){Object(o.F)(e,t,i),Object(o.e)(t,c)},i:o.J,o:o.J,d(e){e&&Object(o.t)(t)}}}function d(e){let t,c;return t=new s.a({}),{c(){Object(o.n)(t.$$.fragment)},m(e,i){Object(o.I)(t,e,i),c=!0},i(e){c||(Object(o.db)(t.$$.fragment,e),c=!0)},o(e){Object(o.eb)(t.$$.fragment,e),c=!1},d(e){Object(o.r)(t,e)}}}function j(e){let t,c,i,n,a,s,r,l,b,u,j,h;const p=[d,O],g=[];function m(e,t){return e[1]?0:1}return i=m(e),n=g[i]=p[i](e),{c(){t=Object(o.u)("div"),c=Object(o.u)("button"),n.c(),r=Object(o.W)(),l=Object(o.u)("div"),Object(o.g)(c,"aria-pressed",a=e[1]?"true":"false"),Object(o.g)(c,"title",s=e[1]?"Stop timeline to a specific date":"Play timeline to see how data changes over time"),Object(o.g)(c,"class","play-button svelte-h77nbq"),Object(o.g)(l,"class","slider svelte-h77nbq"),Object(o.g)(t,"class",b="player container-bg container-style base-font-size "+e[0]+" svelte-h77nbq")},m(n,a){Object(o.F)(n,t,a),Object(o.e)(t,c),g[i].m(c,null),e[9](c),Object(o.e)(t,r),Object(o.e)(t,l),e[10](l),u=!0,j||(h=[Object(o.H)(window,"keydown",e[5]),Object(o.H)(c,"click",e[4])],j=!0)},p(e,[r]){let l=i;i=m(e),i!==l&&(Object(o.B)(),Object(o.eb)(g[l],1,1,()=>{g[l]=null}),Object(o.k)(),n=g[i],n||(n=g[i]=p[i](e),n.c()),Object(o.db)(n,1),n.m(c,null)),(!u||2&r&&a!==(a=e[1]?"true":"false"))&&Object(o.g)(c,"aria-pressed",a),(!u||2&r&&s!==(s=e[1]?"Stop timeline to a specific date":"Play timeline to see how data changes over time"))&&Object(o.g)(c,"title",s),(!u||1&r&&b!==(b="player container-bg container-style base-font-size "+e[0]+" svelte-h77nbq"))&&Object(o.g)(t,"class",b)},i(e){u||(Object(o.db)(n),u=!0)},o(e){Object(o.eb)(n),u=!1},d(c){c&&Object(o.t)(t),g[i].d(),e[9](null),e[10](null),j=!1,Object(o.O)(h)}}}function h(e,t,c){let{className:i=""}=t;const n=864e5,a=Object(r.a)(),s=Object(u.a)("%m/%d"),l=Object(u.a)("%x");let{running:O=!1}=t,{value:d=new Date}=t,{min:j=new Date}=t,{max:h=new Date}=t,p=null;function g(){a("toggle",!O)}function m(e){return Math.floor(e.getTime())/n}function f(e){return new Date(e*n)}let v=null,y=null;const _={to:e=>l(f(e)),from:e=>Number.parseInt(e,10)},w={to:e=>{const t=f(e);return t.getTime()===j.getTime()||t.getTime()===h.getTime()?l(t):s(t)},from:e=>Number.parseInt(e,10)};return Object(r.c)(()=>{c(11,y=b.a.create(v,{step:1,tooltips:[_],connect:"lower",range:{min:m(j),max:m(h)},start:m(d),pips:{mode:"positions",values:[0,25,50,75,100],density:4,format:w}})),y.on("change",e=>{a("change",f(Number.parseInt(e[0],10)))})}),Object(r.b)(()=>{y&&(y.destroy(),c(11,y=null))}),e.$$set=e=>{"className"in e&&c(0,i=e.className),"running"in e&&c(1,O=e.running),"value"in e&&c(6,d=e.value),"min"in e&&c(7,j=e.min),"max"in e&&c(8,h=e.max)},e.$$.update=()=>{if(2112&e.$$.dirty){const e=m(d);y&&y.set(e)}384&e.$$.dirty&&function(e,t){if(!y)return;const c=m(e),o=m(t);y.updateOptions({range:{min:c,max:o},start:m(d)},!1)}(j,h)},[i,O,p,v,g,function(e){" "===e.key&&e.target!==p&&g()},d,j,h,function(e){o.i[e?"unshift":"push"](()=>{p=e,c(2,p)})},function(e){o.i[e?"unshift":"push"](()=>{v=e,c(3,v)})}]}class p extends o.b{constructor(e){super(),Object(o.E)(this,e,h,j,o.P,{className:0,running:1,value:6,min:7,max:8})}}var g=p,m=c(79),f=c(42),v=c(157),y=c(116),_=c(411),w=c(412);c(369);function $(e){let t,c,a,s,r,l,b,u,O,d;c=new n.a({props:{showDate:!1,className:"options-container"}}),s=new g({props:{className:"player-container",running:e[1],value:e[10],max:e[8],min:e[7]}}),s.$on("toggle",e[15]),s.$on("change",e[17]),b=new w.a({props:{map:e[0],mapLoading:e[1]||e[2],legendLoading:!1,zoom:e[5],showDate:!0}});let j={data:e[4],sensor:e[12],level:e[9],signalType:e[13],encoding:e[6],signalOptions:e[11],wrapperClass:_.a};return O=new i.a({props:j}),e[18](O),O.$on("loading",e[19]),O.$on("zoom",e[20]),O.$on("updatedEncoding",e[21]),{c(){t=Object(o.u)("main"),Object(o.n)(c.$$.fragment),a=Object(o.W)(),Object(o.n)(s.$$.fragment),r=Object(o.W)(),l=Object(o.u)("div"),Object(o.n)(b.$$.fragment),u=Object(o.W)(),Object(o.n)(O.$$.fragment),Object(o.g)(l,"class","map-container svelte-13w5hye"),Object(o.g)(t,"class","root svelte-13w5hye")},m(e,i){Object(o.F)(e,t,i),Object(o.I)(c,t,null),Object(o.e)(t,a),Object(o.I)(s,t,null),Object(o.e)(t,r),Object(o.e)(t,l),Object(o.I)(b,l,null),Object(o.e)(l,u),Object(o.I)(O,l,null),d=!0},p(e,[t]){const c={};2&t&&(c.running=e[1]),1024&t&&(c.value=e[10]),256&t&&(c.max=e[8]),128&t&&(c.min=e[7]),s.$set(c);const o={};1&t&&(o.map=e[0]),6&t&&(o.mapLoading=e[1]||e[2]),32&t&&(o.zoom=e[5]),b.$set(o);const i={};16&t&&(i.data=e[4]),4096&t&&(i.sensor=e[12]),512&t&&(i.level=e[9]),8192&t&&(i.signalType=e[13]),64&t&&(i.encoding=e[6]),2048&t&&(i.signalOptions=e[11]),O.$set(i)},i(e){d||(Object(o.db)(c.$$.fragment,e),Object(o.db)(s.$$.fragment,e),Object(o.db)(b.$$.fragment,e),Object(o.db)(O.$$.fragment,e),d=!0)},o(e){Object(o.eb)(c.$$.fragment,e),Object(o.eb)(s.$$.fragment,e),Object(o.eb)(b.$$.fragment,e),Object(o.eb)(O.$$.fragment,e),d=!1},d(i){i&&Object(o.t)(t),Object(o.r)(c),Object(o.r)(s),Object(o.r)(b),e[18](null),Object(o.r)(O)}}}function S(e,t,c){let i,n,s,l,b,u,O,d,j;function h(e){e&&(e.scale&&a.d.set(e.scale),a.e.set(e.stops),"bubble"===i&&e.custom&&a.c.set(e.custom),"spike"===i&&e.custom&&a.D.set(e.custom))}Object(o.l)(e,a.q,e=>c(6,i=e)),Object(o.l)(e,a.F,e=>c(24,n=e)),Object(o.l)(e,a.o,e=>c(25,s=e)),Object(o.l)(e,a.j,e=>c(9,l=e)),Object(o.l)(e,a.h,e=>c(10,b=e)),Object(o.l)(e,a.A,e=>c(11,u=e)),Object(o.l)(e,a.n,e=>c(12,O=e)),Object(o.l)(e,a.B,e=>c(13,d=e));let p=3;const g=new Map;let _=-1,w=!1,$=!0,S=()=>{},x=Promise.resolve([]);function L(e){const t="".concat(e,"-").concat(s.key,"-").concat(l);if(g.has(t)){const e=g.get(t);return g.delete(e),e}return Object(v.b)(s,l,e,{stderr:null})}function R(e,t=!1){if(_=-1,!t)return c(1,w=!1),c(4,x=L(e)),void x.then(()=>{a.g.set(Object(f.b)(e))});const o=m.a.offset(e,1);!function(e){let t=m.a.offset(e,p);t>V&&(t=V);const c=m.a.range(m.a.floor(e),t);for(const e of c){const t="".concat(e,"-").concat(s.key,"-").concat(l);g.has(t)||g.set(t,Object(v.b)(s,l,e,{stderr:null}))}}(e);const i=new Promise(e=>c(3,S=e)),n=Date.now();c(4,x=L(e)),x.then(()=>{a.g.set(Object(f.b)(e))}),i.then(()=>{if(!w)return;const e=Date.now()-n;e>250&&p<7&&p++,_=setTimeout(()=>{R(o,o<V)},Math.max(0,250-e))})}function k(){if(c(1,w=!w),!w)return Object(y.a)("player","stop"),_>=0&&(clearTimeout(_),_=-1),void g.clear();Object(y.a)("player","start"),V.getTime()===b.getTime()?R(A,!0):R(m.a.offset(b,1),!0)}function P(e){w&&k(),Object(y.a)("player","jump",e.toString()),R(e,!1)}Object(r.c)(()=>{R(b,!1)});let M=1;let A,V;return e.$$.update=()=>{50331648&e.$$.dirty&&c(7,A=null!=n&&n.has(s.key)?Object(f.h)(n.get(s.key)[0]):new Date(2020,1,1)),50331648&e.$$.dirty&&c(8,V=null!=n&&n.has(s.key)?Object(f.h)(n.get(s.key)[1]):new Date(2020,8,1)),33556992&e.$$.dirty&&(w&&k(),R(b,!1))},[j,w,$,S,x,M,i,A,V,l,b,u,O,d,h,k,P,e=>P(e.detail),function(e){o.i[e?"unshift":"push"](()=>{j=e,c(0,j)})},e=>{c(2,$=e.detail),e.detail||S()},e=>c(5,M=e.detail),e=>h(e.detail)]}class x extends o.b{constructor(e){super(),Object(o.E)(this,e,S,$,o.P,{})}}t.default=x},405:function(e,t,c){"use strict";var o=c(1),i=c(2);c(338);function n(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,o)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?n(Object(c),!0).forEach((function(t){s(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function s(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function r(e){let t,c,i,n,a,s,r,l,b,u,O,d,j,h,p,g,m,f,v,y,_;return{c(){t=Object(o.u)("div"),c=Object(o.u)("div"),i=Object(o.u)("button"),n=Object(o.ab)("Incidence"),s=Object(o.W)(),r=Object(o.u)("button"),l=Object(o.ab)("Cumulative"),u=Object(o.W)(),O=Object(o.u)("div"),d=Object(o.u)("button"),j=Object(o.ab)("Counts"),p=Object(o.W)(),g=Object(o.u)("button"),m=Object(o.ab)("Ratios per 100,000"),Object(o.g)(i,"aria-pressed",a=String(!e[3].cumulative)),Object(o.g)(i,"class","pg-button button svelte-1txg4v7"),Object(o.cb)(i,"selected",!e[3].cumulative),Object(o.g)(r,"aria-pressed",b=e[3].cumulative),Object(o.g)(r,"class","pg-button button svelte-1txg4v7"),Object(o.cb)(r,"selected",e[3].cumulative),Object(o.g)(c,"aria-label","display cumulative or indicence"),Object(o.g)(c,"class","pg-button-group button-group svelte-1txg4v7"),Object(o.g)(d,"aria-pressed",h=String(!e[3].ratio)),Object(o.g)(d,"class","pg-button button svelte-1txg4v7"),Object(o.cb)(d,"selected",!e[3].ratio),Object(o.g)(g,"aria-pressed",f=String(e[3].ratio)),Object(o.g)(g,"class","pg-button button svelte-1txg4v7"),Object(o.cb)(g,"selected",e[3].ratio),Object(o.g)(O,"aria-label","display counts or ratios per 100,000 people"),Object(o.g)(O,"class","pg-button-group button-group svelte-1txg4v7"),Object(o.g)(t,"class",v="root "+e[2]+" svelte-1txg4v7"),Object(o.cb)(t,"center",e[0])},m(a,b){Object(o.F)(a,t,b),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(i,n),Object(o.e)(c,s),Object(o.e)(c,r),Object(o.e)(r,l),Object(o.e)(t,u),Object(o.e)(t,O),Object(o.e)(O,d),Object(o.e)(d,j),Object(o.e)(O,p),Object(o.e)(O,g),Object(o.e)(g,m),y||(_=[Object(o.H)(i,"click",e[4]),Object(o.H)(r,"click",e[5]),Object(o.H)(d,"click",e[6]),Object(o.H)(g,"click",e[7])],y=!0)},p(e,c){8&c&&a!==(a=String(!e[3].cumulative))&&Object(o.g)(i,"aria-pressed",a),8&c&&Object(o.cb)(i,"selected",!e[3].cumulative),8&c&&b!==(b=e[3].cumulative)&&Object(o.g)(r,"aria-pressed",b),8&c&&Object(o.cb)(r,"selected",e[3].cumulative),8&c&&h!==(h=String(!e[3].ratio))&&Object(o.g)(d,"aria-pressed",h),8&c&&Object(o.cb)(d,"selected",!e[3].ratio),8&c&&f!==(f=String(e[3].ratio))&&Object(o.g)(g,"aria-pressed",f),8&c&&Object(o.cb)(g,"selected",e[3].ratio),4&c&&v!==(v="root "+e[2]+" svelte-1txg4v7")&&Object(o.g)(t,"class",v),5&c&&Object(o.cb)(t,"center",e[0])},d(e){e&&Object(o.t)(t),y=!1,Object(o.O)(_)}}}function l(e){let t,c=e[1].isCasesOrDeath&&r(e);return{c(){c&&c.c(),t=Object(o.v)()},m(e,i){c&&c.m(e,i),Object(o.F)(e,t,i)},p(e,[o]){e[1].isCasesOrDeath?c?c.p(e,o):(c=r(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null)},i:o.J,o:o.J,d(e){c&&c.d(e),e&&Object(o.t)(t)}}}function b(e,t,c){let n,s;Object(o.l)(e,i.o,e=>c(8,n=e)),Object(o.l)(e,i.A,e=>c(3,s=e));let{center:r=!1}=t,{sensor:l=n}=t,{className:b=""}=t;return e.$$set=e=>{"center"in e&&c(0,r=e.center),"sensor"in e&&c(1,l=e.sensor),"className"in e&&c(2,b=e.className)},[r,l,b,s,()=>{s.cumulative&&i.A.set(a(a({},s),{},{cumulative:!1}))},()=>{s.cumulative||i.A.set(a(a({},s),{},{cumulative:!0}))},()=>{s.ratio&&i.A.set(a(a({},s),{},{ratio:!1}))},()=>{s.ratio||i.A.set(a(a({},s),{},{ratio:!0}))}]}class u extends o.b{constructor(e){super(),Object(o.E)(this,e,b,l,o.P,{center:0,sensor:1,className:2})}}t.a=u},407:function(e){e.exports=JSON.parse('{"version":8,"name":"Albers USA","metadata":{"mapbox:autocomposite":true,"mapbox:type":"template","mapbox:sdk-support":{"js":"1.6.0","android":"8.6.0","ios":"5.6.0"},"mapbox:groups":{},"mapbox:uiParadigm":"layers"},"center":[-1.9392753230472408,-1.4351091963094262],"zoom":4.035119632783768,"bearing":0,"pitch":0,"glyphs":"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf","sources":{},"layers":[]}')},408:function(e,t,c){"use strict";var o=c(1),i=c(156),n=c(2),a=c(400),s=c(4);c(334);function r(e){let t,c,i;return{c(){t=Object(o.u)("div"),Object(o.g)(t,"class","map-wrapper svelte-54x2e1")},m(n,a){Object(o.F)(n,t,a),e[13](t),c||(i=Object(o.H)(window,"resize",e[1]),c=!0)},p:o.J,i:o.J,o:o.J,d(n){n&&Object(o.t)(t),e[13](null),c=!1,i()}}}function l(e,t,c){let r;Object(o.l)(e,n.E,e=>c(16,r=e));let{wrapperClass:l}=t,b=null;const u=Object(i.a)(),O=new l((e,t)=>u(e,t)),d=O.zoom;let{data:j=Promise.resolve([])}=t,{sensor:h=""}=t,{level:p="state"}=t,{encoding:g="color"}=t,{signalType:m="value"}=t,{signalOptions:f={}}=t,{animationDuration:v=0}=t,{selections:y=[]}=t,_=!1;return Object(i.c)(()=>{c(14,O.animationDuration=v,O),O.initMap(b).then(()=>{c(15,_=!0)})}),Object(i.b)(()=>{O.destroy()}),e.$$set=e=>{"wrapperClass"in e&&c(2,l=e.wrapperClass),"data"in e&&c(5,j=e.data),"sensor"in e&&c(6,h=e.sensor),"level"in e&&c(7,p=e.level),"encoding"in e&&c(8,g=e.encoding),"signalType"in e&&c(9,m=e.signalType),"signalOptions"in e&&c(10,f=e.signalOptions),"animationDuration"in e&&c(11,v=e.animationDuration),"selections"in e&&c(12,y=e.selections)},e.$$.update=()=>{17632&e.$$.dirty&&O.updateSources(p,j,Object(s.i)(s.k.get(h),f)),100288&e.$$.dirty&&r&&function(e,t,c,o,i,n){const r=s.k.get(c),l=r.getType(n),b=Object(a.b)(i,r,e,n),{stops:d,scale:j}=Object(a.a)(b,o,r,l),h="county"===e,p=O.updateOptions(t,e,o,c,l,b,d,h&&d,j);u("updatedEncoding",{range:"value"===o?b:[-1,1],custom:p,scale:j,stops:d})}(p,g,h,m,r,f),53248&e.$$.dirty&&O.selectMulti(y)},[b,function(){O.zoom.resized()},l,d,function(){O.selectRandom()},j,h,p,g,m,f,v,y,function(e){o.i[e?"unshift":"push"](()=>{b=e,c(0,b)})}]}class b extends o.b{constructor(e){super(),Object(o.E)(this,e,l,r,o.P,{wrapperClass:2,zoom:3,selectRandom:4,data:5,sensor:6,level:7,encoding:8,signalType:9,signalOptions:10,animationDuration:11,selections:12})}get zoom(){return this.$$.ctx[3]}get selectRandom(){return this.$$.ctx[4]}}t.a=b},411:function(e,t,c){"use strict";c.d(t,"a",(function(){return ae}));c(327);var o=c(82),i=c(4),n=c(155),a=c(332),s=c.n(a),r=c(326),l=c(401);function b(e){return"".concat(e,"-border")}function u(e){return"".concat(e,"-centers")}const O="city-point";function d(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,o)}return c}function j(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?d(Object(c),!0).forEach((function(t){h(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function h(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function p(e){return"".concat(e,"-fill")}function g(e){return"".concat(e,"-hover")}function m(e){return"".concat(e,"-bubble")}function f(e){return"".concat(e,"-spike")}const v="state-stroke",y="state-names",_={pit:"city-point-unclustered-pit",1:"city-point-unclustered-1",2:"city-point-unclustered-2",3:"city-point-unclustered-3",4:"city-point-unclustered-4",5:"city-point-unclustered-5"};var w=c(1),$=c(204),S=c(2),x=c(399);c(333);function L(e){let t,c,o,i,n,a,s,r,l,b,u,O=e[1].displayName+"",d=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"";function j(e,t){return e[4]?A:e[5].isCasesOrDeath?M:P}let h=j(e),p=h(e);return{c(){t=Object(w.u)("h5"),c=Object(w.ab)(O),o=Object(w.W)(),i=Object(w.u)("table"),n=Object(w.u)("tbody"),a=Object(w.u)("tr"),s=Object(w.u)("th"),s.textContent="Population",r=Object(w.W)(),l=Object(w.u)("td"),b=Object(w.ab)(d),u=Object(w.W)(),p.c(),Object(w.g)(t,"class","svelte-1u8gn73"),Object(w.g)(s,"class","svelte-1u8gn73"),Object(w.g)(l,"class","right svelte-1u8gn73"),Object(w.g)(i,"class","svelte-1u8gn73")},m(e,O){Object(w.F)(e,t,O),Object(w.e)(t,c),Object(w.F)(e,o,O),Object(w.F)(e,i,O),Object(w.e)(i,n),Object(w.e)(n,a),Object(w.e)(a,s),Object(w.e)(a,r),Object(w.e)(a,l),Object(w.e)(l,b),Object(w.e)(n,u),p.m(n,null)},p(e,t){2&t&&O!==(O=e[1].displayName+"")&&Object(w.S)(c,O),2&t&&d!==(d=("number"==typeof e[1].population?e[1].population.toLocaleString():"Unknown")+"")&&Object(w.S)(b,d),h===(h=j(e))&&p?p.p(e,t):(p.d(1),p=h(e),p&&(p.c(),p.m(n,null)))},d(e){e&&Object(w.t)(t),e&&Object(w.t)(o),e&&Object(w.t)(i),p.d()}}}function R(e){let t,c,o,i=e[1].displayName+"";return{c(){t=Object(w.u)("h5"),c=Object(w.ab)("Estimate unavailable for rest of "),o=Object(w.ab)(i),Object(w.g)(t,"class","svelte-1u8gn73")},m(e,i){Object(w.F)(e,t,i),Object(w.e)(t,c),Object(w.e)(t,o)},p(e,t){2&t&&i!==(i=e[1].displayName+"")&&Object(w.S)(o,i)},d(e){e&&Object(w.t)(t)}}}function k(e){let t;return{c(){t=Object(w.u)("h5"),t.textContent="Estimate unavailable",Object(w.g)(t,"class","svelte-1u8gn73")},m(e,c){Object(w.F)(e,t,c)},p:w.J,d(e){e&&Object(w.t)(t)}}}function P(e){let t,c,o,i,n,a,s,r=e[5].yAxis+"",l=e[5].formatValue(e[2])+"";return{c(){t=Object(w.u)("tr"),c=Object(w.u)("th"),o=Object(w.ab)(r),i=Object(w.W)(),n=Object(w.u)("td"),a=Object(w.ab)(l),Object(w.g)(c,"class","svelte-1u8gn73"),Object(w.g)(n,"class","right svelte-1u8gn73"),Object(w.g)(n,"style",s=e[8](e[2]))},m(e,s){Object(w.F)(e,t,s),Object(w.e)(t,c),Object(w.e)(c,o),Object(w.e)(t,i),Object(w.e)(t,n),Object(w.e)(n,a)},p(e,t){32&t&&r!==(r=e[5].yAxis+"")&&Object(w.S)(o,r),36&t&&l!==(l=e[5].formatValue(e[2])+"")&&Object(w.S)(a,l),4&t&&s!==(s=e[8](e[2]))&&Object(w.g)(n,"style",s)},d(e){e&&Object(w.t)(t)}}}function M(e){let t,c,o,i,n,a,s,r,l,b,u,O,d,j,h,p,g,m,f,v,y,_,$,S,x,L,R,k,P,M,A,V,z,D,E,C,F,Z,B,I,T,W,N,H=e[5].yAxis+"",J=e[7](e[6])+"",U=e[5].formatValue(e[1].count)+"",Y=e[5].formatValue(e[1].countRatio)+"",q=e[5].formatValue(e[1].avg)+"",G=e[5].formatValue(e[1].avgRatio)+"",X=e[7](e[6])+"",K=e[5].formatValue(e[1].countCumulative)+"",Q=e[5].formatValue(e[1].countRatioCumulative)+"";return{c(){t=Object(w.u)("tr"),c=Object(w.u)("th"),o=Object(w.ab)(H),i=Object(w.W)(),n=Object(w.u)("th"),n.textContent="Count",a=Object(w.W)(),s=Object(w.u)("th"),s.textContent="Ratios per 100,000",r=Object(w.W)(),l=Object(w.u)("tr"),b=Object(w.u)("th"),u=Object(w.ab)(J),O=Object(w.W)(),d=Object(w.u)("td"),j=Object(w.ab)(U),p=Object(w.W)(),g=Object(w.u)("td"),m=Object(w.ab)(Y),v=Object(w.W)(),y=Object(w.u)("tr"),_=Object(w.u)("th"),_.textContent="7-day avg",$=Object(w.W)(),S=Object(w.u)("td"),x=Object(w.ab)(q),R=Object(w.W)(),k=Object(w.u)("td"),P=Object(w.ab)(G),A=Object(w.W)(),V=Object(w.u)("tr"),z=Object(w.u)("th"),D=Object(w.ab)("Cumulative "),E=Object(w.ab)(X),C=Object(w.W)(),F=Object(w.u)("td"),Z=Object(w.ab)(K),I=Object(w.W)(),T=Object(w.u)("td"),W=Object(w.ab)(Q),Object(w.g)(c,"class","svelte-1u8gn73"),Object(w.g)(n,"class","area svelte-1u8gn73"),Object(w.g)(s,"class","area svelte-1u8gn73"),Object(w.g)(b,"class","svelte-1u8gn73"),Object(w.g)(d,"class","right svelte-1u8gn73"),Object(w.g)(d,"style",h=e[3].cumulative||e[3].ratio?"":e[8](e[1].count)),Object(w.g)(g,"class","right svelte-1u8gn73"),Object(w.g)(g,"style",f=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):""),Object(w.g)(_,"class","svelte-1u8gn73"),Object(w.g)(S,"class","right svelte-1u8gn73"),Object(w.g)(S,"style",L=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg)),Object(w.g)(k,"class","right svelte-1u8gn73"),Object(w.g)(k,"style",M=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):""),Object(w.g)(z,"class","svelte-1u8gn73"),Object(w.g)(F,"class","right svelte-1u8gn73"),Object(w.g)(F,"style",B=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):""),Object(w.g)(T,"class","right svelte-1u8gn73"),Object(w.g)(T,"style",N=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")},m(e,h){Object(w.F)(e,t,h),Object(w.e)(t,c),Object(w.e)(c,o),Object(w.e)(t,i),Object(w.e)(t,n),Object(w.e)(t,a),Object(w.e)(t,s),Object(w.F)(e,r,h),Object(w.F)(e,l,h),Object(w.e)(l,b),Object(w.e)(b,u),Object(w.e)(l,O),Object(w.e)(l,d),Object(w.e)(d,j),Object(w.e)(l,p),Object(w.e)(l,g),Object(w.e)(g,m),Object(w.F)(e,v,h),Object(w.F)(e,y,h),Object(w.e)(y,_),Object(w.e)(y,$),Object(w.e)(y,S),Object(w.e)(S,x),Object(w.e)(y,R),Object(w.e)(y,k),Object(w.e)(k,P),Object(w.F)(e,A,h),Object(w.F)(e,V,h),Object(w.e)(V,z),Object(w.e)(z,D),Object(w.e)(z,E),Object(w.e)(V,C),Object(w.e)(V,F),Object(w.e)(F,Z),Object(w.e)(V,I),Object(w.e)(V,T),Object(w.e)(T,W)},p(e,t){32&t&&H!==(H=e[5].yAxis+"")&&Object(w.S)(o,H),64&t&&J!==(J=e[7](e[6])+"")&&Object(w.S)(u,J),34&t&&U!==(U=e[5].formatValue(e[1].count)+"")&&Object(w.S)(j,U),10&t&&h!==(h=e[3].cumulative||e[3].ratio?"":e[8](e[1].count))&&Object(w.g)(d,"style",h),34&t&&Y!==(Y=e[5].formatValue(e[1].countRatio)+"")&&Object(w.S)(m,Y),10&t&&f!==(f=!e[3].cumulative&&e[3].ratio?e[8](e[1].countRatio):"")&&Object(w.g)(g,"style",f),34&t&&q!==(q=e[5].formatValue(e[1].avg)+"")&&Object(w.S)(x,q),10&t&&L!==(L=e[3].cumulative||e[3].ratio?"":e[8](e[1].avg))&&Object(w.g)(S,"style",L),34&t&&G!==(G=e[5].formatValue(e[1].avgRatio)+"")&&Object(w.S)(P,G),10&t&&M!==(M=!e[3].cumulative&&e[3].ratio?e[8](e[1].avgRatio):"")&&Object(w.g)(k,"style",M),64&t&&X!==(X=e[7](e[6])+"")&&Object(w.S)(E,X),34&t&&K!==(K=e[5].formatValue(e[1].countCumulative)+"")&&Object(w.S)(Z,K),10&t&&B!==(B=e[3].cumulative&&!e[3].ratio?e[8](e[1].countCumulative):"")&&Object(w.g)(F,"style",B),34&t&&Q!==(Q=e[5].formatValue(e[1].countRatioCumulative)+"")&&Object(w.S)(W,Q),10&t&&N!==(N=e[3].cumulative&&e[3].ratio?e[8](e[1].countRatioCumulative):"")&&Object(w.g)(T,"style",N)},d(e){e&&Object(w.t)(t),e&&Object(w.t)(r),e&&Object(w.t)(l),e&&Object(w.t)(v),e&&Object(w.t)(y),e&&Object(w.t)(A),e&&Object(w.t)(V)}}}function A(e){let t;function c(e,t){return 1===e[1].value?E:0===e[2]?D:-1===e[2]?z:V}let o=c(e),i=o(e);return{c(){t=Object(w.u)("tr"),i.c()},m(e,c){Object(w.F)(e,t,c),i.m(t,null)},p(e,n){o===(o=c(e))&&i?i.p(e,n):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&Object(w.t)(t),i.d()}}}function V(e){let t;return{c(){t=Object(w.u)("td"),t.textContent="Unknown",Object(w.g)(t,"colspan","2"),Object(w.g)(t,"class","svelte-1u8gn73")},m(e,c){Object(w.F)(e,t,c)},p:w.J,d(e){e&&Object(w.t)(t)}}}function z(e){let t,c,o,i=n.a.decreasingIcon+"";return{c(){t=Object(w.u)("td"),o=Object(w.ab)("\n                Decreasing"),c=new w.a(o),Object(w.g)(t,"colspan","2"),Object(w.V)(t,"background-color",n.a.decreasing),Object(w.g)(t,"class","svelte-1u8gn73")},m(e,n){Object(w.F)(e,t,n),c.m(i,t),Object(w.e)(t,o)},p:w.J,d(e){e&&Object(w.t)(t)}}}function D(e){let t,c,o,i=n.a.steadyIcon+"";return{c(){t=Object(w.u)("td"),o=Object(w.ab)("\n                Steady"),c=new w.a(o),Object(w.g)(t,"colspan","2"),Object(w.V)(t,"background-color",n.a.steady),Object(w.g)(t,"class","svelte-1u8gn73")},m(e,n){Object(w.F)(e,t,n),c.m(i,t),Object(w.e)(t,o)},p:w.J,d(e){e&&Object(w.t)(t)}}}function E(e){let t,c,o,i=n.a.increasingIcon+"";return{c(){t=Object(w.u)("td"),o=Object(w.ab)("\n                Increasing"),c=new w.a(o),Object(w.g)(t,"colspan","2"),Object(w.V)(t,"background-color",n.a.increasing),Object(w.g)(t,"class","svelte-1u8gn73")},m(e,n){Object(w.F)(e,t,n),c.m(i,t),Object(w.e)(t,o)},p:w.J,d(e){e&&Object(w.t)(t)}}}function C(e){let t;function c(e,t){return e[1]?e[0]?R:L:k}let o=c(e),i=o(e);return{c(){t=Object(w.u)("div"),i.c(),Object(w.g)(t,"aria-label","tooltip"),Object(w.g)(t,"class","tooltip svelte-1u8gn73")},m(e,c){Object(w.F)(e,t,c),i.m(t,null)},p(e,[n]){o===(o=c(e))&&i?i.p(e,n):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},i:w.J,o:w.J,d(e){e&&Object(w.t)(t),i.d()}}}function F(e,t,c){let o,i,a,s,r;Object(w.l)(e,S.A,e=>c(9,o=e)),Object(w.l)(e,S.d,e=>c(10,i=e)),Object(w.l)(e,S.s,e=>c(4,a=e)),Object(w.l)(e,S.o,e=>c(5,s=e)),Object(w.l)(e,S.h,e=>c(6,r=e));let{invalid:l=!1}=t,{properties:b}=t;const u=Object($.a)("%B %d");let O,d;return e.$$set=e=>{"invalid"in e&&c(0,l=e.invalid),"properties"in e&&c(1,b=e.properties)},e.$$.update=()=>{2&e.$$.dirty&&c(2,O=b?b.value:0),512&e.$$.dirty&&c(3,d=o)},[l,b,O,d,a,s,r,u,function(e){const t=0===e?n.f:i(e);return"background-color: ".concat(t,"; color: ").concat(Object(x.a)(t))}]}class Z extends w.b{constructor(e){super(),Object(w.E)(this,e,F,C,w.P,{invalid:0,properties:1})}}var B=Z;function I(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,o)}return c}function T(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?I(Object(c),!0).forEach((function(t){W(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):I(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function W(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class N{constructor(e,t){this.adapter=t,this.map=e,this.data=new Map,this.popup=new r.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup"}),this.topPopup=new r.Popup({closeButton:!1,closeOnClick:!1,className:"map-popup",anchor:"top"}),this.selection=[],this.hovered={id:null,level:null},this.tooltipElement=document.createElement("div"),this.tooltip=new B({target:this.tooltipElement,props:{properties:null,invalid:!0}}),this.initListeners()}initListeners(){if(this.map.on("mouseenter",v,this._onMapMouseEnter.bind(this)),this.map.on("mouseleave",v,this._onMapMouseLeave.bind(this)),this.map.on("mousemove",v,this._onMapMouseMove.bind(this)),this.adapter.levels.forEach(e=>{const t=p(e);this.map.on("mouseleave",t,this._onLevelMouseLeave.bind(this)),this.map.on("mousemove",t,this._onLevelMouseMove.bind(this)),this.map.on("click",t,this._onLevelMouseClick.bind(this))}),this.adapter.hasMegaCountyLevel){const e=p(i.g.id);this.map.on("mouseleave",e,this._onMegaMouseLeave.bind(this)),this.map.on("mousemove",e,this._onMegaMouseMove.bind(this)),this.map.on("click",e,this._onMegaMouseClick.bind(this))}}get activePopup(){return"spike"===this.adapter.encoding.id?this.topPopup:this.popup}_onMapMouseEnter(){this.map.getCanvas().style.cursor="pointer"}_onLevelMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMegaMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove(),this._updateHoverHighlight(null)}_onMapMouseLeave(){this.map.getCanvas().style.cursor="",this.activePopup.remove()}_onLevelMouseMove(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMegaMouseMove(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this._updateHoverHighlight(t.id,t.properties.level),this._renderTooltip(e))}_onMapMouseMove(e){e.defaultPrevented||this._renderTooltip(e,!0)}_onLevelMouseClick(e){const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_onMegaMouseClick(e){if(e.defaultPrevented)return;const t=e.features[0];this.adapter.isMissing(t)||(e.preventDefault(),this.adapter.dispatch("select",{feature:t,originalEvent:e.originalEvent}))}_renderTooltip(e,t=!1){this.map.getCanvas().style.cursor="pointer";const c=e.features[0],o=this.activePopup;this.tooltip.$set({properties:T(T({},c.properties),this.data.get(c.properties.id)||{}),invalid:t}),o.setLngLat(e.lngLat).setDOMContent(this.tooltipElement).addTo(this.map)}_updateState(e,t,c){this.map.setFeatureState({source:e,id:"string"==typeof t?Number.parseInt(t,10):t},c)}_updateHoverLayerVisibility(){const e=new Set(this.selection.map(e=>e.level));null!=this.hovered.id&&e.add(this.hovered.level);const t=t=>{"none"!==this.map.getLayoutProperty(g(t),"visibility")!==e.has(t)&&this.map.setLayoutProperty(g(t),"visibility",e.has(t)?"visible":"none")};for(const e of this.adapter.levels)t(e);this.adapter.hasMegaCountyLevel&&t(i.g.id)}_updateHoverHighlight(e=null,t=null){this.hovered.id!=e&&(this.hovered.id&&this._updateState(b(this.hovered.level),this.hovered.id,{hover:!1}),e&&this._updateState(b(t),e,{hover:!0}),this.hovered.id=e,this.hovered.level=t,this._updateHoverLayerVisibility())}select(e){return this.selectMulti(e?[{info:e,color:n.d.selectedRegionOutline}]:[])[0]}selectMulti(e){const t=this.selection.slice();for(const e of this.selection)this._updateState(b(e.level),e.id,{select:!1});return this.selection=e.map(e=>{const t=Number(e.info.id);return this._updateState(b(e.info.level),t,{select:e.color}),{id:t,level:e.info.level,color:e.color}}),this._updateHoverLayerVisibility(),t}forceHover(e){this._updateHoverHighlight(e.id,e.properties.level)}isHovered(e){return!!e&&(e.id==this.hovered.id&&e.level===this.hovered.level)}}var H=c(407);class J{constructor(e,t){this.map=null,this.onZoom=e,this.resetBounds=new r.LngLatBounds(t),this.resetBoundsOptions={padding:20,linear:!1},this.stateZoom=1,this.initialZoomView=!0}_triggerZoom(e){const t=this.map.getZoom(),c=this.stateZoom,o=Math.pow(2,.75*(t-c));this.onZoom(o,e)}setMap(e){this.map=e,this.stateZoom=this.map.getZoom(),this.map.on("zoom",()=>{this._triggerZoom()})}ready(){this.stateZoom=this.map.getZoom(),this._triggerZoom()}getZoom(){return this.map?this.map.getZoom():0}getMaxZoom(){return this.map?this.map.getMaxZoom():100}getMinZoom(){return this.map?this.map.getMinZoom():-100}zoomIn(){this.map&&(this.initialZoomView=!1,this.map.zoomIn())}zoomOut(){this.map&&(this.initialZoomView=!1,this.map.zoomOut())}resetZoom(){this.map&&(this.initialZoomView=!0,this.map.fitBounds(this.resetBounds,this.resetBoundsOptions),this.map.once("idle",()=>{this.stateZoom=this.map.getZoom(),this._triggerZoom(!0)}))}resized(){this.initialZoomView&&this.map&&requestAnimationFrame(()=>{this.map.fitBounds(this.resetBounds,this.resetBoundsOptions)})}showStateLabels(e){this.map&&this.map.getLayer(y)&&this.map.setLayoutProperty(y,"visibility",e?"visible":"none")}toggleStateLabels(){this.map&&this.map.getLayer(y)&&this.showStateLabels("visible"!==this.map.getLayoutProperty(y,"visibility"))}}var U=c(351);function Y(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,o)}return c}function q(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(c),!0).forEach((function(t){G(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Y(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function G(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}class X{constructor(){this.id="color",this.layers=[]}getVisibleLayers(e){return[p(e),"county"===e&&p(i.g.id)].filter(Boolean)}addLayers(){}encode(e,{level:t,stops:c,stopsMega:o}){e.setPaintProperty(p(t),"fill-color",Object(l.b)(c)),o&&e.setPaintProperty(p(i.g.id),"fill-color",Object(l.b)(o))}updateSources(){}}var K=c(117),Q=c(16);class ee{constructor(e,t,c,o){this._sourceId=e,this._level=t,this._colorsDirty=!0,this.featureIds=[],this._valueLookup=new Map,this._valuePrimaryValue="value",this._valueToColor=()=>n.e,this._valueToSize=()=>0,this._vertexSource=c,this._fragmentSource=o,this._map=null,this.zoom=1}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}_createVertices(e){return[e.x,e.y]}onAdd(e,t){this._map=e,this._vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertexShader,this._vertexSource),t.compileShader(this._vertexShader),this._fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragmentShader,this._fragmentSource),t.compileShader(this._fragmentShader),this._program=t.createProgram(),t.attachShader(this._program,this._vertexShader),t.attachShader(this._program,this._fragmentShader),t.linkProgram(this._program),this._uPos=t.getUniformLocation(this._program,"u_matrix"),this._uOpacity=t.getUniformLocation(this._program,"u_opacity"),this._uPixelToClip=t.getUniformLocation(this._program,"u_pixelToClip"),this._uZoom=t.getUniformLocation(this._program,"u_zoom"),this._uDevicePixelRatio=t.getUniformLocation(this._program,"u_device_pixel_ratio"),this._aPos=t.getAttribLocation(this._program,"a_pos"),this._centerBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._centerBuffer);const c=e.getSource(this._sourceId)._data.features.map(e=>{const t=e.geometry.coordinates,c=t[0],o=t[1];if(null==o||Number.isNaN(o))return[];this.featureIds.push(e.properties.id);const i=r.MercatorCoordinate.fromLngLat({lat:o,lng:c});return this._createVertices(i)}).flat();t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),this._verticesPerFeatures=c.length/3/this.featureIds.length,this._aColorAndValue=t.getAttribLocation(this._program,"a_colorAndValue"),this._colorAndValueBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._colorAndValueBuffer),this._colorAndValueData=new Float32Array(4*this.featureIds.length*this._verticesPerFeatures),this._colorAndValueData.fill(0),t.bufferData(t.ARRAY_BUFFER,this._colorAndValueData,t.STATIC_DRAW)}onRemove(e,t){this._map=null,t.deleteBuffer(this._centerBuffer),t.deleteBuffer(this._colorAndValueBuffer),t.deleteShader(this._fragmentShader),t.deleteShader(this._vertexShader),t.deleteProgram(this._program)}_prepareRender(e,t){e.useProgram(this._program),e.uniformMatrix4fv(this._uPos,!1,t);const c=this._map.painter.transform;e.uniform1f(this._uZoom,this.zoom),e.uniform2f(this._uPixelToClip,c.pixelsToGLUnits[0],c.pixelsToGLUnits[1]),e.uniform1f(this._uDevicePixelRatio,window.devicePixelRatio),e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.enableVertexAttribArray(this._aColorAndValue),e.vertexAttribPointer(this._aColorAndValue,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._centerBuffer),e.enableVertexAttribArray(this._aPos),e.vertexAttribPointer(this._aPos,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}preRender(e){if(this._colorsDirty){this._colorsDirty=!1;for(let e=0;e<this.featureIds.length;e++){const t=this.featureIds[e],c=this._valueLookup.has(t)?this._valueLookup.get(t)[this._valuePrimaryValue]:null,o=this._verticesPerFeatures;if(null==c||Number.isNaN(c)){for(let t=0;t<o;t++){const c=4*e*o+4*t;this._colorAndValueData[c]=0,this._colorAndValueData[c+1]=0,this._colorAndValueData[c+2]=0,this._colorAndValueData[c+3]=0}continue}const i=Object(Q.g)(this._valueToColor(c)),n=this._valueToSize(c);for(let t=0;t<o;t++){const c=4*e*o+4*t;this._colorAndValueData[c]=i.r,this._colorAndValueData[c+1]=i.g,this._colorAndValueData[c+2]=i.b,this._colorAndValueData[c+3]=n}}e.bindBuffer(e.ARRAY_BUFFER,this._colorAndValueBuffer),e.bufferData(e.ARRAY_BUFFER,this._colorAndValueData,e.STATIC_DRAW)}}encode(e,t){this._colorsDirty=!0,this._valueToSize=e,this._valueToColor=t}updateSources(e,t){this._colorsDirty=!0,this._valueLookup=e,this._valuePrimaryValue=t}}class te extends ee{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform float u_zoom;\nuniform vec2 u_pixelToClip;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n\n  vec2 pos = vec2(a_pos.z < 0.0 ? -1.0 : 1.0, abs(a_pos.z) < 2.0 ? -1.0 : 1.0);\n  p.xy += pos * u_pixelToClip * (u_zoom * a_colorAndValue.a + 1.0) * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n\n  v_data = vec4(pos, a_colorAndValue.a * u_zoom, 1.0);\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n}","\nprecision mediump float;\nuniform float u_opacity;\nuniform float u_device_pixel_ratio;\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n\n  float extrude_length = length(v_data.xy);\n  float radius = v_data.z;\n  float stroke_width = v_data.w;\n\n  float blur = -(1.0 / u_device_pixel_ratio / (radius + stroke_width));\n  float opacity_t = smoothstep(0.0, blur, extrude_length - 1.0);\n\n  float color_t = smoothstep(\n      blur,\n      0.0,\n      extrude_length - radius / (radius + stroke_width)\n  );\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = opacity_t * mix(fill_color, stroke_color, color_t);\n}")}_createVertices(e){return[e.x,e.y,-2,e.x,e.y,-1,e.x,e.y,1,e.x,e.y,2]}onAdd(e,t){super.onAdd(e,t),this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);const c=new Uint16Array(6*this.featureIds.length);for(let e=0;e<this.featureIds.length;e++){const t=6*e,o=4*e;c[t]=o,c[t+1]=o+1,c[t+2]=o+2,c[t+3]=o+2,c[t+4]=o+3,c[t+5]=o}t.bufferData(t.ELEMENT_ARRAY_BUFFER,c,t.STATIC_DRAW)}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,n.b.fillOpacity),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.drawElements(e.TRIANGLES,6*this.featureIds.length,e.UNSIGNED_SHORT,0)}}class ce{constructor(e,t){this.id="bubble",this.theme=e,this.layers=t.map(e=>m(e)),this.customLayers=new Map(t.map(e=>[e,new te(u(e),e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[p(e),m(e)]}onZoom(e){this.customLayers.forEach(t=>t.zoom=e)}getMaxZoom(e){return 50/this.theme.maxRadius[e]}addLayers(e,t){t.levels.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(m(t)))})}encode(e,{level:t,sensorType:c,valueMinMax:o,scale:i}){e.setPaintProperty(p(t),"fill-color",this.theme.countyFill);const n=this.theme.minRadius[t],a=this.theme.maxRadius[t],s=this.theme.radiusScale[c],r=Object(K.c)(s).domain(o).range([n,a]).clamp(!0);return this.customLayers.get(t).encode(r,i),r}updateSources(e,t,c,o){this.customLayers.get(t).updateSources(c,o)}}class oe extends ee{constructor(e,t){super(e,t,"\nuniform mat4 u_matrix;\nuniform vec2 u_pixelToClip;\nuniform float u_zoom;\n\nuniform float u_size;\n\nattribute vec3 a_pos;\nattribute vec4 a_colorAndValue;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\nvoid main() {\n  vec4 p = u_matrix * vec4(a_pos.xy, 0.0, 1.0);\n  float height = (a_colorAndValue.a * u_zoom + 1.0);\n  float shift = a_pos.z * (u_size * u_zoom + 1.0);\n\n  p.y -= (1.0 - abs(a_pos.z)) * height * u_pixelToClip.y * p.w;\n  p.x += shift * u_pixelToClip.x * p.w;\n\n  gl_Position = p;\n  v_color = a_colorAndValue.rgb / 255.0;\n  v_discard = a_colorAndValue.a == 0.0 ? 1.0 : 0.0;\n  float thickness = 1.0;\n  // encode the barycentric coordinate but such that the bottom line is not shown\n  v_data = vec4(-min(shift, 0.0), height, max(shift, 0.0), thickness);\n\n}","\n#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\nuniform float u_device_pixel_ratio;\nuniform float u_opacity;\n\nvarying vec3 v_color;\nvarying float v_discard;\nvarying vec4 v_data;\n\n// This is like\nfloat aastep (float threshold, float dist) {\n  float afwidth = fwidth(dist) * 0.5;\n  return smoothstep(threshold - afwidth, threshold + afwidth, dist);\n}\n\nvoid main() {\n  if (v_discard == 1.0) {\n    discard;\n  }\n  vec3 barycentric = v_data.xyz;\n  float stroke_width = v_data.w;\n\n  // this will be our signed distance for the wireframe edge\n  float d = min(min(barycentric.x, barycentric.y), barycentric.z);\n  // compute the anti-aliased stroke edge\n  float edge = 1.0 - aastep(stroke_width, d);\n\n  vec4 fill_color = vec4(v_color * u_opacity, u_opacity);\n  vec4 stroke_color = vec4(v_color, 1.0);\n\n  gl_FragColor = mix(fill_color, stroke_color, edge);\n}")}_createVertices(e){return[e.x,e.y,-1,e.x,e.y,0,e.x,e.y,1]}asLayer(e){return{id:e,type:"custom",renderingMode:"2d",onAdd:(e,t)=>this.onAdd(e,t),render:(e,t)=>this.render(e,t),onRemove:(e,t)=>this.onRemove(e,t),prerender:(e,t)=>this.preRender(e,t)}}onAdd(e,t){t.getExtension("OES_standard_derivatives"),super.onAdd(e,t),this._uSize=t.getUniformLocation(this._program,"u_size")}onRemove(e,t){super.onRemove(e,t),t.deleteBuffer(this._indexBuffer)}render(e,t){super._prepareRender(e,t),e.uniform1f(this._uOpacity,n.c.fillOpacity),e.uniform1f(this._uSize,n.c.size[this._level]),e.drawArrays(e.TRIANGLES,0,this.featureIds.length*this._verticesPerFeatures)}}class ie{constructor(e,t){this.id="spike",this.theme=e,this.layers=t.map(e=>f(e)),this.customLayers=new Map(t.map(e=>[e,new oe(u(e),e)]))}getVisibleLayers(e,t){return"direction"===t?[]:[p(e),f(e)]}onZoom(e){this.customLayers.forEach(t=>t.zoom=e)}getMaxZoom(e){return 100/this.theme.maxHeight[e]}addLayers(e,t){t.levels.forEach(t=>{e.addLayer(this.customLayers.get(t).asLayer(f(t)))})}encode(e,{level:t,sensorType:c,valueMinMax:o,scale:i}){e.setPaintProperty(p(t),"fill-color",this.theme.countyFill);const n=o[1],a=this.theme.maxHeight[t],s=this.theme.heightScale[c],r=Object(K.c)(s).range([0,a]).domain([0,n]).clamp(!0);return this.customLayers.get(t).encode(r,i),r}updateSources(e,t,c,o){this.customLayers.get(t).updateSources(c,o)}}const ne=Object(o.c)();class ae extends class{constructor(e,t){this.dispatch=e,this.map=null,this.mapSetupReady=!1,this.mapSetupReadyPromiseResolver=()=>{},this.mapSetupReadyPromise=new Promise(e=>{this.mapSetupReadyPromiseResolver=e}),this.mapDataReady=!1,this.mapEncodingReady=!1,this.animationDuration=0,this.interactive=null,this.level=t.level,this.levels=t.levels,this.hasMegaCountyLevel=t.hasMegaCountyLevel,this.encodings=t.encodings,this.encoding=this.encodings[0];const c=Object(U.a)(e=>this.dispatch("zoom",e),100);this.zoom=new J((e,t)=>{const o="function"==typeof this.encoding.getMaxZoom?this.encoding.getMaxZoom(this.level):Number.POSITIVE_INFINITY;e=Math.min(o,e);for(const t of this.encodings)"function"==typeof t.onZoom&&t.onZoom(e);t&&this.map.triggerRepaint(),c(e)},t.bounds)}initMap(e){this.map=new r.Map({attributionControl:!1,container:e,style:H,bounds:this.zoom.resetBounds,fitBounds:this.zoom.resetBoundsOptions,doubleClickZoom:!1,dragRotate:!1,pitchWithRotate:!1,touchPitch:!1,touchZoomRotate:!0,renderWorldCopies:!1,antialias:!0}),this.zoom.setMap(this.map),this.map.touchZoomRotate.disableRotation();let t=null;const c=new Promise(e=>{t=e});return this.map.on("idle",()=>{this.dispatch("idle")}),this.map.on("load",()=>{this.addSprites(),this.addSources().then(()=>{this.addLayers(),this.interactive=new N(this.map,this)}).then(()=>{this._setupReady(),t(this)})}),Object(x.b)(e,()=>{this.map.resize()}),c}_setupReady(){this.zoom.showStateLabels("state"===this.level),this.zoom.ready(),this.markReady("setup")}markReady(e){switch(e){case"data":if(this.mapDataReady)return;this.mapDataReady=!0,this.dispatch("readyData");break;case"setup":if(this.mapSetupReady)return;this.mapSetupReady=!0,this.mapSetupReadyPromiseResolver(),this.dispatch("readySetup");break;case"encoding":if(this.mapEncodingReady)return;this.mapEncodingReady=!0,this.dispatch("readyEncoding")}this.mapSetupReady&&this.mapEncodingReady&&this.mapDataReady&&this.dispatch("ready")}addSprites(){const e=16,t=document.createElement("canvas");t.width=e,t.height=e;const c=t.getContext("2d");c.clearRect(0,0,e,e);const o=c.createLinearGradient(0,0,e,e);o.addColorStop(0,"white"),o.addColorStop(.25,n.e),o.addColorStop(.5,"white"),o.addColorStop(.75,n.e),o.addColorStop(1,"white"),c.fillStyle=o,c.fillRect(0,0,e,e);const i=c.getImageData(0,0,e,e);this.map.addImage("hatching",i,{sdf:!0})}addSources(){return Promise.resolve()}animationOptions(e){return this.animationDuration?{[e+"-transition"]:{duration:this.animationDuration,delay:0}}:{}}addLevelSource(e,t,c){this.map.addSource(b(e),{type:"geojson",data:t}),this.map.addSource(u(e),{type:"geojson",data:c})}addFillLevelLayer(e){this.map.addLayer({id:p(e),source:b(e),type:"fill",layout:{visibility:"none"},paint:q({"fill-outline-color":n.d.countyOutlineWhenFilled,"fill-color":n.d.countyFill,"fill-opacity":["case",["==",["to-number",["feature-state","value"],l.a],l.a],0,1]},this.animationOptions("fill-color"))})}addHoverLevelLayer(e){this.map.addLayer({id:g(e),source:b(e),type:"line",layout:{visibility:"none"},paint:{"line-color":["case",["to-boolean",["feature-state","select"]],["feature-state","select"],n.d.hoverRegionOutline],"line-width":["case",["any",["to-boolean",["feature-state","hover"]],["to-boolean",["feature-state","select"]]],4,0]}})}addLayers(){}destroy(){this.mapSetupReady=!1,this.map&&(Object(x.d)(this.map.getContainer()),this.map.remove(),this.zoom.map=null,this.map=null)}validateLevel(e){return this.levels.includes(e)?e:this.levels[0]}updateOptions(e,t,c,o,n,a,s,r,l){t=this.validateLevel(t);const b=this.level;if(this.level=t,this.encoding=this.encodings.find(t=>t.id===e),this.hasMegaCountyLevel||(r=null),!this.map||!this.mapSetupReady)return;b!==t&&this.zoom.showStateLabels("state"===t);const u=this.encodings.flatMap(e=>e.layers);u.push(...this.levels.map(e=>p(e))),this.hasMegaCountyLevel&&u.push(p(i.g.id));const O=new Set(this.encoding.getVisibleLayers(t,c));u.forEach(e=>{this.map.setLayoutProperty(e,"visibility",O.has(e)?"visible":"none")});const d=this.encoding.encode(this.map,{level:t,signalType:c,sensorType:n,sensor:o,valueMinMax:a,stops:s,stopsMega:r,scale:l,baseZoom:this.zoom.stateZoom});return this.markReady("encoding"),d}updateSources(e,t,c="value"){e=this.validateLevel(e);const o=Math.random().toString(36);this._mapDataFlag=o,this.dispatch("loading",!0),Promise.all([t,this.mapSetupReadyPromise]).then(([t])=>{if(this._mapDataFlag!==o)return;this.map.once("idle",()=>{this.dispatch("loading",!1)});const n=new Map(t.map(e=>[e.geo_value.toUpperCase(),e]));this.interactive.data=n,"county"===e&&this._updateSource(b(i.g.id),n,c),this._updateSource(b(e),n,c),this._updateSource(u(e),n,c);for(const t of this.encodings)t.updateSources(this.map,e,n,c);t.length>0&&this.markReady("data")})}_updateSource(e,t,c="value"){console.assert(null!=this.map);const o=this.map.getSource(e);if(!o)return void console.error("invalid source");o._data.features.forEach(o=>{const i=o.properties.id,n=t.get(i);this.map.setFeatureState({source:e,id:Number.parseInt(o.id,10)},{value:n?n[c]:l.a})})}selectMulti(e){if(this.map&&this.interactive){if(e.length<=1){const t=this.interactive.selection.slice();return this.select(e.length>0?e[0].info:null),t}return this.interactive.selectMulti(e)}}select(e){if(!this.map||!this.interactive)return;if(null!=this.interactive.select(e)&&!e)return void this.zoom.resetZoom();if(!e||this.interactive.isHovered(e))return;const t=this.map.getSource(b(e.level));if(!t)return;const c=t._data.features.find(t=>t.id===e.id);c&&this.map.fitBounds(s()(c),{maxZoom:1.5*this.zoom.getZoom(),linear:!1,essential:!0})}isMissing(e){const t=this.map.getFeatureState({source:b(e.properties.level),id:"string"==typeof id?Number.parseInt(e.id,10):e.id});return null==t.value||t.value===l.a}selectRandom(){if(!this.map||!this.mapSetupReady)return;const e=this.map.getSource(b(this.level));if(!e)return;const t=i.b[this.level],c=e._data.features.find(e=>e.properties.id===t);if(c&&!this.isMissing(c))return this.interactive.forceHover(c),void this.dispatch("select",{feature:c});const o=e._data.features.filter(e=>!this.isMissing(e));if(0===o.length)return;const n=o[Math.floor(Math.random()*(o.length-1))];this.interactive.forceHover(n),this.dispatch("select",{feature:n})}}{constructor(e){super(e,{bounds:o.a.states,encodings:[new X(i.h),new ce(n.b,i.h),new ie(n.c,i.h)],level:"county",levels:i.h,hasMegaCountyLevel:!0})}addLevelSources(){const e=this.map;return ne.then(t=>{e.addSource(b(i.g.id),{type:"geojson",data:t.mega}),this.levels.forEach(e=>{this.addLevelSource(e,t[e].border,t[e].center)})})}addSources(){return Promise.all([(e=this.map,ne.then(t=>{e.addSource(O,{type:"geojson",data:t.cities})})),this.addLevelSources()]);var e}addLayers(){const e=this.map;e.addLayer({id:v,source:b("state"),type:"fill",paint:{"fill-color":n.e,"fill-outline-color":n.d.stateOutline,"fill-pattern":"hatching"}}),this.addFillLevelLayer(i.g.id),this.levels.forEach(e=>{this.addFillLevelLayer(e)}),this.addHoverLevelLayer(i.g.id),this.levels.forEach(e=>{this.addHoverLevelLayer(e)}),this.encodings.forEach(t=>{t.addLayers(e,this)}),function(e){const t=(t,c,o={})=>{e.addLayer(j(j(j({id:t,source:O,type:"symbol"},c?{filter:c}:{}),o),{},{layout:{"text-field":["get","name"],"text-font":["Open Sans Regular"],"text-size":12},paint:{"text-halo-color":"#fff","text-halo-width":1.5}}))};t(_.pit,["==","name","Pittsburgh"],{maxzoom:8}),t(_.pit[1],[">","population",9e5],{maxzoom:4}),t(_.pit[2],[">","population",5e5],{maxzoom:6,minzoom:4}),t(_.pit[3],[">","population",1e5],{maxzoom:8,minzoom:6}),t(_.pit[4],void 0,{minzoom:8})}(e),function(e){e.addLayer({id:y,source:u("state"),type:"symbol",maxzoom:8,layout:{"text-field":["upcase",["get","name"]],"text-font":["Open Sans Bold"],"text-size":11},paint:{"text-opacity":.5,"text-halo-color":"#fff","text-halo-width":1}})}(e)}}},412:function(e,t,c){"use strict";var o=c(1),i=c(2),n=c(328);c(339);function a(e){let t,c,i=e[3].toLocaleDateString()+"";return{c(){t=Object(o.u)("span"),c=Object(o.ab)(i)},m(e,i){Object(o.F)(e,t,i),Object(o.e)(t,c)},p(e,t){8&t&&i!==(i=e[3].toLocaleDateString()+"")&&Object(o.S)(c,i)},d(e){e&&Object(o.t)(t)}}}function s(e){let t,c,i,s,r,l,b,u,O,d;l=new n.a({});let j=e[0]&&a(e);return{c(){t=Object(o.u)("h2"),c=Object(o.u)("span"),i=Object(o.ab)(e[1]),s=Object(o.W)(),r=Object(o.u)("button"),Object(o.n)(l.$$.fragment),b=Object(o.W)(),j&&j.c(),Object(o.g)(r,"title","Show sensor description"),Object(o.g)(r,"class","pg-button pg-button-circle info svelte-4lvya3"),Object(o.g)(t,"class","banner svelte-4lvya3")},m(n,a){Object(o.F)(n,t,a),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(c,s),Object(o.e)(c,r),Object(o.I)(l,r,null),Object(o.e)(t,b),j&&j.m(t,null),u=!0,O||(d=Object(o.H)(r,"click",e[4]),O=!0)},p(e,[c]){(!u||2&c)&&Object(o.S)(i,e[1]),e[0]?j?j.p(e,c):(j=a(e),j.c(),j.m(t,null)):j&&(j.d(1),j=null)},i(e){u||(Object(o.db)(l.$$.fragment,e),u=!0)},o(e){Object(o.eb)(l.$$.fragment,e),u=!1},d(e){e&&Object(o.t)(t),Object(o.r)(l),j&&j.d(),O=!1,d()}}}function r(e,t,c){let n,a,s;Object(o.l)(e,i.p,e=>c(1,n=e)),Object(o.l)(e,i.o,e=>c(2,a=e)),Object(o.l)(e,i.h,e=>c(3,s=e));let{showDate:r=!1}=t;return e.$$set=e=>{"showDate"in e&&c(0,r=e.showDate)},[r,n,a,s,()=>{i.i.set(a)}]}class l extends o.b{constructor(e){super(),Object(o.E)(this,e,r,s,o.P,{showDate:0})}}var b=l,u=c(340),O=c(330),d=c(341),j=c(116);c(342);function h(e){let t,c,i,n,a,s,r,l,b,u,O,j,h,p,g,m,f,v,y,_,w;return a=new d.a({}),O=new d.a({}),f=new d.a({}),{c(){t=Object(o.u)("div"),c=Object(o.u)("button"),i=Object(o.u)("span"),i.textContent="Switch to Choropleth",n=Object(o.W)(),Object(o.n)(a.$$.fragment),r=Object(o.W)(),l=Object(o.u)("button"),b=Object(o.u)("span"),b.textContent="Switch to Bubble Map",u=Object(o.W)(),Object(o.n)(O.$$.fragment),h=Object(o.W)(),p=Object(o.u)("button"),g=Object(o.u)("span"),g.textContent="Switch to Spike Map",m=Object(o.W)(),Object(o.n)(f.$$.fragment),Object(o.g)(i,"aria-hidden",""),Object(o.g)(c,"aria-pressed",s="color"===e[5]?"true":"false"),Object(o.g)(c,"class","pg-button encoding-button choropleth svelte-1ncn4fm"),Object(o.g)(c,"title","Switch to Choropleth"),Object(o.cb)(c,"selected","color"===e[5]),Object(o.g)(b,"aria-hidden",""),Object(o.g)(l,"aria-pressed",j="bubble"===e[5]?"true":"false"),Object(o.g)(l,"class","pg-button encoding-button bubble svelte-1ncn4fm"),Object(o.g)(l,"title","Switch to Bubble Map"),Object(o.cb)(l,"selected","bubble"===e[5]),Object(o.g)(g,"aria-hidden",""),Object(o.g)(p,"aria-pressed",v="spike"===e[5]?"true":"false"),Object(o.g)(p,"class","pg-button encoding-button spike svelte-1ncn4fm"),Object(o.g)(p,"title","Switch to Spike Map"),Object(o.cb)(p,"selected","spike"===e[5]),Object(o.g)(t,"class","pg-button-vertical-group svelte-1ncn4fm")},m(s,d){Object(o.F)(s,t,d),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(c,n),Object(o.I)(a,c,null),Object(o.e)(t,r),Object(o.e)(t,l),Object(o.e)(l,b),Object(o.e)(l,u),Object(o.I)(O,l,null),Object(o.e)(t,h),Object(o.e)(t,p),Object(o.e)(p,g),Object(o.e)(p,m),Object(o.I)(f,p,null),y=!0,_||(w=[Object(o.H)(c,"click",e[9]),Object(o.H)(l,"click",e[10]),Object(o.H)(p,"click",e[11])],_=!0)},p(e,t){(!y||32&t&&s!==(s="color"===e[5]?"true":"false"))&&Object(o.g)(c,"aria-pressed",s),32&t&&Object(o.cb)(c,"selected","color"===e[5]),(!y||32&t&&j!==(j="bubble"===e[5]?"true":"false"))&&Object(o.g)(l,"aria-pressed",j),32&t&&Object(o.cb)(l,"selected","bubble"===e[5]),(!y||32&t&&v!==(v="spike"===e[5]?"true":"false"))&&Object(o.g)(p,"aria-pressed",v),32&t&&Object(o.cb)(p,"selected","spike"===e[5])},i(e){y||(Object(o.db)(a.$$.fragment,e),Object(o.db)(O.$$.fragment,e),Object(o.db)(f.$$.fragment,e),y=!0)},o(e){Object(o.eb)(a.$$.fragment,e),Object(o.eb)(O.$$.fragment,e),Object(o.eb)(f.$$.fragment,e),y=!1},d(e){e&&Object(o.t)(t),Object(o.r)(a),Object(o.r)(O),Object(o.r)(f),_=!1,Object(o.O)(w)}}}function p(e){let t;return{c(){t=Object(o.u)("div"),Object(o.g)(t,"class","loader loading svelte-1ncn4fm")},m(e,c){Object(o.F)(e,t,c)},d(e){e&&Object(o.t)(t)}}}function g(e){let t,c,i,n,a,s,r,l,b,j,g,m,f,v,y,_,w,$,S,x;n=new u.a({}),l=new O.a({}),f=new d.a({});let L=e[2]&&e[4]&&h(e),R=e[3]&&p();return{c(){t=Object(o.u)("div"),c=Object(o.u)("div"),i=Object(o.u)("button"),Object(o.n)(n.$$.fragment),s=Object(o.W)(),r=Object(o.u)("button"),Object(o.n)(l.$$.fragment),j=Object(o.W)(),g=Object(o.u)("div"),m=Object(o.u)("button"),Object(o.n)(f.$$.fragment),y=Object(o.W)(),L&&L.c(),_=Object(o.W)(),R&&R.c(),Object(o.g)(i,"class","pg-button"),Object(o.g)(i,"type","button"),Object(o.g)(i,"title","Zoom in"),Object(o.g)(i,"aria-label","Zoom in"),i.disabled=a=!e[1]||e[1].getZoom()<=e[1].getMinZoom(),Object(o.g)(r,"class","pg-button"),Object(o.g)(r,"type","button"),Object(o.g)(r,"title","Zoom out"),Object(o.g)(r,"aria-label","Zoom out"),r.disabled=b=!e[1]||e[1].getZoom()>=e[1].getMaxZoom(),Object(o.g)(c,"class","pg-button-vertical-group svelte-1ncn4fm"),Object(o.g)(m,"class","pg-button"),Object(o.g)(m,"type","button"),Object(o.g)(m,"title","Show entire map"),Object(o.g)(m,"aria-label","Show entire map"),m.disabled=v=!e[1],Object(o.g)(g,"class","svelte-1ncn4fm"),Object(o.g)(t,"class",w="root base-font-size "+e[0]+" svelte-1ncn4fm")},m(a,b){Object(o.F)(a,t,b),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.I)(n,i,null),Object(o.e)(c,s),Object(o.e)(c,r),Object(o.I)(l,r,null),Object(o.e)(t,j),Object(o.e)(t,g),Object(o.e)(g,m),Object(o.I)(f,m,null),Object(o.e)(t,y),L&&L.m(t,null),Object(o.e)(t,_),R&&R.m(t,null),$=!0,S||(x=[Object(o.H)(i,"click",e[6]),Object(o.H)(r,"click",e[7]),Object(o.H)(m,"click",e[8])],S=!0)},p(e,[c]){(!$||2&c&&a!==(a=!e[1]||e[1].getZoom()<=e[1].getMinZoom()))&&(i.disabled=a),(!$||2&c&&b!==(b=!e[1]||e[1].getZoom()>=e[1].getMaxZoom()))&&(r.disabled=b),(!$||2&c&&v!==(v=!e[1]))&&(m.disabled=v),e[2]&&e[4]?L?(L.p(e,c),20&c&&Object(o.db)(L,1)):(L=h(e),L.c(),Object(o.db)(L,1),L.m(t,_)):L&&(Object(o.B)(),Object(o.eb)(L,1,1,()=>{L=null}),Object(o.k)()),e[3]?R||(R=p(),R.c(),R.m(t,null)):R&&(R.d(1),R=null),(!$||1&c&&w!==(w="root base-font-size "+e[0]+" svelte-1ncn4fm"))&&Object(o.g)(t,"class",w)},i(e){$||(Object(o.db)(n.$$.fragment,e),Object(o.db)(l.$$.fragment,e),Object(o.db)(f.$$.fragment,e),Object(o.db)(L),$=!0)},o(e){Object(o.eb)(n.$$.fragment,e),Object(o.eb)(l.$$.fragment,e),Object(o.eb)(f.$$.fragment,e),Object(o.eb)(L),$=!1},d(e){e&&Object(o.t)(t),Object(o.r)(n),Object(o.r)(l),Object(o.r)(f),L&&L.d(),R&&R.d(),S=!1,Object(o.O)(x)}}}function m(e,t,c){let n,a;Object(o.l)(e,i.u,e=>c(4,n=e)),Object(o.l)(e,i.q,e=>c(5,a=e));let{className:s=""}=t,{zoom:r}=t,{showEncodings:l=!1}=t,{loading:b=!1}=t;return e.$$set=e=>{"className"in e&&c(0,s=e.className),"zoom"in e&&c(1,r=e.zoom),"showEncodings"in e&&c(2,l=e.showEncodings),"loading"in e&&c(3,b=e.loading)},[s,r,l,b,n,a,()=>{Object(j.a)("map","zoomIn"),r.zoomIn()},()=>{Object(j.a)("map","zoomOut"),r.zoomOut()},()=>{Object(j.a)("map","zoomReset"),r.resetZoom()},()=>{i.q.set("color")},()=>{i.q.set("bubble")},()=>{i.q.set("spike")}]}class f extends o.b{constructor(e){super(),Object(o.E)(this,e,m,g,o.P,{className:0,zoom:1,showEncodings:2,loading:3})}}var v=f,y=c(405),_=c(155);c(343);function w(e){let t,c,i,n,a,s,r,l,b,u,O,d,j,h,p,g,m,f,v=_.a.increasingIcon+"",y=_.a.steadyIcon+"",w=_.a.decreasingIcon+"";return{c(){t=Object(o.u)("ul"),c=Object(o.u)("li"),i=Object(o.u)("div"),n=Object(o.W)(),s=Object(o.ab)("\n    Increasing"),r=Object(o.W)(),l=Object(o.u)("li"),b=Object(o.u)("div"),u=Object(o.W)(),d=Object(o.ab)("\n    Steady"),j=Object(o.W)(),h=Object(o.u)("li"),p=Object(o.u)("div"),g=Object(o.W)(),f=Object(o.ab)("\n    Decreasing"),Object(o.g)(i,"class","color-block svelte-i5n6tl"),Object(o.V)(i,"background-color",_.a.increasing),a=new o.a(s),Object(o.g)(c,"class","svelte-i5n6tl"),Object(o.g)(b,"class","color-block svelte-i5n6tl"),Object(o.V)(b,"background-color",_.a.steady),O=new o.a(d),Object(o.g)(l,"class","svelte-i5n6tl"),Object(o.g)(p,"class","color-block svelte-i5n6tl"),Object(o.V)(p,"background-color",_.a.decreasing),m=new o.a(f),Object(o.g)(h,"class","svelte-i5n6tl"),Object(o.g)(t,"class","svelte-i5n6tl")},m(e,_){Object(o.F)(e,t,_),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(c,n),a.m(v,c),Object(o.e)(c,s),Object(o.e)(t,r),Object(o.e)(t,l),Object(o.e)(l,b),Object(o.e)(l,u),O.m(y,l),Object(o.e)(l,d),Object(o.e)(t,j),Object(o.e)(t,h),Object(o.e)(h,p),Object(o.e)(h,g),m.m(w,h),Object(o.e)(h,f)},p:o.J,i:o.J,o:o.J,d(e){e&&Object(o.t)(t)}}}class $ extends o.b{constructor(e){super(),Object(o.E)(this,e,null,w,o.P,{})}}var S=$,x=c(400);c(344);function L(e,t,c){const o=e.slice();return o[8]=t[c],o}function R(e){let t,c,i,n=e[1].high+"";return{c(){t=Object(o.u)("li"),c=Object(o.ab)(n),Object(o.g)(t,"class","tick svelte-uoycec"),Object(o.V)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),Object(o.g)(t,"title",i=e[8].label)},m(e,i){Object(o.F)(e,t,i),Object(o.e)(t,c)},p(e,a){2&a&&n!==(n=e[1].high+"")&&Object(o.S)(c,n),2&a&&Object(o.V)(t,"background-image","linear-gradient(to right, "+e[8].color+", "+e[8].nextColor+")"),2&a&&i!==(i=e[8].label)&&Object(o.g)(t,"title",i)},d(e){e&&Object(o.t)(t)}}}function k(e){let t,c,i,n,a,s,r,l,b,u,O,d=e[1].high+"",j=e[1].high+"",h=e[1].labels,p=[];for(let t=0;t<h.length;t+=1)p[t]=R(L(e,h,t));return{c(){t=Object(o.u)("ul"),c=Object(o.u)("li"),i=Object(o.ab)(d),n=Object(o.W)(),a=Object(o.u)("li"),s=Object(o.ab)(j),l=Object(o.W)();for(let e=0;e<p.length;e+=1)p[e].c();b=Object(o.W)(),u=Object(o.u)("li"),Object(o.g)(c,"class","tick tick-single svelte-uoycec"),Object(o.V)(c,"background","repeating-linear-gradient(-45deg, "+_.e+", white 30%)"),Object(o.g)(c,"title","NA"),Object(o.g)(a,"class","tick tick-single tick-space svelte-uoycec"),Object(o.V)(a,"background-color",_.f),Object(o.g)(a,"title",r=e[1].low),Object(o.g)(u,"class","tick tick-last svelte-uoycec"),Object(o.g)(u,"title",O=e[1].high),Object(o.g)(t,"class","svelte-uoycec"),Object(o.cb)(t,"loading-bg",e[0])},m(e,r){Object(o.F)(e,t,r),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(t,n),Object(o.e)(t,a),Object(o.e)(a,s),Object(o.e)(t,l);for(let e=0;e<p.length;e+=1)p[e].m(t,null);Object(o.e)(t,b),Object(o.e)(t,u)},p(e,[c]){if(2&c&&d!==(d=e[1].high+"")&&Object(o.S)(i,d),2&c&&j!==(j=e[1].high+"")&&Object(o.S)(s,j),2&c&&r!==(r=e[1].low)&&Object(o.g)(a,"title",r),2&c){let o;for(h=e[1].labels,o=0;o<h.length;o+=1){const i=L(e,h,o);p[o]?p[o].p(i,c):(p[o]=R(i),p[o].c(),p[o].m(t,b))}for(;o<p.length;o+=1)p[o].d(1);p.length=h.length}2&c&&O!==(O=e[1].high)&&Object(o.g)(u,"title",O),1&c&&Object(o.cb)(t,"loading-bg",e[0])},i:o.J,o:o.J,d(e){e&&Object(o.t)(t),Object(o.s)(p,e)}}}function P(e,t,c){let n,a,s,r,l,b;Object(o.l)(e,i.E,e=>c(2,n=e)),Object(o.l)(e,i.o,e=>c(3,a=e)),Object(o.l)(e,i.j,e=>c(4,s=e)),Object(o.l)(e,i.d,e=>c(5,r=e)),Object(o.l)(e,i.A,e=>c(6,l=e)),Object(o.l)(e,i.t,e=>c(7,b=e));let u,{loading:O=!1}=t;return e.$$set=e=>{"loading"in e&&c(0,O=e.loading)},e.$$.update=()=>{252&e.$$.dirty&&c(1,u=Object(x.c)(n,a,s,r,l,b))},[O,u]}class M extends o.b{constructor(e){super(),Object(o.E)(this,e,P,k,o.P,{loading:0})}}var A=M,V=c(399);c(345);function z(e,t,c){const o=e.slice();return o[10]=t[c],o}function D(e){let t,c,i,n,a,s,r=e[10].label+"";return{c(){t=Object(o.u)("li"),c=Object(o.u)("div"),i=Object(o.u)("div"),n=Object(o.W)(),a=Object(o.u)("span"),s=Object(o.ab)(r),Object(o.g)(i,"class","bubble svelte-ulh4py"),Object(o.V)(i,"width",2*e[3](e[10].value)*e[1]+"px"),Object(o.V)(i,"height",2*e[3](e[10].value)*e[1]+"px"),Object(o.V)(i,"background",Object(V.c)(e[10].color,_.b.fillOpacity)),Object(o.V)(i,"border-color",e[10].color),Object(o.g)(c,"class","bubble-wrapper svelte-ulh4py"),Object(o.g)(t,"class","svelte-ulh4py")},m(e,r){Object(o.F)(e,t,r),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(t,n),Object(o.e)(t,a),Object(o.e)(a,s)},p(e,t){14&t&&Object(o.V)(i,"width",2*e[3](e[10].value)*e[1]+"px"),14&t&&Object(o.V)(i,"height",2*e[3](e[10].value)*e[1]+"px"),4&t&&Object(o.V)(i,"background",Object(V.c)(e[10].color,_.b.fillOpacity)),4&t&&Object(o.V)(i,"border-color",e[10].color),4&t&&r!==(r=e[10].label+"")&&Object(o.S)(s,r)},d(e){e&&Object(o.t)(t)}}}function E(e){let t,c,i,n,a,s,r,l,b=e[2].high+"",u=e[2].labels,O=[];for(let t=0;t<u.length;t+=1)O[t]=D(z(e,u,t));return{c(){t=Object(o.u)("ul");for(let e=0;e<O.length;e+=1)O[e].c();c=Object(o.W)(),i=Object(o.u)("li"),n=Object(o.u)("div"),a=Object(o.u)("div"),s=Object(o.W)(),r=Object(o.u)("span"),l=Object(o.ab)(b),Object(o.V)(a,"width",2*e[3](e[2].highValue)*e[1]+"px"),Object(o.V)(a,"height",2*e[3](e[2].highValue)*e[1]+"px"),Object(o.V)(a,"background",Object(V.c)(e[2].highColor,_.b.fillOpacity)),Object(o.V)(a,"border-color",e[2].highColor),Object(o.g)(a,"class","bubble svelte-ulh4py"),Object(o.g)(n,"class","bubble-wrapper svelte-ulh4py"),Object(o.g)(i,"class","svelte-ulh4py"),Object(o.g)(t,"class","svelte-ulh4py"),Object(o.cb)(t,"loading-bg",e[0])},m(e,b){Object(o.F)(e,t,b);for(let e=0;e<O.length;e+=1)O[e].m(t,null);Object(o.e)(t,c),Object(o.e)(t,i),Object(o.e)(i,n),Object(o.e)(n,a),Object(o.e)(i,s),Object(o.e)(i,r),Object(o.e)(r,l)},p(e,[i]){if(14&i){let o;for(u=e[2].labels,o=0;o<u.length;o+=1){const n=z(e,u,o);O[o]?O[o].p(n,i):(O[o]=D(n),O[o].c(),O[o].m(t,c))}for(;o<O.length;o+=1)O[o].d(1);O.length=u.length}14&i&&Object(o.V)(a,"width",2*e[3](e[2].highValue)*e[1]+"px"),14&i&&Object(o.V)(a,"height",2*e[3](e[2].highValue)*e[1]+"px"),4&i&&Object(o.V)(a,"background",Object(V.c)(e[2].highColor,_.b.fillOpacity)),4&i&&Object(o.V)(a,"border-color",e[2].highColor),4&i&&b!==(b=e[2].high+"")&&Object(o.S)(l,b),1&i&&Object(o.cb)(t,"loading-bg",e[0])},i:o.J,o:o.J,d(e){e&&Object(o.t)(t),Object(o.s)(O,e)}}}function C(e,t,c){let n,a,s,r,l,b,u;Object(o.l)(e,i.E,e=>c(4,n=e)),Object(o.l)(e,i.o,e=>c(5,a=e)),Object(o.l)(e,i.j,e=>c(6,s=e)),Object(o.l)(e,i.d,e=>c(7,r=e)),Object(o.l)(e,i.A,e=>c(8,l=e)),Object(o.l)(e,i.t,e=>c(9,b=e)),Object(o.l)(e,i.c,e=>c(3,u=e));let O,{loading:d=!1}=t,{zoom:j=1}=t;return e.$$set=e=>{"loading"in e&&c(0,d=e.loading),"zoom"in e&&c(1,j=e.zoom)},e.$$.update=()=>{1008&e.$$.dirty&&c(2,O=Object(x.c)(n,a,s,r,l,b))},[d,j,O,u]}class F extends o.b{constructor(e){super(),Object(o.E)(this,e,C,E,o.P,{loading:0,zoom:1})}}var Z=F;c(346);function B(e,t,c){const o=e.slice();return o[14]=t[c],o}function I(e){let t,c,i,n,a,s,r,l,b,u,O,d,j=e[14].label+"";return{c(){t=Object(o.u)("li"),c=Object(o.Z)("svg"),i=Object(o.Z)("g"),n=Object(o.Z)("path"),u=Object(o.W)(),O=Object(o.u)("span"),d=Object(o.ab)(j),Object(o.g)(n,"d",a=e[2](e[14].value)),Object(o.g)(n,"class","spike svelte-e80jt3"),Object(o.g)(n,"fill",s=Object(V.c)(e[14].color,_.c.fillOpacity)),Object(o.g)(n,"stroke",r=Object(V.c)(e[14].color,_.c.strokeOpacity)),Object(o.V)(i,"transform","translate("+W+"px, "+W+"px)"),Object(o.g)(c,"width",l=2*e[3]+2*W),Object(o.g)(c,"height",b=e[5](e[14].value)*e[1]+2*W),Object(o.g)(c,"class","svelte-e80jt3"),Object(o.g)(t,"class","legend-direct-tick svelte-e80jt3")},m(e,a){Object(o.F)(e,t,a),Object(o.e)(t,c),Object(o.e)(c,i),Object(o.e)(i,n),Object(o.e)(t,u),Object(o.e)(t,O),Object(o.e)(O,d)},p(e,t){20&t&&a!==(a=e[2](e[14].value))&&Object(o.g)(n,"d",a),16&t&&s!==(s=Object(V.c)(e[14].color,_.c.fillOpacity))&&Object(o.g)(n,"fill",s),16&t&&r!==(r=Object(V.c)(e[14].color,_.c.strokeOpacity))&&Object(o.g)(n,"stroke",r),8&t&&l!==(l=2*e[3]+2*W)&&Object(o.g)(c,"width",l),50&t&&b!==(b=e[5](e[14].value)*e[1]+2*W)&&Object(o.g)(c,"height",b),16&t&&j!==(j=e[14].label+"")&&Object(o.S)(d,j)},d(e){e&&Object(o.t)(t)}}}function T(e){let t,c,i,n,a,s,r,l,b,u,O,d,j,h,p=e[4].high+"",g=e[4].labels,m=[];for(let t=0;t<g.length;t+=1)m[t]=I(B(e,g,t));return{c(){t=Object(o.u)("ul");for(let e=0;e<m.length;e+=1)m[e].c();c=Object(o.W)(),i=Object(o.u)("li"),n=Object(o.Z)("svg"),a=Object(o.Z)("g"),s=Object(o.Z)("path"),d=Object(o.W)(),j=Object(o.u)("span"),h=Object(o.ab)(p),Object(o.g)(s,"d",r=e[2](e[4].highValue)),Object(o.g)(s,"class","spike svelte-e80jt3"),Object(o.g)(s,"fill",l=Object(V.c)(e[4].highColor,_.c.fillOpacity)),Object(o.g)(s,"stroke",b=Object(V.c)(e[4].highColor,_.c.strokeOpacity)),Object(o.V)(a,"transform","translate("+W+"px, "+W+"px)"),Object(o.g)(n,"width",u=2*e[3]+2*W),Object(o.g)(n,"height",O=e[5](e[4].highValue)*e[1]+2*W),Object(o.g)(n,"class","svelte-e80jt3"),Object(o.g)(i,"class","legend-direct-tick svelte-e80jt3"),Object(o.g)(t,"class","legend-ticks svelte-e80jt3"),Object(o.cb)(t,"loading-bg",e[0])},m(e,r){Object(o.F)(e,t,r);for(let e=0;e<m.length;e+=1)m[e].m(t,null);Object(o.e)(t,c),Object(o.e)(t,i),Object(o.e)(i,n),Object(o.e)(n,a),Object(o.e)(a,s),Object(o.e)(i,d),Object(o.e)(i,j),Object(o.e)(j,h)},p(e,[i]){if(62&i){let o;for(g=e[4].labels,o=0;o<g.length;o+=1){const n=B(e,g,o);m[o]?m[o].p(n,i):(m[o]=I(n),m[o].c(),m[o].m(t,c))}for(;o<m.length;o+=1)m[o].d(1);m.length=g.length}20&i&&r!==(r=e[2](e[4].highValue))&&Object(o.g)(s,"d",r),16&i&&l!==(l=Object(V.c)(e[4].highColor,_.c.fillOpacity))&&Object(o.g)(s,"fill",l),16&i&&b!==(b=Object(V.c)(e[4].highColor,_.c.strokeOpacity))&&Object(o.g)(s,"stroke",b),8&i&&u!==(u=2*e[3]+2*W)&&Object(o.g)(n,"width",u),50&i&&O!==(O=e[5](e[4].highValue)*e[1]+2*W)&&Object(o.g)(n,"height",O),16&i&&p!==(p=e[4].high+"")&&Object(o.S)(h,p),1&i&&Object(o.cb)(t,"loading-bg",e[0])},i:o.J,o:o.J,d(e){e&&Object(o.t)(t),Object(o.s)(m,e)}}}const W=2;function N(e,t,c){let n,a,s,r,l,b,u;Object(o.l)(e,i.j,e=>c(6,n=e)),Object(o.l)(e,i.E,e=>c(8,a=e)),Object(o.l)(e,i.o,e=>c(9,s=e)),Object(o.l)(e,i.d,e=>c(10,r=e)),Object(o.l)(e,i.A,e=>c(11,l=e)),Object(o.l)(e,i.t,e=>c(12,b=e)),Object(o.l)(e,i.D,e=>c(5,u=e));let O,d,j,h,{loading:p=!1}=t,{zoom:g=1}=t,m=()=>"";return e.$$set=e=>{"loading"in e&&c(0,p=e.loading),"zoom"in e&&c(1,g=e.zoom)},e.$$.update=()=>{if(66&e.$$.dirty&&c(3,O=_.c.size[n]*g),66&e.$$.dirty&&c(7,d=_.c.maxHeight[n]*g),8e3&e.$$.dirty&&c(4,j=Object(x.c)(a,s,n,r,l,b)),128&e.$$.dirty&&(h=d+2*W),42&e.$$.dirty){const e=u,t=g,o=O;c(2,m=c=>"M 0 ".concat(e(c)*t," L ").concat(o," 0 L ").concat(2*o," ").concat(e(c)*t))}},[p,g,m,O,j,u]}class H extends o.b{constructor(e){super(),Object(o.E)(this,e,N,T,o.P,{loading:0,zoom:1})}}var J=H;c(347);function U(e){let t,c;return t=new J({props:{loading:e[2],zoom:e[3]}}),{c(){Object(o.n)(t.$$.fragment)},m(e,i){Object(o.I)(t,e,i),c=!0},p(e,c){const o={};4&c&&(o.loading=e[2]),8&c&&(o.zoom=e[3]),t.$set(o)},i(e){c||(Object(o.db)(t.$$.fragment,e),c=!0)},o(e){Object(o.eb)(t.$$.fragment,e),c=!1},d(e){Object(o.r)(t,e)}}}function Y(e){let t,c;return t=new Z({props:{loading:e[2],zoom:e[3]}}),{c(){Object(o.n)(t.$$.fragment)},m(e,i){Object(o.I)(t,e,i),c=!0},p(e,c){const o={};4&c&&(o.loading=e[2]),8&c&&(o.zoom=e[3]),t.$set(o)},i(e){c||(Object(o.db)(t.$$.fragment,e),c=!0)},o(e){Object(o.eb)(t.$$.fragment,e),c=!1},d(e){Object(o.r)(t,e)}}}function q(e){let t,c;return t=new A({props:{loading:e[2]}}),{c(){Object(o.n)(t.$$.fragment)},m(e,i){Object(o.I)(t,e,i),c=!0},p(e,c){const o={};4&c&&(o.loading=e[2]),t.$set(o)},i(e){c||(Object(o.db)(t.$$.fragment,e),c=!0)},o(e){Object(o.eb)(t.$$.fragment,e),c=!1},d(e){Object(o.r)(t,e)}}}function G(e){let t,c;return t=new S({}),{c(){Object(o.n)(t.$$.fragment)},m(e,i){Object(o.I)(t,e,i),c=!0},p:o.J,i(e){c||(Object(o.db)(t.$$.fragment,e),c=!0)},o(e){Object(o.eb)(t.$$.fragment,e),c=!1},d(e){Object(o.r)(t,e)}}}function X(e){let t,c,i,n,a,s,r,l,u,O,d,j,h,p,g,m;i=new b({props:{showDate:e[4]}}),s=new v({props:{zoom:e[0]?e[0].zoom:null,showEncodings:!0,loading:e[1]}}),u=new y.a({props:{sensor:e[5],className:"container-bg container-style encoding-wrapper"}});const f=[G,q,Y,U],_=[];function w(e,t){return e[6]?0:"color"===e[7]?1:"bubble"===e[7]?2:"spike"===e[7]?3:-1}return~(p=w(e))&&(g=_[p]=f[p](e)),{c(){t=Object(o.u)("div"),c=Object(o.u)("div"),Object(o.n)(i.$$.fragment),n=Object(o.W)(),a=Object(o.u)("div"),Object(o.n)(s.$$.fragment),r=Object(o.W)(),l=Object(o.u)("div"),Object(o.n)(u.$$.fragment),O=Object(o.W)(),d=Object(o.u)("div"),j=Object(o.u)("div"),h=Object(o.W)(),g&&g.c(),Object(o.g)(c,"class","title-container svelte-1s00nw2"),Object(o.g)(a,"class","map-controls-container svelte-1s00nw2"),Object(o.g)(t,"class","map-top-overlay svelte-1s00nw2"),Object(o.g)(j,"class","signal-description svelte-1s00nw2"),Object(o.g)(d,"class","container-bg container-style"),Object(o.g)(l,"class","legend-container base-font-size svelte-1s00nw2"),Object(o.g)(l,"aria-label","map legend")},m(e,b){Object(o.F)(e,t,b),Object(o.e)(t,c),Object(o.I)(i,c,null),Object(o.e)(t,n),Object(o.e)(t,a),Object(o.I)(s,a,null),Object(o.F)(e,r,b),Object(o.F)(e,l,b),Object(o.I)(u,l,null),Object(o.e)(l,O),Object(o.e)(l,d),Object(o.e)(d,j),Object(o.e)(d,h),~p&&_[p].m(d,null),m=!0},p(e,[t]){const c={};16&t&&(c.showDate=e[4]),i.$set(c);const n={};1&t&&(n.zoom=e[0]?e[0].zoom:null),2&t&&(n.loading=e[1]),s.$set(n);const a={};32&t&&(a.sensor=e[5]),u.$set(a);let r=p;p=w(e),p===r?~p&&_[p].p(e,t):(g&&(Object(o.B)(),Object(o.eb)(_[r],1,1,()=>{_[r]=null}),Object(o.k)()),~p?(g=_[p],g||(g=_[p]=f[p](e),g.c()),Object(o.db)(g,1),g.m(d,null)):g=null)},i(e){m||(Object(o.db)(i.$$.fragment,e),Object(o.db)(s.$$.fragment,e),Object(o.db)(u.$$.fragment,e),Object(o.db)(g),m=!0)},o(e){Object(o.eb)(i.$$.fragment,e),Object(o.eb)(s.$$.fragment,e),Object(o.eb)(u.$$.fragment,e),Object(o.eb)(g),m=!1},d(e){e&&Object(o.t)(t),Object(o.r)(i),Object(o.r)(s),e&&Object(o.t)(r),e&&Object(o.t)(l),Object(o.r)(u),~p&&_[p].d()}}}function K(e,t,c){let n,a,s;Object(o.l)(e,i.o,e=>c(5,n=e)),Object(o.l)(e,i.s,e=>c(6,a=e)),Object(o.l)(e,i.q,e=>c(7,s=e));let{map:r=null}=t,{mapLoading:l=!0}=t,{legendLoading:b=!0}=t,{zoom:u=1}=t,{showDate:O=!1}=t;return e.$$set=e=>{"map"in e&&c(0,r=e.map),"mapLoading"in e&&c(1,l=e.mapLoading),"legendLoading"in e&&c(2,b=e.legendLoading),"zoom"in e&&c(3,u=e.zoom),"showDate"in e&&c(4,O=e.showDate)},[r,l,b,u,O,n,a,s]}class Q extends o.b{constructor(e){super(),Object(o.E)(this,e,K,X,o.P,{map:0,mapLoading:1,legendLoading:2,zoom:3,showDate:4})}}t.a=Q}}]);