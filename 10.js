(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{389:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c(211),b=c(68),l=c(458),s=c(6),O=c(161),j=c(3),o=c(159),i=c(160),d=c(118),r=c(335);c(390);function u(t,e,c){const a=t.slice();return a[29]=e[c],a}function h(t,e,c){const a=t.slice();return a[11]=e[c],a}function p(t,e,c){const a=t.slice();return a[34]=e[c],a}function v(t){let e,c,n,b=t[34].name+"";return{c(){e=Object(a.v)("option"),c=Object(a.ab)(b),e.__value=n=t[34].id,e.value=e.__value},m(t,n){Object(a.G)(t,e,n),Object(a.f)(e,c)},p(t,l){2&l[0]&&b!==(b=t[34].name+"")&&Object(a.T)(c,b),2&l[0]&&n!==(n=t[34].id)&&(e.__value=n,e.value=e.__value)},d(t){t&&Object(a.u)(e)}}}function f(t){let e;return{c(){e=Object(a.v)("option"),e.textContent="Select a Data Source first",e.__value="",e.value=e.__value},m(t,c){Object(a.G)(t,e,c)},p:a.K,d(t){t&&Object(a.u)(e)}}}function g(t){let e,c=t[10].signals,n=[];for(let e=0;e<c.length;e+=1)n[e]=m(h(t,c,e));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=Object(a.w)()},m(t,c){for(let e=0;e<n.length;e+=1)n[e].m(t,c);Object(a.G)(t,e,c)},p(t,a){if(1024&a[0]){let b;for(c=t[10].signals,b=0;b<c.length;b+=1){const l=h(t,c,b);n[b]?n[b].p(l,a):(n[b]=m(l),n[b].c(),n[b].m(e.parentNode,e))}for(;b<n.length;b+=1)n[b].d(1);n.length=c.length}},d(t){Object(a.t)(n,t),t&&Object(a.u)(e)}}}function m(t){let e,c,n,b=t[11].name+"";return{c(){e=Object(a.v)("option"),c=Object(a.ab)(b),e.__value=n=t[11].id,e.value=e.__value},m(t,n){Object(a.G)(t,e,n),Object(a.f)(e,c)},p(t,l){1024&l[0]&&b!==(b=t[11].name+"")&&Object(a.T)(c,b),1024&l[0]&&n!==(n=t[11].id)&&(e.__value=n,e.value=e.__value)},d(t){t&&Object(a.u)(e)}}}function y(t){let e,c,n,b,l,s,O,j,o,i=t[11].name+"",d=t[11].description+"",r=t[11].entry&&_(t),u=t[11].entry&&G(t);return{c(){e=Object(a.v)("h6"),c=Object(a.ab)(i),n=Object(a.W)(),r&&r.c(),b=Object(a.W)(),l=Object(a.v)("p"),s=Object(a.ab)(d),O=Object(a.W)(),u&&u.c(),j=Object(a.w)(),Object(a.h)(l,"class","svelte-dlqz4a")},m(t,i){Object(a.G)(t,e,i),Object(a.f)(e,c),Object(a.f)(e,n),r&&r.m(e,null),Object(a.G)(t,b,i),Object(a.G)(t,l,i),Object(a.f)(l,s),Object(a.G)(t,O,i),u&&u.m(t,i),Object(a.G)(t,j,i),o=!0},p(t,n){(!o||2048&n[0])&&i!==(i=t[11].name+"")&&Object(a.T)(c,i),t[11].entry?r?(r.p(t,n),2048&n[0]&&Object(a.db)(r,1)):(r=_(t),r.c(),Object(a.db)(r,1),r.m(e,null)):r&&(Object(a.C)(),Object(a.eb)(r,1,1,()=>{r=null}),Object(a.l)()),(!o||2048&n[0])&&d!==(d=t[11].description+"")&&Object(a.T)(s,d),t[11].entry?u?u.p(t,n):(u=G(t),u.c(),u.m(j.parentNode,j)):u&&(u.d(1),u=null)},i(t){o||(Object(a.db)(r),o=!0)},o(t){Object(a.eb)(r),o=!1},d(t){t&&Object(a.u)(e),r&&r.d(),t&&Object(a.u)(b),t&&Object(a.u)(l),t&&Object(a.u)(O),u&&u.d(t),t&&Object(a.u)(j)}}}function _(t){let e,c,n,b,l;return c=new r.a({}),{c(){e=Object(a.v)("button"),Object(a.o)(c.$$.fragment),Object(a.h)(e,"title","Show sensor description"),Object(a.h)(e,"class","pg-button pg-button-circle info svelte-dlqz4a")},m(s,O){Object(a.G)(s,e,O),Object(a.J)(c,e,null),n=!0,b||(l=Object(a.I)(e,"click",t[17]),b=!0)},p:a.K,i(t){n||(Object(a.db)(c.$$.fragment,t),n=!0)},o(t){Object(a.eb)(c.$$.fragment,t),n=!1},d(t){t&&Object(a.u)(e),Object(a.s)(c),b=!1,l()}}}function G(t){let e,c,n,b=t[11].entry.links.join(", ")+"";return{c(){e=Object(a.v)("p"),c=Object(a.ab)("See also:\n              "),n=new a.a(null),Object(a.h)(e,"class","svelte-dlqz4a")},m(t,l){Object(a.G)(t,e,l),Object(a.f)(e,c),n.m(b,e)},p(t,e){2048&e[0]&&b!==(b=t[11].entry.links.join(", ")+"")&&n.p(b)},d(t){t&&Object(a.u)(e)}}}function $(t){let e,c,n,b,l=t[12](t[6])+"";return{c(){e=Object(a.v)("button"),c=Object(a.ab)(l),Object(a.h)(e,"aria-label","selected start date"),Object(a.h)(e,"class","pg-button svelte-dlqz4a")},m(l,s){Object(a.G)(l,e,s),Object(a.f)(e,c),n||(b=Object(a.I)(e,"",t[14]),n=!0)},p(t,e){64&e[0]&&l!==(l=t[12](t[6])+"")&&Object(a.T)(c,l)},d(t){t&&Object(a.u)(e),n=!1,b()}}}function q(t){let e,c,n,b,l=t[12](t[5])+"";return{c(){e=Object(a.v)("button"),c=Object(a.ab)(l),Object(a.h)(e,"aria-label","selected end date"),Object(a.h)(e,"class","pg-button svelte-dlqz4a")},m(l,s){Object(a.G)(l,e,s),Object(a.f)(e,c),n||(b=Object(a.I)(e,"",t[13]),n=!0)},p(t,e){32&e[0]&&l!==(l=t[12](t[5])+"")&&Object(a.T)(c,l)},d(t){t&&Object(a.u)(e),n=!1,b()}}}function z(t){let e,c,n,b,l,s=t[29].labelPlural+"";return{c(){e=Object(a.v)("option"),c=Object(a.ab)(s),n=Object(a.W)(),e.__value=b=t[29].id,e.value=e.__value,e.disabled=l=!t[10]||!t[10].levels.has(t[29].id)},m(t,b){Object(a.G)(t,e,b),Object(a.f)(e,c),Object(a.f)(e,n)},p(t,n){128&n[0]&&s!==(s=t[29].labelPlural+"")&&Object(a.T)(c,s),128&n[0]&&b!==(b=t[29].id)&&(e.__value=b,e.value=e.__value),1152&n[0]&&l!==(l=!t[10]||!t[10].levels.has(t[29].id))&&(e.disabled=l)},d(t){t&&Object(a.u)(e)}}}function W(t){let e,c,n,b,l,s,O,j,o,i,d='library(covidcast)\n\ncc_data <- suppressMessages(\ncovidcast_signal(data_source = "'.concat(t[11]?t[11].dataSource:"",'", signal = "').concat(t[11]?t[11].signal:"",'",\n                 start_day = "').concat(t[12](t[6]),'", end_day = "').concat(t[12](t[5]),'",\n                 geo_type = "').concat(t[4],'")\n)')+"";return{c(){e=Object(a.v)("p"),e.innerHTML='Install <code>covidcast</code> using <a href="https://devtools.r-lib.org/">devtools</a> :',c=Object(a.W)(),n=Object(a.v)("pre"),n.textContent='devtools::install_github("cmu-delphi/covidcast", ref = "main", subdir = "R-packages/covidcast")',b=Object(a.W)(),l=Object(a.v)("p"),l.textContent="Fetch data:",s=Object(a.W)(),O=Object(a.v)("pre"),j=Object(a.ab)(d),o=Object(a.W)(),i=Object(a.v)("p"),i.innerHTML='For more details and examples, see the <a href="https://cmu-delphi.github.io/covidcast/covidcastR/">package\n          documentation</a>. A description of the returned data structure can be found at: <a href="https://cmu-delphi.github.io/covidcast/covidcastR/reference/covidcast_signal.html#value">covidcast_signal</a>.',Object(a.h)(e,"class","svelte-dlqz4a"),Object(a.h)(n,"class","svelte-dlqz4a"),Object(a.h)(l,"class","svelte-dlqz4a"),Object(a.h)(O,"class","svelte-dlqz4a"),Object(a.h)(i,"class","description svelte-dlqz4a")},m(t,d){Object(a.G)(t,e,d),Object(a.G)(t,c,d),Object(a.G)(t,n,d),Object(a.G)(t,b,d),Object(a.G)(t,l,d),Object(a.G)(t,s,d),Object(a.G)(t,O,d),Object(a.f)(O,j),Object(a.G)(t,o,d),Object(a.G)(t,i,d)},p(t,e){2160&e[0]&&d!==(d='library(covidcast)\n\ncc_data <- suppressMessages(\ncovidcast_signal(data_source = "'.concat(t[11]?t[11].dataSource:"",'", signal = "').concat(t[11]?t[11].signal:"",'",\n                 start_day = "').concat(t[12](t[6]),'", end_day = "').concat(t[12](t[5]),'",\n                 geo_type = "').concat(t[4],'")\n)')+"")&&Object(a.T)(j,d)},d(t){t&&Object(a.u)(e),t&&Object(a.u)(c),t&&Object(a.u)(n),t&&Object(a.u)(b),t&&Object(a.u)(l),t&&Object(a.u)(s),t&&Object(a.u)(O),t&&Object(a.u)(o),t&&Object(a.u)(i)}}}function S(t){let e,c,n,b,l,s,O,j,o,i,d='from datetime import date\nimport covidcast\n\ndata = covidcast.signal("'.concat(t[11]?t[11].dataSource:"",'", "').concat(t[11]?t[11].signal:"",'",\n                        date(').concat(t[6].getFullYear(),", ").concat(t[6].getMonth()+1,", ").concat(t[6].getDate(),"), date(").concat(t[5].getFullYear(),", ").concat(t[5].getMonth()+1,", ").concat(t[5].getDate(),'),\n                        "').concat(t[4],'")')+"";return{c(){e=Object(a.v)("p"),e.innerHTML="Install <code>covidcast</code> via pip:",c=Object(a.W)(),n=Object(a.v)("pre"),n.textContent="pip install covidcast",b=Object(a.W)(),l=Object(a.v)("p"),l.textContent="Fetch data:",s=Object(a.W)(),O=Object(a.v)("pre"),j=Object(a.ab)(d),o=Object(a.W)(),i=Object(a.v)("p"),i.innerHTML='For more details and examples, see the <a href="https://cmu-delphi.github.io/covidcast/covidcast-py/html/">package documentation</a>. A description of\n        the returned data structure can be found at: <a href="https://cmu-delphi.github.io/covidcast/covidcast-py/html/signals.html#covidcast.signal">covidcast.signal</a>.',Object(a.h)(e,"class","svelte-dlqz4a"),Object(a.h)(n,"class","svelte-dlqz4a"),Object(a.h)(l,"class","svelte-dlqz4a"),Object(a.h)(O,"class","svelte-dlqz4a"),Object(a.h)(i,"class","description svelte-dlqz4a")},m(t,d){Object(a.G)(t,e,d),Object(a.G)(t,c,d),Object(a.G)(t,n,d),Object(a.G)(t,b,d),Object(a.G)(t,l,d),Object(a.G)(t,s,d),Object(a.G)(t,O,d),Object(a.f)(O,j),Object(a.G)(t,o,d),Object(a.G)(t,i,d)},p(t,e){2160&e[0]&&d!==(d='from datetime import date\nimport covidcast\n\ndata = covidcast.signal("'.concat(t[11]?t[11].dataSource:"",'", "').concat(t[11]?t[11].signal:"",'",\n                        date(').concat(t[6].getFullYear(),", ").concat(t[6].getMonth()+1,", ").concat(t[6].getDate(),"), date(").concat(t[5].getFullYear(),", ").concat(t[5].getMonth()+1,", ").concat(t[5].getDate(),'),\n                        "').concat(t[4],'")')+"")&&Object(a.T)(j,d)},d(t){t&&Object(a.u)(e),t&&Object(a.u)(c),t&&Object(a.u)(n),t&&Object(a.u)(b),t&&Object(a.u)(l),t&&Object(a.u)(s),t&&Object(a.u)(O),t&&Object(a.u)(o),t&&Object(a.u)(i)}}}function x(t){let e,c,n,b,l,s,O,j,o,i,d,r,u,h,p,v,f,g,m,y,_,G='wget --content-disposition "'.concat(w,"?signal=").concat(t[3],"&start_day=").concat(t[12](t[6]),"&end_day=").concat(t[12](t[5]),"&geo_type=").concat(t[4],'"')+"";return{c(){e=Object(a.v)("p"),e.textContent="Direct link:",c=Object(a.W)(),n=Object(a.v)("form"),b=Object(a.v)("button"),b.textContent="Download CSV File",l=Object(a.W)(),s=Object(a.v)("input"),O=Object(a.W)(),j=Object(a.v)("input"),i=Object(a.W)(),d=Object(a.v)("input"),u=Object(a.W)(),h=Object(a.v)("input"),p=Object(a.W)(),v=Object(a.v)("p"),v.textContent="Manually fetch data:",f=Object(a.W)(),g=Object(a.v)("pre"),m=Object(a.ab)(G),y=Object(a.W)(),_=Object(a.v)("p"),_.innerHTML='For more details about the API, see the <a href="https://cmu-delphi.github.io/delphi-epidata/">API documentation</a>.\n        A description of the returned data structure can be found at: <a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast.html#response">covidcast</a>.',Object(a.h)(e,"class","svelte-dlqz4a"),Object(a.h)(b,"type","submit"),Object(a.h)(b,"class","pg-button pg-text-button svelte-dlqz4a"),Object(a.h)(s,"type","hidden"),Object(a.h)(s,"name","signal"),s.value=t[3],Object(a.h)(j,"type","hidden"),Object(a.h)(j,"name","start_day"),j.value=o=t[12](t[6]),Object(a.h)(d,"type","hidden"),Object(a.h)(d,"name","end_day"),d.value=r=t[12](t[5]),Object(a.h)(h,"type","hidden"),Object(a.h)(h,"name","geo_type"),h.value=t[4],Object(a.h)(n,"id","form"),Object(a.h)(n,"method","GET"),Object(a.h)(n,"action",w),Object(a.h)(n,"download",""),Object(a.h)(v,"class","svelte-dlqz4a"),Object(a.h)(g,"class","svelte-dlqz4a"),Object(a.h)(_,"class","description svelte-dlqz4a")},m(o,r){Object(a.G)(o,e,r),Object(a.G)(o,c,r),Object(a.G)(o,n,r),Object(a.f)(n,b),Object(a.f)(n,l),Object(a.f)(n,s),Object(a.f)(n,O),Object(a.f)(n,j),Object(a.f)(n,i),Object(a.f)(n,d),Object(a.f)(n,u),Object(a.f)(n,h),t[24](n),Object(a.G)(o,p,r),Object(a.G)(o,v,r),Object(a.G)(o,f,r),Object(a.G)(o,g,r),Object(a.f)(g,m),Object(a.G)(o,y,r),Object(a.G)(o,_,r)},p(t,e){1032&e[0]&&(s.value=t[3]),64&e[0]&&o!==(o=t[12](t[6]))&&(j.value=o),32&e[0]&&r!==(r=t[12](t[5]))&&(d.value=r),144&e[0]&&(h.value=t[4]),120&e[0]&&G!==(G='wget --content-disposition "'.concat(w,"?signal=").concat(t[3],"&start_day=").concat(t[12](t[6]),"&end_day=").concat(t[12](t[5]),"&geo_type=").concat(t[4],'"')+"")&&Object(a.T)(m,G)},d(b){b&&Object(a.u)(e),b&&Object(a.u)(c),b&&Object(a.u)(n),t[24](null),b&&Object(a.u)(p),b&&Object(a.u)(v),b&&Object(a.u)(f),b&&Object(a.u)(g),b&&Object(a.u)(y),b&&Object(a.u)(_)}}}function T(t){let e,c,n,b,s,O,j,o,i,d,r,h,m,_,G,T,w,C,k,M,R,F,P,A,H,L,V,Y,E,J,K,N,Q,B,U,X,Z,tt,et,ct,at,nt,bt,lt,st,Ot,jt,ot,it,dt,rt,ut,ht,pt,vt,ft,gt,mt,yt,_t,Gt,$t,qt=(t[11]&&t[11].entry?t[11].entry.credits:"")+"",zt=t[1],Wt=[];for(let e=0;e<zt.length;e+=1)Wt[e]=v(p(t,zt,e));function St(t,e){return t[10]?g:f}let xt=St(t),Tt=xt(t),wt=t[11]&&y(t);function Ct(e){t[18].call(null,e)}let Dt={start:t[10]?t[10].minTime:new Date,end:t[10]?D(t[5],t[10].maxTime):t[5],formattedSelected:t[12](t[6]),$$slots:{default:[$]},$$scope:{ctx:t}};function It(e){t[19].call(null,e)}void 0!==t[6]&&(Dt.selected=t[6]),L=new l.a({props:Dt}),a.j.push(()=>Object(a.i)(L,"selected",Ct));let kt={start:t[10]?I(t[6],t[10].minTime):t[6],end:t[10]?t[10].maxTime:new Date,formattedSelected:t[12](t[5]),$$slots:{default:[q]},$$scope:{ctx:t}};void 0!==t[5]&&(kt.selected=t[5]),E=new l.a({props:kt}),a.j.push(()=>Object(a.i)(E,"selected",It));let Mt=t[7],Rt=[];for(let e=0;e<Mt.length;e+=1)Rt[e]=z(u(t,Mt,e));function Ft(t,e){return"csv"===t[8]?x:"python"===t[8]?S:"r"===t[8]?W:void 0}let Pt=Ft(t),At=Pt&&Pt(t);return{c(){e=Object(a.v)("div"),c=Object(a.v)("p"),c.innerHTML='All signals displayed on the COVIDcast map are freely available for download here. You can also access the latest\n    daily through the <a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast.html">COVIDcast API</a> which also\n    includes numerous other signals.',n=Object(a.W)(),b=Object(a.v)("section"),s=Object(a.v)("h5"),s.textContent="1. Select Signal",O=Object(a.W)(),j=Object(a.v)("div"),o=Object(a.v)("div"),i=Object(a.v)("label"),i.textContent="Data Sources",d=Object(a.W)(),r=Object(a.v)("select");for(let t=0;t<Wt.length;t+=1)Wt[t].c();h=Object(a.W)(),m=Object(a.v)("div"),_=Object(a.v)("label"),_.textContent="Signals",G=Object(a.W)(),T=Object(a.v)("select"),Tt.c(),w=Object(a.W)(),C=Object(a.v)("div"),wt&&wt.c(),k=Object(a.W)(),M=Object(a.v)("section"),R=Object(a.v)("h5"),R.textContent="2. Specify Parameters",F=Object(a.W)(),P=Object(a.v)("div"),A=Object(a.v)("span"),A.textContent="Date Range",H=Object(a.W)(),Object(a.o)(L.$$.fragment),Y=Object(a.ab)("\n      -\n      "),Object(a.o)(E.$$.fragment),K=Object(a.W)(),N=Object(a.v)("div"),Q=Object(a.v)("label"),Q.textContent="Geographic Level",B=Object(a.W)(),U=Object(a.v)("select");for(let t=0;t<Rt.length;t+=1)Rt[t].c();X=Object(a.W)(),Z=Object(a.v)("p"),Z.innerHTML='Each geographic region is identified with a unique identifier, such as FIPS code. See the <a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_geography.html">geographic coding documentation</a> for details.',tt=Object(a.W)(),et=Object(a.v)("section"),ct=Object(a.v)("h5"),ct.textContent="3. Get Data",at=Object(a.W)(),nt=Object(a.v)("p"),lt=Object(a.ab)("\n      Please acknowledge us as a source: "),st=Object(a.v)("cite"),st.textContent="Data from Delphi COVIDcast, covidcast.cmu.edu.",Ot=Object(a.W)(),jt=Object(a.v)("div"),ot=Object(a.v)("button"),it=Object(a.ab)("CSV"),rt=Object(a.W)(),ut=Object(a.v)("button"),ht=Object(a.ab)("Python"),vt=Object(a.W)(),ft=Object(a.v)("button"),gt=Object(a.ab)("R"),yt=Object(a.W)(),At&&At.c(),Object(a.h)(c,"class","svelte-dlqz4a"),Object(a.h)(i,"for","ds"),Object(a.h)(i,"class","svelte-dlqz4a"),Object(a.h)(r,"id","ds"),Object(a.h)(r,"size","8"),void 0===t[2]&&Object(a.d)(()=>t[15].call(r)),Object(a.h)(o,"class","block svelte-dlqz4a"),Object(a.h)(_,"for","s"),Object(a.h)(_,"class","svelte-dlqz4a"),Object(a.h)(T,"id","s"),T.required=!0,Object(a.h)(T,"size","8"),void 0===t[3]&&Object(a.d)(()=>t[16].call(T)),Object(a.h)(m,"class","block svelte-dlqz4a"),Object(a.h)(C,"class","block svelte-dlqz4a"),Object(a.h)(j,"class","group svelte-dlqz4a"),Object(a.h)(b,"class","svelte-dlqz4a"),Object(a.h)(Q,"for","geo"),Object(a.h)(U,"id","geo"),void 0===t[4]&&Object(a.d)(()=>t[20].call(U)),Object(a.h)(Z,"class","description svelte-dlqz4a"),Object(a.h)(M,"class","svelte-dlqz4a"),bt=new a.a(lt),Object(a.h)(nt,"class","svelte-dlqz4a"),Object(a.h)(ot,"class","pg-button button svelte-dlqz4a"),Object(a.h)(ot,"data-testid","csv"),ot.disabled=dt=!t[4]||!t[3],Object(a.h)(ot,"title","Get in CSV format"),Object(a.cb)(ot,"selected","csv"===t[8]),Object(a.h)(ut,"aria-pressed",pt=String("python"===t[8])),Object(a.h)(ut,"data-testid","python"),Object(a.h)(ut,"class","pg-button button svelte-dlqz4a"),Object(a.h)(ut,"title","Get Python Code"),Object(a.cb)(ut,"selected","python"===t[8]),Object(a.h)(ft,"aria-pressed",mt=String("r"===t[8])),Object(a.h)(ft,"class","pg-button button svelte-dlqz4a"),Object(a.h)(ft,"data-testid","r"),Object(a.h)(ft,"title","Get R Code"),Object(a.cb)(ft,"selected","r"===t[8]),Object(a.h)(jt,"class","pg-button-group buttons svelte-dlqz4a"),Object(a.h)(et,"class","svelte-dlqz4a"),Object(a.h)(e,"class","root svelte-dlqz4a"),Object(a.cb)(e,"loading",t[0])},m(l,u){Object(a.G)(l,e,u),Object(a.f)(e,c),Object(a.f)(e,n),Object(a.f)(e,b),Object(a.f)(b,s),Object(a.f)(b,O),Object(a.f)(b,j),Object(a.f)(j,o),Object(a.f)(o,i),Object(a.f)(o,d),Object(a.f)(o,r);for(let t=0;t<Wt.length;t+=1)Wt[t].m(r,null);Object(a.R)(r,t[2]),Object(a.f)(j,h),Object(a.f)(j,m),Object(a.f)(m,_),Object(a.f)(m,G),Object(a.f)(m,T),Tt.m(T,null),Object(a.R)(T,t[3]),Object(a.f)(j,w),Object(a.f)(j,C),wt&&wt.m(C,null),Object(a.f)(e,k),Object(a.f)(e,M),Object(a.f)(M,R),Object(a.f)(M,F),Object(a.f)(M,P),Object(a.f)(P,A),Object(a.f)(P,H),Object(a.J)(L,P,null),Object(a.f)(P,Y),Object(a.J)(E,P,null),Object(a.f)(M,K),Object(a.f)(M,N),Object(a.f)(N,Q),Object(a.f)(N,B),Object(a.f)(N,U);for(let t=0;t<Rt.length;t+=1)Rt[t].m(U,null);Object(a.R)(U,t[4]),Object(a.f)(N,X),Object(a.f)(N,Z),Object(a.f)(e,tt),Object(a.f)(e,et),Object(a.f)(et,ct),Object(a.f)(et,at),Object(a.f)(et,nt),bt.m(qt,nt),Object(a.f)(nt,lt),Object(a.f)(nt,st),Object(a.f)(et,Ot),Object(a.f)(et,jt),Object(a.f)(jt,ot),Object(a.f)(ot,it),Object(a.f)(jt,rt),Object(a.f)(jt,ut),Object(a.f)(ut,ht),Object(a.f)(jt,vt),Object(a.f)(jt,ft),Object(a.f)(ft,gt),Object(a.f)(et,yt),At&&At.m(et,null),_t=!0,Gt||($t=[Object(a.I)(r,"change",t[15]),Object(a.I)(T,"change",t[16]),Object(a.I)(U,"change",t[20]),Object(a.I)(ot,"click",t[21]),Object(a.I)(ut,"click",t[22]),Object(a.I)(ft,"click",t[23])],Gt=!0)},p(t,c){if(2&c[0]){let e;for(zt=t[1],e=0;e<zt.length;e+=1){const a=p(t,zt,e);Wt[e]?Wt[e].p(a,c):(Wt[e]=v(a),Wt[e].c(),Wt[e].m(r,null))}for(;e<Wt.length;e+=1)Wt[e].d(1);Wt.length=zt.length}6&c[0]&&Object(a.R)(r,t[2]),xt===(xt=St(t))&&Tt?Tt.p(t,c):(Tt.d(1),Tt=xt(t),Tt&&(Tt.c(),Tt.m(T,null))),1032&c[0]&&Object(a.R)(T,t[3]),t[11]?wt?(wt.p(t,c),2048&c[0]&&Object(a.db)(wt,1)):(wt=y(t),wt.c(),Object(a.db)(wt,1),wt.m(C,null)):wt&&(Object(a.C)(),Object(a.eb)(wt,1,1,()=>{wt=null}),Object(a.l)());const n={};1024&c[0]&&(n.start=t[10]?t[10].minTime:new Date),1056&c[0]&&(n.end=t[10]?D(t[5],t[10].maxTime):t[5]),64&c[0]&&(n.formattedSelected=t[12](t[6])),64&c[0]|64&c[1]&&(n.$$scope={dirty:c,ctx:t}),!V&&64&c[0]&&(V=!0,n.selected=t[6],Object(a.c)(()=>V=!1)),L.$set(n);const b={};if(1088&c[0]&&(b.start=t[10]?I(t[6],t[10].minTime):t[6]),1024&c[0]&&(b.end=t[10]?t[10].maxTime:new Date),32&c[0]&&(b.formattedSelected=t[12](t[5])),32&c[0]|64&c[1]&&(b.$$scope={dirty:c,ctx:t}),!J&&32&c[0]&&(J=!0,b.selected=t[5],Object(a.c)(()=>J=!1)),E.$set(b),1152&c[0]){let e;for(Mt=t[7],e=0;e<Mt.length;e+=1){const a=u(t,Mt,e);Rt[e]?Rt[e].p(a,c):(Rt[e]=z(a),Rt[e].c(),Rt[e].m(U,null))}for(;e<Rt.length;e+=1)Rt[e].d(1);Rt.length=Mt.length}144&c[0]&&Object(a.R)(U,t[4]),(!_t||2048&c[0])&&qt!==(qt=(t[11]&&t[11].entry?t[11].entry.credits:"")+"")&&bt.p(qt),(!_t||1176&c[0]&&dt!==(dt=!t[4]||!t[3]))&&(ot.disabled=dt),256&c[0]&&Object(a.cb)(ot,"selected","csv"===t[8]),(!_t||256&c[0]&&pt!==(pt=String("python"===t[8])))&&Object(a.h)(ut,"aria-pressed",pt),256&c[0]&&Object(a.cb)(ut,"selected","python"===t[8]),(!_t||256&c[0]&&mt!==(mt=String("r"===t[8])))&&Object(a.h)(ft,"aria-pressed",mt),256&c[0]&&Object(a.cb)(ft,"selected","r"===t[8]),Pt===(Pt=Ft(t))&&At?At.p(t,c):(At&&At.d(1),At=Pt&&Pt(t),At&&(At.c(),At.m(et,null))),1&c[0]&&Object(a.cb)(e,"loading",t[0])},i(t){_t||(Object(a.db)(wt),Object(a.db)(L.$$.fragment,t),Object(a.db)(E.$$.fragment,t),_t=!0)},o(t){Object(a.eb)(wt),Object(a.eb)(L.$$.fragment,t),Object(a.eb)(E.$$.fragment,t),_t=!1},d(t){t&&Object(a.u)(e),Object(a.t)(Wt,t),Tt.d(),wt&&wt.d(),Object(a.s)(L),Object(a.s)(E),Object(a.t)(Rt,t),At&&At.d(),Gt=!1,Object(a.P)($t)}}}const w="https://delphi.cmu.edu/csv",C="cases-deaths";function D(t,e){return t?e?t<e?t:e:t:e}function I(t,e){return t?e?t>e?t:e:t:e}function k(t,e,c){let l,r;Object(a.m)(t,j.G,t=>c(25,l=t)),Object(a.m)(t,j.q,t=>c(26,r=t));const u=Object(n.a)("%Y-%m-%d"),h={"doctor-visits":"Doctor Visits","fb-survey":"Delphi Survey Results",ght:"Google Search Trends","hospital-admissions":"Hospital Admissions",[C]:"Public Health Reports","indicator-combination":"COVID Indicator Combination",quidel:"Quidel Antigen Tests",safegraph:"SafeGraph Mobility Data"};let p=!0,v=[],f=null,g=null,m="county",y=l[1],_=o.a.offset(l[1],-1),G=[];const $=new Map(s.l);s.k.filter(t=>t.isCasesOrDeath).forEach(t=>{const e=(e,c)=>{const a={cumulative:e,ratio:c},n=t.casesOrDeathSignals[Object(s.i)(t,a)],b=t.mapTitleText(a),l="".concat(e?"Cumulative ":"").concat(t.name).concat(c?" (per 100,000 people)":"");$.set("".concat(t.id,"-").concat(n),{name:"".concat(l," (7-day average)"),tooltipText:b,wrappee:t});const O=t.casesOrDeathSignals[Object(s.i)(t,a).replace("avg","count")];$.set("".concat(t.id,"-").concat(O),{name:l,tooltipText:b.replace(" (7-day average) ",""),wrappee:t})};e(!1,!1),e(!1,!0),e(!0,!1),e(!0,!0)}),Object(b.b)(null,["min_time","max_time","signal","geo_type","data_source"],{time_types:"day"}).then(t=>{c(0,p=!1);const e=new Map,a=new Set;t.epidata.forEach(t=>{const c=t.data_source,n="".concat(c,":").concat(t.signal),b=$.get("".concat(c,"-").concat(t.signal));if(!b)return;const l=b.wrappee||b,s=l.isCasesOrDeath?C:c;e.has(s)||e.set(s,{id:s,name:h[s]||s,levels:new Set,minTime:Object(O.f)(t.min_time),maxTime:Object(O.f)(t.max_time),signals:[]});const j=e.get(s);a.add(t.geo_type),j.levels.add(t.geo_type),j.signals.every(t=>t.id!==n)&&j.signals.push({id:n,signal:t.signal,dataSource:t.data_source,entry:l,name:b?b.name:t.signal,description:b?b.tooltipText:"no description found"})}),c(1,v=Array.from(e.values()).sort((t,e)=>t.name.localeCompare(e.name))),c(2,f=r.isCasesOrDeath?C:r.id),c(3,g=r.signal),c(7,G=[...a].map(s.d)),c(4,m=r.levels[0])});let q="csv",z=null;Object(i.d)(()=>{z&&z.addEventListener("submit",()=>{Object(d.a)("export","download","signal=".concat(g,",start_day=").concat(u(_),",end_day=").concat(u(y),",geo_type=").concat(m))})});let W,S;return t.$$.update=()=>{6&t.$$.dirty[0]&&c(10,W=f?v.find(t=>t.id===f):null),1032&t.$$.dirty[0]&&W&&!W.signals.find(t=>t.id===g)&&c(3,g=W.signals[0].id),1032&t.$$.dirty[0]&&c(11,S=g&&W?W.signals.find(t=>t.id===g):null),1040&t.$$.dirty[0]&&W&&!W.levels.has(m)&&c(4,m=Array.from(W.levels)[0])},[p,v,f,g,m,y,_,G,q,z,W,S,u,function(e){Object(a.k)(t,e)},function(e){Object(a.k)(t,e)},function(){f=Object(a.S)(this),c(2,f),c(1,v)},function(){g=Object(a.S)(this),c(3,g),c(10,W),c(2,f),c(1,v),c(10,W),c(2,f),c(1,v)},()=>{j.j.set(S.entry)},function(t){_=t,c(6,_)},function(t){y=t,c(5,y)},function(){m=Object(a.S)(this),c(4,m),c(10,W),c(2,f),c(1,v),c(7,G)},()=>{c(8,q="csv")},()=>{c(8,q="python")},()=>{c(8,q="r")},function(t){a.j[t?"unshift":"push"](()=>{z=t,c(9,z)})}]}class M extends a.b{constructor(t){super(),Object(a.F)(this,t,k,T,a.Q,{},[-1,-1])}}e.default=M}}]);