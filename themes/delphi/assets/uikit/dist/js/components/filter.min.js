/*! UIkit 3.5.9 | https://www.getuikit.com | (c) 2014 - 2020 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitFilter=e(t.UIkit.util)}(this,function(h){"use strict";var c,l="uk-animation-target";function f(t,e){var i=h.css(t,"zIndex");return!!h.isVisible(t)&&h.assign({display:"",opacity:e?h.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===i?h.index(t):i},p(t))}function d(t){h.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),h.removeClass(t,l),h.css(t,{height:"",display:""})}function p(t){var e=h.offset(t),i=e.height,n=e.width,r=h.position(t);return{top:r.top,left:r.left,height:i,width:n}}var t={mixins:[{props:{animation:Number},data:{animation:150},methods:{animate:function(t,n){var i=this;void 0===n&&(n=this.$el),function(){if(c)return;(c=h.append(document.head,"<style>").sheet).insertRule("."+l+" > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        }",0)}();var r=h.children(n),a=r.map(function(t){return f(t,!0)}),e=h.height(n),o=window.pageYOffset;t(),h.Transition.cancel(n),r.forEach(h.Transition.cancel),d(n),this.$update(n,"resize"),h.fastdom.flush();var s=h.height(n),u=(r=r.concat(h.children(n).filter(function(t){return!h.includes(r,t)}))).map(function(t,e){return!!(t.parentNode&&e in a)&&(a[e]?h.isVisible(t)?p(t):{opacity:0}:{opacity:h.isVisible(t)?1:0})}),a=u.map(function(t,e){var i=r[e].parentNode===n&&(a[e]||f(r[e]));return i&&(t?"opacity"in t||(i.opacity%1?t.opacity=1:delete i.opacity):delete i.opacity),i});return h.addClass(n,l),r.forEach(function(t,e){return a[e]&&h.css(t,a[e])}),h.css(n,{height:e,display:"block"}),h.scrollTop(window,o),h.Promise.all(r.map(function(t,e){return["top","left","height","width"].some(function(t){return a[e][t]!==u[e][t]})&&h.Transition.start(t,u[e],i.animation,"ease")}).concat(e!==s&&h.Transition.start(n,{height:s},this.animation,"ease"))).then(function(){r.forEach(function(t,e){return h.css(t,{display:0===u[e].opacity?"none":"",zIndex:""})}),d(n),i.$update(n,"resize"),h.fastdom.flush()},h.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",animation:250},computed:{toggles:{get:function(t,e){t.attrItem;return h.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},watch:function(){var e,i=this;this.updateState(),!1!==this.selActive&&(e=h.$$(this.selActive,this.$el),this.toggles.forEach(function(t){return h.toggleClass(t,i.cls,h.includes(e,t))}))},immediate:!0},children:{get:function(t,e){var i=t.target;return h.$$(i+" > *",e)},watch:function(t,e){var i,n;n=e,(i=t).length===n.length&&i.every(function(t){return~n.indexOf(t)})||this.updateState()}}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply:function(t){this.setState(n(t,this.attrItem,this.getState()))},getState:function(){var i=this;return this.toggles.filter(function(t){return h.hasClass(t,i.cls)}).reduce(function(t,e){return n(e,i.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(i,n){var r=this;void 0===n&&(n=!0),i=h.assign({filter:{"":""},sort:[]},i),h.trigger(this.$el,"beforeFilter",[this,i]),this.toggles.forEach(function(t){return h.toggleClass(t,r.cls,!!function(t,e,i){var n=i.filter;void 0===n&&(n={"":""});var r=i.sort,a=r[0],o=r[1],s=m(t,e),u=s.filter;void 0===u&&(u="");var c=s.group;void 0===c&&(c="");var l=s.sort,f=s.order;void 0===f&&(f="asc");return h.isUndefined(l)?c in n&&u===n[c]||!u&&c&&!(c in n)&&!n[""]:a===l&&o===f}(t,r.attrItem,i))}),h.Promise.all(h.$$(this.target,this.$el).map(function(t){var e=h.children(t);return n?r.animate(function(){return a(i,t,e)},t):a(i,t,e)})).then(function(){return h.trigger(r.$el,"afterFilter",[r])})},updateState:function(){var t=this;h.fastdom.write(function(){return t.setState(t.getState(),!1)})}}};function m(t,e){return h.parseOptions(h.data(t,e),["filter"])}function a(t,e,i){var n,r,a=(n=t.filter,r="",h.each(n,function(t){return r+=t||""}),r);i.forEach(function(t){return h.css(t,"display",a&&!h.matches(t,a)?"none":"")});var o,s,u,c,l=t.sort,f=l[0],d=l[1];f&&(s=i,u=f,c=d,o=h.assign([],s).sort(function(t,e){return h.data(t,u).localeCompare(h.data(e,u),void 0,{numeric:!0})*("asc"===c||-1)}),h.isEqual(o,i)||h.append(e,o))}function n(t,e,i){var n=m(t,e),r=n.filter,a=n.group,o=n.sort,s=n.order;return void 0===s&&(s="asc"),(r||h.isUndefined(o))&&(a?r?(delete i.filter[""],i.filter[a]=r):(delete i.filter[a],(h.isEmpty(i.filter)||""in i.filter)&&(i.filter={"":r||""})):i.filter={"":r||""}),h.isUndefined(o)||(i.sort=[o,s]),i}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});